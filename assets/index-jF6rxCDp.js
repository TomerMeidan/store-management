function yS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function wc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var f0={exports:{}},Tc={},h0={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var al=Symbol.for("react.element"),vS=Symbol.for("react.portal"),_S=Symbol.for("react.fragment"),ES=Symbol.for("react.strict_mode"),wS=Symbol.for("react.profiler"),TS=Symbol.for("react.provider"),IS=Symbol.for("react.context"),SS=Symbol.for("react.forward_ref"),CS=Symbol.for("react.suspense"),xS=Symbol.for("react.memo"),PS=Symbol.for("react.lazy"),Ey=Symbol.iterator;function RS(e){return e===null||typeof e!="object"?null:(e=Ey&&e[Ey]||e["@@iterator"],typeof e=="function"?e:null)}var p0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m0=Object.assign,g0={};function go(e,t,n){this.props=e,this.context=t,this.refs=g0,this.updater=n||p0}go.prototype.isReactComponent={};go.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};go.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function y0(){}y0.prototype=go.prototype;function Xp(e,t,n){this.props=e,this.context=t,this.refs=g0,this.updater=n||p0}var Jp=Xp.prototype=new y0;Jp.constructor=Xp;m0(Jp,go.prototype);Jp.isPureReactComponent=!0;var wy=Array.isArray,v0=Object.prototype.hasOwnProperty,Zp={current:null},_0={key:!0,ref:!0,__self:!0,__source:!0};function E0(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)v0.call(t,r)&&!_0.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:al,type:e,key:s,ref:o,props:i,_owner:Zp.current}}function AS(e,t){return{$$typeof:al,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function em(e){return typeof e=="object"&&e!==null&&e.$$typeof===al}function DS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ty=/\/+/g;function qd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?DS(""+e.key):t.toString(36)}function au(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case al:case vS:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+qd(o,0):r,wy(i)?(n="",e!=null&&(n=e.replace(Ty,"$&/")+"/"),au(i,t,n,"",function(u){return u})):i!=null&&(em(i)&&(i=AS(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ty,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",wy(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+qd(s,a);o+=au(s,t,n,l,i)}else if(l=RS(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+qd(s,a++),o+=au(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function kl(e,t,n){if(e==null)return e;var r=[],i=0;return au(e,r,"","",function(s){return t.call(n,s,i++)}),r}function kS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tn={current:null},lu={transition:null},NS={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:lu,ReactCurrentOwner:Zp};de.Children={map:kl,forEach:function(e,t,n){kl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return kl(e,function(){t++}),t},toArray:function(e){return kl(e,function(t){return t})||[]},only:function(e){if(!em(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=go;de.Fragment=_S;de.Profiler=wS;de.PureComponent=Xp;de.StrictMode=ES;de.Suspense=CS;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NS;de.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=m0({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Zp.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)v0.call(t,l)&&!_0.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:al,type:e.type,key:i,ref:s,props:r,_owner:o}};de.createContext=function(e){return e={$$typeof:IS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:TS,_context:e},e.Consumer=e};de.createElement=E0;de.createFactory=function(e){var t=E0.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:SS,render:e}};de.isValidElement=em;de.lazy=function(e){return{$$typeof:PS,_payload:{_status:-1,_result:e},_init:kS}};de.memo=function(e,t){return{$$typeof:xS,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=lu.transition;lu.transition={};try{e()}finally{lu.transition=t}};de.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};de.useCallback=function(e,t){return tn.current.useCallback(e,t)};de.useContext=function(e){return tn.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return tn.current.useDeferredValue(e)};de.useEffect=function(e,t){return tn.current.useEffect(e,t)};de.useId=function(){return tn.current.useId()};de.useImperativeHandle=function(e,t,n){return tn.current.useImperativeHandle(e,t,n)};de.useInsertionEffect=function(e,t){return tn.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return tn.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return tn.current.useMemo(e,t)};de.useReducer=function(e,t,n){return tn.current.useReducer(e,t,n)};de.useRef=function(e){return tn.current.useRef(e)};de.useState=function(e){return tn.current.useState(e)};de.useSyncExternalStore=function(e,t,n){return tn.current.useSyncExternalStore(e,t,n)};de.useTransition=function(){return tn.current.useTransition()};de.version="18.2.0";h0.exports=de;var g=h0.exports;const S=wc(g),OS=yS({__proto__:null,default:S},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VS=g,bS=Symbol.for("react.element"),LS=Symbol.for("react.fragment"),MS=Object.prototype.hasOwnProperty,$S=VS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FS={key:!0,ref:!0,__self:!0,__source:!0};function w0(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)MS.call(t,r)&&!FS.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:bS,type:e,key:s,ref:o,props:i,_owner:$S.current}}Tc.Fragment=LS;Tc.jsx=w0;Tc.jsxs=w0;f0.exports=Tc;var w=f0.exports,Wf={},T0={exports:{}},xn={},I0={exports:{}},S0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,L){var B=R.length;R.push(L);e:for(;0<B;){var se=B-1>>>1,fe=R[se];if(0<i(fe,L))R[se]=L,R[B]=fe,B=se;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var L=R[0],B=R.pop();if(B!==L){R[0]=B;e:for(var se=0,fe=R.length,rt=fe>>>1;se<rt;){var ct=2*(se+1)-1,Kt=R[ct],je=ct+1,Ue=R[je];if(0>i(Kt,B))je<fe&&0>i(Ue,Kt)?(R[se]=Ue,R[je]=B,se=je):(R[se]=Kt,R[ct]=B,se=ct);else if(je<fe&&0>i(Ue,B))R[se]=Ue,R[je]=B,se=je;else break e}}return L}function i(R,L){var B=R.sortIndex-L.sortIndex;return B!==0?B:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,d=3,h=!1,y=!1,_=!1,T=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(R){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=R)r(u),L.sortIndex=L.expirationTime,t(l,L);else break;L=n(u)}}function I(R){if(_=!1,v(R),!y)if(n(l)!==null)y=!0,ae(C);else{var L=n(u);L!==null&&Pe(I,L.startTime-R)}}function C(R,L){y=!1,_&&(_=!1,m(N),N=-1),h=!0;var B=d;try{for(v(L),f=n(l);f!==null&&(!(f.expirationTime>L)||R&&!_e());){var se=f.callback;if(typeof se=="function"){f.callback=null,d=f.priorityLevel;var fe=se(f.expirationTime<=L);L=e.unstable_now(),typeof fe=="function"?f.callback=fe:f===n(l)&&r(l),v(L)}else r(l);f=n(l)}if(f!==null)var rt=!0;else{var ct=n(u);ct!==null&&Pe(I,ct.startTime-L),rt=!1}return rt}finally{f=null,d=B,h=!1}}var x=!1,D=null,N=-1,H=5,V=-1;function _e(){return!(e.unstable_now()-V<H)}function ne(){if(D!==null){var R=e.unstable_now();V=R;var L=!0;try{L=D(!0,R)}finally{L?ke():(x=!1,D=null)}}else x=!1}var ke;if(typeof p=="function")ke=function(){p(ne)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,re=q.port2;q.port1.onmessage=ne,ke=function(){re.postMessage(null)}}else ke=function(){T(ne,0)};function ae(R){D=R,x||(x=!0,ke())}function Pe(R,L){N=T(function(){R(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){y||h||(y=!0,ae(C))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(R){switch(d){case 1:case 2:case 3:var L=3;break;default:L=d}var B=d;d=L;try{return R()}finally{d=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var B=d;d=R;try{return L()}finally{d=B}},e.unstable_scheduleCallback=function(R,L,B){var se=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?se+B:se):B=se,R){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=B+fe,R={id:c++,callback:L,priorityLevel:R,startTime:B,expirationTime:fe,sortIndex:-1},B>se?(R.sortIndex=B,t(u,R),n(l)===null&&R===n(u)&&(_?(m(N),N=-1):_=!0,Pe(I,B-se))):(R.sortIndex=fe,t(l,R),y||h||(y=!0,ae(C))),R},e.unstable_shouldYield=_e,e.unstable_wrapCallback=function(R){var L=d;return function(){var B=d;d=L;try{return R.apply(this,arguments)}finally{d=B}}}})(S0);I0.exports=S0;var jS=I0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0=g,Sn=jS;function k(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var x0=new Set,va={};function ss(e,t){Gs(e,t),Gs(e+"Capture",t)}function Gs(e,t){for(va[e]=t,e=0;e<t.length;e++)x0.add(t[e])}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kf=Object.prototype.hasOwnProperty,US=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Iy={},Sy={};function BS(e){return Kf.call(Sy,e)?!0:Kf.call(Iy,e)?!1:US.test(e)?Sy[e]=!0:(Iy[e]=!0,!1)}function zS(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function WS(e,t,n,r){if(t===null||typeof t>"u"||zS(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nn(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Vt[e]=new nn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Vt[t]=new nn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Vt[e]=new nn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Vt[e]=new nn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Vt[e]=new nn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Vt[e]=new nn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Vt[e]=new nn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Vt[e]=new nn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Vt[e]=new nn(e,5,!1,e.toLowerCase(),null,!1,!1)});var tm=/[\-:]([a-z])/g;function nm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(tm,nm);Vt[t]=new nn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(tm,nm);Vt[t]=new nn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(tm,nm);Vt[t]=new nn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Vt[e]=new nn(e,1,!1,e.toLowerCase(),null,!1,!1)});Vt.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Vt[e]=new nn(e,1,!1,e.toLowerCase(),null,!0,!0)});function rm(e,t,n,r){var i=Vt.hasOwnProperty(t)?Vt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(WS(t,n,i,r)&&(n=null),r||i===null?BS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Nr=C0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nl=Symbol.for("react.element"),Is=Symbol.for("react.portal"),Ss=Symbol.for("react.fragment"),im=Symbol.for("react.strict_mode"),Hf=Symbol.for("react.profiler"),P0=Symbol.for("react.provider"),R0=Symbol.for("react.context"),sm=Symbol.for("react.forward_ref"),qf=Symbol.for("react.suspense"),Qf=Symbol.for("react.suspense_list"),om=Symbol.for("react.memo"),Fr=Symbol.for("react.lazy"),A0=Symbol.for("react.offscreen"),Cy=Symbol.iterator;function Vo(e){return e===null||typeof e!="object"?null:(e=Cy&&e[Cy]||e["@@iterator"],typeof e=="function"?e:null)}var Ye=Object.assign,Qd;function Ko(e){if(Qd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qd=t&&t[1]||""}return`
`+Qd+e}var Gd=!1;function Yd(e,t){if(!e||Gd)return"";Gd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Gd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ko(e):""}function KS(e){switch(e.tag){case 5:return Ko(e.type);case 16:return Ko("Lazy");case 13:return Ko("Suspense");case 19:return Ko("SuspenseList");case 0:case 2:case 15:return e=Yd(e.type,!1),e;case 11:return e=Yd(e.type.render,!1),e;case 1:return e=Yd(e.type,!0),e;default:return""}}function Gf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ss:return"Fragment";case Is:return"Portal";case Hf:return"Profiler";case im:return"StrictMode";case qf:return"Suspense";case Qf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case R0:return(e.displayName||"Context")+".Consumer";case P0:return(e._context.displayName||"Context")+".Provider";case sm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case om:return t=e.displayName||null,t!==null?t:Gf(e.type)||"Memo";case Fr:t=e._payload,e=e._init;try{return Gf(e(t))}catch{}}return null}function HS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gf(t);case 8:return t===im?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ui(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function D0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qS(e){var t=D0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ol(e){e._valueTracker||(e._valueTracker=qS(e))}function k0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=D0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Su(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yf(e,t){var n=t.checked;return Ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function xy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ui(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function N0(e,t){t=t.checked,t!=null&&rm(e,"checked",t,!1)}function Xf(e,t){N0(e,t);var n=ui(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Jf(e,t.type,n):t.hasOwnProperty("defaultValue")&&Jf(e,t.type,ui(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Py(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Jf(e,t,n){(t!=="number"||Su(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ho=Array.isArray;function Fs(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ui(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Zf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(k(91));return Ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ry(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(k(92));if(Ho(n)){if(1<n.length)throw Error(k(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ui(n)}}function O0(e,t){var n=ui(t.value),r=ui(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ay(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function V0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?V0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vl,b0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vl=Vl||document.createElement("div"),Vl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _a(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QS=["Webkit","ms","Moz","O"];Object.keys(na).forEach(function(e){QS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),na[t]=na[e]})});function L0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||na.hasOwnProperty(e)&&na[e]?(""+t).trim():t+"px"}function M0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=L0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var GS=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function th(e,t){if(t){if(GS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(k(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(k(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(k(61))}if(t.style!=null&&typeof t.style!="object")throw Error(k(62))}}function nh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rh=null;function am(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ih=null,js=null,Us=null;function Dy(e){if(e=cl(e)){if(typeof ih!="function")throw Error(k(280));var t=e.stateNode;t&&(t=Pc(t),ih(e.stateNode,e.type,t))}}function $0(e){js?Us?Us.push(e):Us=[e]:js=e}function F0(){if(js){var e=js,t=Us;if(Us=js=null,Dy(e),t)for(e=0;e<t.length;e++)Dy(t[e])}}function j0(e,t){return e(t)}function U0(){}var Xd=!1;function B0(e,t,n){if(Xd)return e(t,n);Xd=!0;try{return j0(e,t,n)}finally{Xd=!1,(js!==null||Us!==null)&&(U0(),F0())}}function Ea(e,t){var n=e.stateNode;if(n===null)return null;var r=Pc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(k(231,t,typeof n));return n}var sh=!1;if(Cr)try{var bo={};Object.defineProperty(bo,"passive",{get:function(){sh=!0}}),window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{sh=!1}function YS(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ra=!1,Cu=null,xu=!1,oh=null,XS={onError:function(e){ra=!0,Cu=e}};function JS(e,t,n,r,i,s,o,a,l){ra=!1,Cu=null,YS.apply(XS,arguments)}function ZS(e,t,n,r,i,s,o,a,l){if(JS.apply(this,arguments),ra){if(ra){var u=Cu;ra=!1,Cu=null}else throw Error(k(198));xu||(xu=!0,oh=u)}}function os(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function z0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ky(e){if(os(e)!==e)throw Error(k(188))}function eC(e){var t=e.alternate;if(!t){if(t=os(e),t===null)throw Error(k(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ky(i),e;if(s===r)return ky(i),t;s=s.sibling}throw Error(k(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?e:t}function W0(e){return e=eC(e),e!==null?K0(e):null}function K0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=K0(e);if(t!==null)return t;e=e.sibling}return null}var H0=Sn.unstable_scheduleCallback,Ny=Sn.unstable_cancelCallback,tC=Sn.unstable_shouldYield,nC=Sn.unstable_requestPaint,nt=Sn.unstable_now,rC=Sn.unstable_getCurrentPriorityLevel,lm=Sn.unstable_ImmediatePriority,q0=Sn.unstable_UserBlockingPriority,Pu=Sn.unstable_NormalPriority,iC=Sn.unstable_LowPriority,Q0=Sn.unstable_IdlePriority,Ic=null,cr=null;function sC(e){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(Ic,e,void 0,(e.current.flags&128)===128)}catch{}}var Gn=Math.clz32?Math.clz32:lC,oC=Math.log,aC=Math.LN2;function lC(e){return e>>>=0,e===0?32:31-(oC(e)/aC|0)|0}var bl=64,Ll=4194304;function qo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ru(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=qo(a):(s&=o,s!==0&&(r=qo(s)))}else o=n&~i,o!==0?r=qo(o):s!==0&&(r=qo(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Gn(t),i=1<<n,r|=e[n],t&=~i;return r}function uC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cC(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Gn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=uC(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function ah(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function G0(){var e=bl;return bl<<=1,!(bl&4194240)&&(bl=64),e}function Jd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ll(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gn(t),e[t]=n}function dC(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Gn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function um(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Gn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Se=0;function Y0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var X0,cm,J0,Z0,eE,lh=!1,Ml=[],Gr=null,Yr=null,Xr=null,wa=new Map,Ta=new Map,zr=[],fC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oy(e,t){switch(e){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":wa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ta.delete(t.pointerId)}}function Lo(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=cl(t),t!==null&&cm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function hC(e,t,n,r,i){switch(t){case"focusin":return Gr=Lo(Gr,e,t,n,r,i),!0;case"dragenter":return Yr=Lo(Yr,e,t,n,r,i),!0;case"mouseover":return Xr=Lo(Xr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return wa.set(s,Lo(wa.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ta.set(s,Lo(Ta.get(s)||null,e,t,n,r,i)),!0}return!1}function tE(e){var t=Oi(e.target);if(t!==null){var n=os(t);if(n!==null){if(t=n.tag,t===13){if(t=z0(n),t!==null){e.blockedOn=t,eE(e.priority,function(){J0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=uh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);rh=r,n.target.dispatchEvent(r),rh=null}else return t=cl(n),t!==null&&cm(t),e.blockedOn=n,!1;t.shift()}return!0}function Vy(e,t,n){uu(e)&&n.delete(t)}function pC(){lh=!1,Gr!==null&&uu(Gr)&&(Gr=null),Yr!==null&&uu(Yr)&&(Yr=null),Xr!==null&&uu(Xr)&&(Xr=null),wa.forEach(Vy),Ta.forEach(Vy)}function Mo(e,t){e.blockedOn===t&&(e.blockedOn=null,lh||(lh=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,pC)))}function Ia(e){function t(i){return Mo(i,e)}if(0<Ml.length){Mo(Ml[0],e);for(var n=1;n<Ml.length;n++){var r=Ml[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Gr!==null&&Mo(Gr,e),Yr!==null&&Mo(Yr,e),Xr!==null&&Mo(Xr,e),wa.forEach(t),Ta.forEach(t),n=0;n<zr.length;n++)r=zr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<zr.length&&(n=zr[0],n.blockedOn===null);)tE(n),n.blockedOn===null&&zr.shift()}var Bs=Nr.ReactCurrentBatchConfig,Au=!0;function mC(e,t,n,r){var i=Se,s=Bs.transition;Bs.transition=null;try{Se=1,dm(e,t,n,r)}finally{Se=i,Bs.transition=s}}function gC(e,t,n,r){var i=Se,s=Bs.transition;Bs.transition=null;try{Se=4,dm(e,t,n,r)}finally{Se=i,Bs.transition=s}}function dm(e,t,n,r){if(Au){var i=uh(e,t,n,r);if(i===null)uf(e,t,r,Du,n),Oy(e,r);else if(hC(i,e,t,n,r))r.stopPropagation();else if(Oy(e,r),t&4&&-1<fC.indexOf(e)){for(;i!==null;){var s=cl(i);if(s!==null&&X0(s),s=uh(e,t,n,r),s===null&&uf(e,t,r,Du,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else uf(e,t,r,null,n)}}var Du=null;function uh(e,t,n,r){if(Du=null,e=am(r),e=Oi(e),e!==null)if(t=os(e),t===null)e=null;else if(n=t.tag,n===13){if(e=z0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Du=e,null}function nE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rC()){case lm:return 1;case q0:return 4;case Pu:case iC:return 16;case Q0:return 536870912;default:return 16}default:return 16}}var Kr=null,fm=null,cu=null;function rE(){if(cu)return cu;var e,t=fm,n=t.length,r,i="value"in Kr?Kr.value:Kr.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return cu=i.slice(e,1<r?1-r:void 0)}function du(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $l(){return!0}function by(){return!1}function Pn(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$l:by,this.isPropagationStopped=by,this}return Ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$l)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$l)},persist:function(){},isPersistent:$l}),t}var yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hm=Pn(yo),ul=Ye({},yo,{view:0,detail:0}),yC=Pn(ul),Zd,ef,$o,Sc=Ye({},ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$o&&($o&&e.type==="mousemove"?(Zd=e.screenX-$o.screenX,ef=e.screenY-$o.screenY):ef=Zd=0,$o=e),Zd)},movementY:function(e){return"movementY"in e?e.movementY:ef}}),Ly=Pn(Sc),vC=Ye({},Sc,{dataTransfer:0}),_C=Pn(vC),EC=Ye({},ul,{relatedTarget:0}),tf=Pn(EC),wC=Ye({},yo,{animationName:0,elapsedTime:0,pseudoElement:0}),TC=Pn(wC),IC=Ye({},yo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),SC=Pn(IC),CC=Ye({},yo,{data:0}),My=Pn(CC),xC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=RC[e])?!!t[e]:!1}function pm(){return AC}var DC=Ye({},ul,{key:function(e){if(e.key){var t=xC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=du(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?PC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pm,charCode:function(e){return e.type==="keypress"?du(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?du(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kC=Pn(DC),NC=Ye({},Sc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$y=Pn(NC),OC=Ye({},ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pm}),VC=Pn(OC),bC=Ye({},yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),LC=Pn(bC),MC=Ye({},Sc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$C=Pn(MC),FC=[9,13,27,32],mm=Cr&&"CompositionEvent"in window,ia=null;Cr&&"documentMode"in document&&(ia=document.documentMode);var jC=Cr&&"TextEvent"in window&&!ia,iE=Cr&&(!mm||ia&&8<ia&&11>=ia),Fy=" ",jy=!1;function sE(e,t){switch(e){case"keyup":return FC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cs=!1;function UC(e,t){switch(e){case"compositionend":return oE(t);case"keypress":return t.which!==32?null:(jy=!0,Fy);case"textInput":return e=t.data,e===Fy&&jy?null:e;default:return null}}function BC(e,t){if(Cs)return e==="compositionend"||!mm&&sE(e,t)?(e=rE(),cu=fm=Kr=null,Cs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iE&&t.locale!=="ko"?null:t.data;default:return null}}var zC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zC[e.type]:t==="textarea"}function aE(e,t,n,r){$0(r),t=ku(t,"onChange"),0<t.length&&(n=new hm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var sa=null,Sa=null;function WC(e){vE(e,0)}function Cc(e){var t=Rs(e);if(k0(t))return e}function KC(e,t){if(e==="change")return t}var lE=!1;if(Cr){var nf;if(Cr){var rf="oninput"in document;if(!rf){var By=document.createElement("div");By.setAttribute("oninput","return;"),rf=typeof By.oninput=="function"}nf=rf}else nf=!1;lE=nf&&(!document.documentMode||9<document.documentMode)}function zy(){sa&&(sa.detachEvent("onpropertychange",uE),Sa=sa=null)}function uE(e){if(e.propertyName==="value"&&Cc(Sa)){var t=[];aE(t,Sa,e,am(e)),B0(WC,t)}}function HC(e,t,n){e==="focusin"?(zy(),sa=t,Sa=n,sa.attachEvent("onpropertychange",uE)):e==="focusout"&&zy()}function qC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cc(Sa)}function QC(e,t){if(e==="click")return Cc(t)}function GC(e,t){if(e==="input"||e==="change")return Cc(t)}function YC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zn=typeof Object.is=="function"?Object.is:YC;function Ca(e,t){if(Zn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Kf.call(t,i)||!Zn(e[i],t[i]))return!1}return!0}function Wy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ky(e,t){var n=Wy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wy(n)}}function cE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dE(){for(var e=window,t=Su();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Su(e.document)}return t}function gm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function XC(e){var t=dE(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cE(n.ownerDocument.documentElement,n)){if(r!==null&&gm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Ky(n,s);var o=Ky(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var JC=Cr&&"documentMode"in document&&11>=document.documentMode,xs=null,ch=null,oa=null,dh=!1;function Hy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dh||xs==null||xs!==Su(r)||(r=xs,"selectionStart"in r&&gm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),oa&&Ca(oa,r)||(oa=r,r=ku(ch,"onSelect"),0<r.length&&(t=new hm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xs)))}function Fl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ps={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionend:Fl("Transition","TransitionEnd")},sf={},fE={};Cr&&(fE=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function xc(e){if(sf[e])return sf[e];if(!Ps[e])return e;var t=Ps[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in fE)return sf[e]=t[n];return e}var hE=xc("animationend"),pE=xc("animationiteration"),mE=xc("animationstart"),gE=xc("transitionend"),yE=new Map,qy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yi(e,t){yE.set(e,t),ss(t,[e])}for(var of=0;of<qy.length;of++){var af=qy[of],ZC=af.toLowerCase(),ex=af[0].toUpperCase()+af.slice(1);yi(ZC,"on"+ex)}yi(hE,"onAnimationEnd");yi(pE,"onAnimationIteration");yi(mE,"onAnimationStart");yi("dblclick","onDoubleClick");yi("focusin","onFocus");yi("focusout","onBlur");yi(gE,"onTransitionEnd");Gs("onMouseEnter",["mouseout","mouseover"]);Gs("onMouseLeave",["mouseout","mouseover"]);Gs("onPointerEnter",["pointerout","pointerover"]);Gs("onPointerLeave",["pointerout","pointerover"]);ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qo));function Qy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ZS(r,t,void 0,e),e.currentTarget=null}function vE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Qy(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Qy(i,a,u),s=l}}}if(xu)throw e=oh,xu=!1,oh=null,e}function Le(e,t){var n=t[gh];n===void 0&&(n=t[gh]=new Set);var r=e+"__bubble";n.has(r)||(_E(t,e,2,!1),n.add(r))}function lf(e,t,n){var r=0;t&&(r|=4),_E(n,e,r,t)}var jl="_reactListening"+Math.random().toString(36).slice(2);function xa(e){if(!e[jl]){e[jl]=!0,x0.forEach(function(n){n!=="selectionchange"&&(tx.has(n)||lf(n,!1,e),lf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jl]||(t[jl]=!0,lf("selectionchange",!1,t))}}function _E(e,t,n,r){switch(nE(t)){case 1:var i=mC;break;case 4:i=gC;break;default:i=dm}n=i.bind(null,t,n,e),i=void 0,!sh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function uf(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Oi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}B0(function(){var u=s,c=am(n),f=[];e:{var d=yE.get(e);if(d!==void 0){var h=hm,y=e;switch(e){case"keypress":if(du(n)===0)break e;case"keydown":case"keyup":h=kC;break;case"focusin":y="focus",h=tf;break;case"focusout":y="blur",h=tf;break;case"beforeblur":case"afterblur":h=tf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Ly;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=_C;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=VC;break;case hE:case pE:case mE:h=TC;break;case gE:h=LC;break;case"scroll":h=yC;break;case"wheel":h=$C;break;case"copy":case"cut":case"paste":h=SC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=$y}var _=(t&4)!==0,T=!_&&e==="scroll",m=_?d!==null?d+"Capture":null:d;_=[];for(var p=u,v;p!==null;){v=p;var I=v.stateNode;if(v.tag===5&&I!==null&&(v=I,m!==null&&(I=Ea(p,m),I!=null&&_.push(Pa(p,I,v)))),T)break;p=p.return}0<_.length&&(d=new h(d,y,null,n,c),f.push({event:d,listeners:_}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==rh&&(y=n.relatedTarget||n.fromElement)&&(Oi(y)||y[xr]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(y=n.relatedTarget||n.toElement,h=u,y=y?Oi(y):null,y!==null&&(T=os(y),y!==T||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=u),h!==y)){if(_=Ly,I="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(_=$y,I="onPointerLeave",m="onPointerEnter",p="pointer"),T=h==null?d:Rs(h),v=y==null?d:Rs(y),d=new _(I,p+"leave",h,n,c),d.target=T,d.relatedTarget=v,I=null,Oi(c)===u&&(_=new _(m,p+"enter",y,n,c),_.target=v,_.relatedTarget=T,I=_),T=I,h&&y)t:{for(_=h,m=y,p=0,v=_;v;v=gs(v))p++;for(v=0,I=m;I;I=gs(I))v++;for(;0<p-v;)_=gs(_),p--;for(;0<v-p;)m=gs(m),v--;for(;p--;){if(_===m||m!==null&&_===m.alternate)break t;_=gs(_),m=gs(m)}_=null}else _=null;h!==null&&Gy(f,d,h,_,!1),y!==null&&T!==null&&Gy(f,T,y,_,!0)}}e:{if(d=u?Rs(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var C=KC;else if(Uy(d))if(lE)C=GC;else{C=qC;var x=HC}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=QC);if(C&&(C=C(e,u))){aE(f,C,n,c);break e}x&&x(e,d,u),e==="focusout"&&(x=d._wrapperState)&&x.controlled&&d.type==="number"&&Jf(d,"number",d.value)}switch(x=u?Rs(u):window,e){case"focusin":(Uy(x)||x.contentEditable==="true")&&(xs=x,ch=u,oa=null);break;case"focusout":oa=ch=xs=null;break;case"mousedown":dh=!0;break;case"contextmenu":case"mouseup":case"dragend":dh=!1,Hy(f,n,c);break;case"selectionchange":if(JC)break;case"keydown":case"keyup":Hy(f,n,c)}var D;if(mm)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Cs?sE(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(iE&&n.locale!=="ko"&&(Cs||N!=="onCompositionStart"?N==="onCompositionEnd"&&Cs&&(D=rE()):(Kr=c,fm="value"in Kr?Kr.value:Kr.textContent,Cs=!0)),x=ku(u,N),0<x.length&&(N=new My(N,e,null,n,c),f.push({event:N,listeners:x}),D?N.data=D:(D=oE(n),D!==null&&(N.data=D)))),(D=jC?UC(e,n):BC(e,n))&&(u=ku(u,"onBeforeInput"),0<u.length&&(c=new My("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=D))}vE(f,t)})}function Pa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ku(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ea(e,n),s!=null&&r.unshift(Pa(e,s,i)),s=Ea(e,t),s!=null&&r.push(Pa(e,s,i))),e=e.return}return r}function gs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gy(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ea(n,s),l!=null&&o.unshift(Pa(n,l,a))):i||(l=Ea(n,s),l!=null&&o.push(Pa(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var nx=/\r\n?/g,rx=/\u0000|\uFFFD/g;function Yy(e){return(typeof e=="string"?e:""+e).replace(nx,`
`).replace(rx,"")}function Ul(e,t,n){if(t=Yy(t),Yy(e)!==t&&n)throw Error(k(425))}function Nu(){}var fh=null,hh=null;function ph(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mh=typeof setTimeout=="function"?setTimeout:void 0,ix=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,sx=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(e){return Xy.resolve(null).then(e).catch(ox)}:mh;function ox(e){setTimeout(function(){throw e})}function cf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ia(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ia(t)}function Jr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Jy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var vo=Math.random().toString(36).slice(2),or="__reactFiber$"+vo,Ra="__reactProps$"+vo,xr="__reactContainer$"+vo,gh="__reactEvents$"+vo,ax="__reactListeners$"+vo,lx="__reactHandles$"+vo;function Oi(e){var t=e[or];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xr]||n[or]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Jy(e);e!==null;){if(n=e[or])return n;e=Jy(e)}return t}e=n,n=e.parentNode}return null}function cl(e){return e=e[or]||e[xr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(k(33))}function Pc(e){return e[Ra]||null}var yh=[],As=-1;function vi(e){return{current:e}}function Fe(e){0>As||(e.current=yh[As],yh[As]=null,As--)}function Ve(e,t){As++,yh[As]=e.current,e.current=t}var ci={},zt=vi(ci),un=vi(!1),Wi=ci;function Ys(e,t){var n=e.type.contextTypes;if(!n)return ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function cn(e){return e=e.childContextTypes,e!=null}function Ou(){Fe(un),Fe(zt)}function Zy(e,t,n){if(zt.current!==ci)throw Error(k(168));Ve(zt,t),Ve(un,n)}function EE(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(k(108,HS(e)||"Unknown",i));return Ye({},n,r)}function Vu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ci,Wi=zt.current,Ve(zt,e),Ve(un,un.current),!0}function ev(e,t,n){var r=e.stateNode;if(!r)throw Error(k(169));n?(e=EE(e,t,Wi),r.__reactInternalMemoizedMergedChildContext=e,Fe(un),Fe(zt),Ve(zt,e)):Fe(un),Ve(un,n)}var vr=null,Rc=!1,df=!1;function wE(e){vr===null?vr=[e]:vr.push(e)}function ux(e){Rc=!0,wE(e)}function _i(){if(!df&&vr!==null){df=!0;var e=0,t=Se;try{var n=vr;for(Se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}vr=null,Rc=!1}catch(i){throw vr!==null&&(vr=vr.slice(e+1)),H0(lm,_i),i}finally{Se=t,df=!1}}return null}var Ds=[],ks=0,bu=null,Lu=0,Nn=[],On=0,Ki=null,_r=1,Er="";function Ai(e,t){Ds[ks++]=Lu,Ds[ks++]=bu,bu=e,Lu=t}function TE(e,t,n){Nn[On++]=_r,Nn[On++]=Er,Nn[On++]=Ki,Ki=e;var r=_r;e=Er;var i=32-Gn(r)-1;r&=~(1<<i),n+=1;var s=32-Gn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,_r=1<<32-Gn(t)+i|n<<i|r,Er=s+e}else _r=1<<s|n<<i|r,Er=e}function ym(e){e.return!==null&&(Ai(e,1),TE(e,1,0))}function vm(e){for(;e===bu;)bu=Ds[--ks],Ds[ks]=null,Lu=Ds[--ks],Ds[ks]=null;for(;e===Ki;)Ki=Nn[--On],Nn[On]=null,Er=Nn[--On],Nn[On]=null,_r=Nn[--On],Nn[On]=null}var wn=null,_n=null,He=!1,Qn=null;function IE(e,t){var n=bn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function tv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wn=e,_n=Jr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wn=e,_n=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ki!==null?{id:_r,overflow:Er}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=bn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,wn=e,_n=null,!0):!1;default:return!1}}function vh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _h(e){if(He){var t=_n;if(t){var n=t;if(!tv(e,t)){if(vh(e))throw Error(k(418));t=Jr(n.nextSibling);var r=wn;t&&tv(e,t)?IE(r,n):(e.flags=e.flags&-4097|2,He=!1,wn=e)}}else{if(vh(e))throw Error(k(418));e.flags=e.flags&-4097|2,He=!1,wn=e}}}function nv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wn=e}function Bl(e){if(e!==wn)return!1;if(!He)return nv(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ph(e.type,e.memoizedProps)),t&&(t=_n)){if(vh(e))throw SE(),Error(k(418));for(;t;)IE(e,t),t=Jr(t.nextSibling)}if(nv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){_n=Jr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}_n=null}}else _n=wn?Jr(e.stateNode.nextSibling):null;return!0}function SE(){for(var e=_n;e;)e=Jr(e.nextSibling)}function Xs(){_n=wn=null,He=!1}function _m(e){Qn===null?Qn=[e]:Qn.push(e)}var cx=Nr.ReactCurrentBatchConfig;function Hn(e,t){if(e&&e.defaultProps){t=Ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Mu=vi(null),$u=null,Ns=null,Em=null;function wm(){Em=Ns=$u=null}function Tm(e){var t=Mu.current;Fe(Mu),e._currentValue=t}function Eh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function zs(e,t){$u=e,Em=Ns=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ln=!0),e.firstContext=null)}function Fn(e){var t=e._currentValue;if(Em!==e)if(e={context:e,memoizedValue:t,next:null},Ns===null){if($u===null)throw Error(k(308));Ns=e,$u.dependencies={lanes:0,firstContext:e}}else Ns=Ns.next=e;return t}var Vi=null;function Im(e){Vi===null?Vi=[e]:Vi.push(e)}function CE(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Im(t)):(n.next=i.next,i.next=n),t.interleaved=n,Pr(e,r)}function Pr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var jr=!1;function Sm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Pr(e,n)}return i=r.interleaved,i===null?(t.next=t,Im(r)):(t.next=i.next,i.next=t),r.interleaved=t,Pr(e,n)}function fu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,um(e,n)}}function rv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fu(e,t,n,r){var i=e.updateQueue;jr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,_=a;switch(d=t,h=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){f=y.call(h,f,d);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,d=typeof y=="function"?y.call(h,f,d):y,d==null)break e;f=Ye({},f,d);break e;case 2:jr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);qi|=o,e.lanes=o,e.memoizedState=f}}function iv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(k(191,i));i.call(r)}}}var PE=new C0.Component().refs;function wh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ac={isMounted:function(e){return(e=e._reactInternals)?os(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zt(),i=ti(e),s=Tr(r,i);s.payload=t,n!=null&&(s.callback=n),t=Zr(e,s,i),t!==null&&(Yn(t,e,i,r),fu(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zt(),i=ti(e),s=Tr(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Zr(e,s,i),t!==null&&(Yn(t,e,i,r),fu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zt(),r=ti(e),i=Tr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Zr(e,i,r),t!==null&&(Yn(t,e,r,n),fu(t,e,r))}};function sv(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Ca(n,r)||!Ca(i,s):!0}function RE(e,t,n){var r=!1,i=ci,s=t.contextType;return typeof s=="object"&&s!==null?s=Fn(s):(i=cn(t)?Wi:zt.current,r=t.contextTypes,s=(r=r!=null)?Ys(e,i):ci),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ac,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ov(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ac.enqueueReplaceState(t,t.state,null)}function Th(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=PE,Sm(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Fn(s):(s=cn(t)?Wi:zt.current,i.context=Ys(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(wh(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ac.enqueueReplaceState(i,i.state,null),Fu(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Fo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===PE&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,e))}return e}function zl(e,t){throw e=Object.prototype.toString.call(t),Error(k(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function av(e){var t=e._init;return t(e._payload)}function AE(e){function t(m,p){if(e){var v=m.deletions;v===null?(m.deletions=[p],m.flags|=16):v.push(p)}}function n(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=ni(m,p),m.index=0,m.sibling=null,m}function s(m,p,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<p?(m.flags|=2,p):v):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,p,v,I){return p===null||p.tag!==6?(p=vf(v,m.mode,I),p.return=m,p):(p=i(p,v),p.return=m,p)}function l(m,p,v,I){var C=v.type;return C===Ss?c(m,p,v.props.children,I,v.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Fr&&av(C)===p.type)?(I=i(p,v.props),I.ref=Fo(m,p,v),I.return=m,I):(I=vu(v.type,v.key,v.props,null,m.mode,I),I.ref=Fo(m,p,v),I.return=m,I)}function u(m,p,v,I){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=_f(v,m.mode,I),p.return=m,p):(p=i(p,v.children||[]),p.return=m,p)}function c(m,p,v,I,C){return p===null||p.tag!==7?(p=ji(v,m.mode,I,C),p.return=m,p):(p=i(p,v),p.return=m,p)}function f(m,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=vf(""+p,m.mode,v),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Nl:return v=vu(p.type,p.key,p.props,null,m.mode,v),v.ref=Fo(m,null,p),v.return=m,v;case Is:return p=_f(p,m.mode,v),p.return=m,p;case Fr:var I=p._init;return f(m,I(p._payload),v)}if(Ho(p)||Vo(p))return p=ji(p,m.mode,v,null),p.return=m,p;zl(m,p)}return null}function d(m,p,v,I){var C=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:a(m,p,""+v,I);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Nl:return v.key===C?l(m,p,v,I):null;case Is:return v.key===C?u(m,p,v,I):null;case Fr:return C=v._init,d(m,p,C(v._payload),I)}if(Ho(v)||Vo(v))return C!==null?null:c(m,p,v,I,null);zl(m,v)}return null}function h(m,p,v,I,C){if(typeof I=="string"&&I!==""||typeof I=="number")return m=m.get(v)||null,a(p,m,""+I,C);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Nl:return m=m.get(I.key===null?v:I.key)||null,l(p,m,I,C);case Is:return m=m.get(I.key===null?v:I.key)||null,u(p,m,I,C);case Fr:var x=I._init;return h(m,p,v,x(I._payload),C)}if(Ho(I)||Vo(I))return m=m.get(v)||null,c(p,m,I,C,null);zl(p,I)}return null}function y(m,p,v,I){for(var C=null,x=null,D=p,N=p=0,H=null;D!==null&&N<v.length;N++){D.index>N?(H=D,D=null):H=D.sibling;var V=d(m,D,v[N],I);if(V===null){D===null&&(D=H);break}e&&D&&V.alternate===null&&t(m,D),p=s(V,p,N),x===null?C=V:x.sibling=V,x=V,D=H}if(N===v.length)return n(m,D),He&&Ai(m,N),C;if(D===null){for(;N<v.length;N++)D=f(m,v[N],I),D!==null&&(p=s(D,p,N),x===null?C=D:x.sibling=D,x=D);return He&&Ai(m,N),C}for(D=r(m,D);N<v.length;N++)H=h(D,m,N,v[N],I),H!==null&&(e&&H.alternate!==null&&D.delete(H.key===null?N:H.key),p=s(H,p,N),x===null?C=H:x.sibling=H,x=H);return e&&D.forEach(function(_e){return t(m,_e)}),He&&Ai(m,N),C}function _(m,p,v,I){var C=Vo(v);if(typeof C!="function")throw Error(k(150));if(v=C.call(v),v==null)throw Error(k(151));for(var x=C=null,D=p,N=p=0,H=null,V=v.next();D!==null&&!V.done;N++,V=v.next()){D.index>N?(H=D,D=null):H=D.sibling;var _e=d(m,D,V.value,I);if(_e===null){D===null&&(D=H);break}e&&D&&_e.alternate===null&&t(m,D),p=s(_e,p,N),x===null?C=_e:x.sibling=_e,x=_e,D=H}if(V.done)return n(m,D),He&&Ai(m,N),C;if(D===null){for(;!V.done;N++,V=v.next())V=f(m,V.value,I),V!==null&&(p=s(V,p,N),x===null?C=V:x.sibling=V,x=V);return He&&Ai(m,N),C}for(D=r(m,D);!V.done;N++,V=v.next())V=h(D,m,N,V.value,I),V!==null&&(e&&V.alternate!==null&&D.delete(V.key===null?N:V.key),p=s(V,p,N),x===null?C=V:x.sibling=V,x=V);return e&&D.forEach(function(ne){return t(m,ne)}),He&&Ai(m,N),C}function T(m,p,v,I){if(typeof v=="object"&&v!==null&&v.type===Ss&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Nl:e:{for(var C=v.key,x=p;x!==null;){if(x.key===C){if(C=v.type,C===Ss){if(x.tag===7){n(m,x.sibling),p=i(x,v.props.children),p.return=m,m=p;break e}}else if(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Fr&&av(C)===x.type){n(m,x.sibling),p=i(x,v.props),p.ref=Fo(m,x,v),p.return=m,m=p;break e}n(m,x);break}else t(m,x);x=x.sibling}v.type===Ss?(p=ji(v.props.children,m.mode,I,v.key),p.return=m,m=p):(I=vu(v.type,v.key,v.props,null,m.mode,I),I.ref=Fo(m,p,v),I.return=m,m=I)}return o(m);case Is:e:{for(x=v.key;p!==null;){if(p.key===x)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(m,p.sibling),p=i(p,v.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else t(m,p);p=p.sibling}p=_f(v,m.mode,I),p.return=m,m=p}return o(m);case Fr:return x=v._init,T(m,p,x(v._payload),I)}if(Ho(v))return y(m,p,v,I);if(Vo(v))return _(m,p,v,I);zl(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,v),p.return=m,m=p):(n(m,p),p=vf(v,m.mode,I),p.return=m,m=p),o(m)):n(m,p)}return T}var Js=AE(!0),DE=AE(!1),dl={},dr=vi(dl),Aa=vi(dl),Da=vi(dl);function bi(e){if(e===dl)throw Error(k(174));return e}function Cm(e,t){switch(Ve(Da,t),Ve(Aa,e),Ve(dr,dl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=eh(t,e)}Fe(dr),Ve(dr,t)}function Zs(){Fe(dr),Fe(Aa),Fe(Da)}function kE(e){bi(Da.current);var t=bi(dr.current),n=eh(t,e.type);t!==n&&(Ve(Aa,e),Ve(dr,n))}function xm(e){Aa.current===e&&(Fe(dr),Fe(Aa))}var Qe=vi(0);function ju(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ff=[];function Pm(){for(var e=0;e<ff.length;e++)ff[e]._workInProgressVersionPrimary=null;ff.length=0}var hu=Nr.ReactCurrentDispatcher,hf=Nr.ReactCurrentBatchConfig,Hi=0,Ge=null,pt=null,_t=null,Uu=!1,aa=!1,ka=0,dx=0;function bt(){throw Error(k(321))}function Rm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zn(e[n],t[n]))return!1;return!0}function Am(e,t,n,r,i,s){if(Hi=s,Ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hu.current=e===null||e.memoizedState===null?mx:gx,e=n(r,i),aa){s=0;do{if(aa=!1,ka=0,25<=s)throw Error(k(301));s+=1,_t=pt=null,t.updateQueue=null,hu.current=yx,e=n(r,i)}while(aa)}if(hu.current=Bu,t=pt!==null&&pt.next!==null,Hi=0,_t=pt=Ge=null,Uu=!1,t)throw Error(k(300));return e}function Dm(){var e=ka!==0;return ka=0,e}function sr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ge.memoizedState=_t=e:_t=_t.next=e,_t}function jn(){if(pt===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=_t===null?Ge.memoizedState:_t.next;if(t!==null)_t=t,pt=e;else{if(e===null)throw Error(k(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},_t===null?Ge.memoizedState=_t=e:_t=_t.next=e}return _t}function Na(e,t){return typeof t=="function"?t(e):t}function pf(e){var t=jn(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=pt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Hi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ge.lanes|=c,qi|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Zn(r,t.memoizedState)||(ln=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Ge.lanes|=s,qi|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function mf(e){var t=jn(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Zn(s,t.memoizedState)||(ln=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function NE(){}function OE(e,t){var n=Ge,r=jn(),i=t(),s=!Zn(r.memoizedState,i);if(s&&(r.memoizedState=i,ln=!0),r=r.queue,km(LE.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||_t!==null&&_t.memoizedState.tag&1){if(n.flags|=2048,Oa(9,bE.bind(null,n,r,i,t),void 0,null),wt===null)throw Error(k(349));Hi&30||VE(n,t,i)}return i}function VE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function bE(e,t,n,r){t.value=n,t.getSnapshot=r,ME(t)&&$E(e)}function LE(e,t,n){return n(function(){ME(t)&&$E(e)})}function ME(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zn(e,n)}catch{return!0}}function $E(e){var t=Pr(e,1);t!==null&&Yn(t,e,1,-1)}function lv(e){var t=sr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:e},t.queue=e,e=e.dispatch=px.bind(null,Ge,e),[t.memoizedState,e]}function Oa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function FE(){return jn().memoizedState}function pu(e,t,n,r){var i=sr();Ge.flags|=e,i.memoizedState=Oa(1|t,n,void 0,r===void 0?null:r)}function Dc(e,t,n,r){var i=jn();r=r===void 0?null:r;var s=void 0;if(pt!==null){var o=pt.memoizedState;if(s=o.destroy,r!==null&&Rm(r,o.deps)){i.memoizedState=Oa(t,n,s,r);return}}Ge.flags|=e,i.memoizedState=Oa(1|t,n,s,r)}function uv(e,t){return pu(8390656,8,e,t)}function km(e,t){return Dc(2048,8,e,t)}function jE(e,t){return Dc(4,2,e,t)}function UE(e,t){return Dc(4,4,e,t)}function BE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zE(e,t,n){return n=n!=null?n.concat([e]):null,Dc(4,4,BE.bind(null,t,e),n)}function Nm(){}function WE(e,t){var n=jn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Rm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function KE(e,t){var n=jn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Rm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function HE(e,t,n){return Hi&21?(Zn(n,t)||(n=G0(),Ge.lanes|=n,qi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ln=!0),e.memoizedState=n)}function fx(e,t){var n=Se;Se=n!==0&&4>n?n:4,e(!0);var r=hf.transition;hf.transition={};try{e(!1),t()}finally{Se=n,hf.transition=r}}function qE(){return jn().memoizedState}function hx(e,t,n){var r=ti(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},QE(e))GE(t,n);else if(n=CE(e,t,n,r),n!==null){var i=Zt();Yn(n,e,r,i),YE(n,t,r)}}function px(e,t,n){var r=ti(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(QE(e))GE(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Zn(a,o)){var l=t.interleaved;l===null?(i.next=i,Im(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=CE(e,t,i,r),n!==null&&(i=Zt(),Yn(n,e,r,i),YE(n,t,r))}}function QE(e){var t=e.alternate;return e===Ge||t!==null&&t===Ge}function GE(e,t){aa=Uu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function YE(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,um(e,n)}}var Bu={readContext:Fn,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},mx={readContext:Fn,useCallback:function(e,t){return sr().memoizedState=[e,t===void 0?null:t],e},useContext:Fn,useEffect:uv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,pu(4194308,4,BE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return pu(4194308,4,e,t)},useInsertionEffect:function(e,t){return pu(4,2,e,t)},useMemo:function(e,t){var n=sr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=hx.bind(null,Ge,e),[r.memoizedState,e]},useRef:function(e){var t=sr();return e={current:e},t.memoizedState=e},useState:lv,useDebugValue:Nm,useDeferredValue:function(e){return sr().memoizedState=e},useTransition:function(){var e=lv(!1),t=e[0];return e=fx.bind(null,e[1]),sr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ge,i=sr();if(He){if(n===void 0)throw Error(k(407));n=n()}else{if(n=t(),wt===null)throw Error(k(349));Hi&30||VE(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,uv(LE.bind(null,r,s,e),[e]),r.flags|=2048,Oa(9,bE.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=sr(),t=wt.identifierPrefix;if(He){var n=Er,r=_r;n=(r&~(1<<32-Gn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ka++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gx={readContext:Fn,useCallback:WE,useContext:Fn,useEffect:km,useImperativeHandle:zE,useInsertionEffect:jE,useLayoutEffect:UE,useMemo:KE,useReducer:pf,useRef:FE,useState:function(){return pf(Na)},useDebugValue:Nm,useDeferredValue:function(e){var t=jn();return HE(t,pt.memoizedState,e)},useTransition:function(){var e=pf(Na)[0],t=jn().memoizedState;return[e,t]},useMutableSource:NE,useSyncExternalStore:OE,useId:qE,unstable_isNewReconciler:!1},yx={readContext:Fn,useCallback:WE,useContext:Fn,useEffect:km,useImperativeHandle:zE,useInsertionEffect:jE,useLayoutEffect:UE,useMemo:KE,useReducer:mf,useRef:FE,useState:function(){return mf(Na)},useDebugValue:Nm,useDeferredValue:function(e){var t=jn();return pt===null?t.memoizedState=e:HE(t,pt.memoizedState,e)},useTransition:function(){var e=mf(Na)[0],t=jn().memoizedState;return[e,t]},useMutableSource:NE,useSyncExternalStore:OE,useId:qE,unstable_isNewReconciler:!1};function eo(e,t){try{var n="",r=t;do n+=KS(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function gf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ih(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var vx=typeof WeakMap=="function"?WeakMap:Map;function XE(e,t,n){n=Tr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,Oh=r),Ih(e,t)},n}function JE(e,t,n){n=Tr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ih(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ih(e,t),typeof r!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function cv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new vx;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Nx.bind(null,e,t,n),t.then(e,e))}function dv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fv(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Tr(-1,1),t.tag=2,Zr(n,t,1))),n.lanes|=1),e)}var _x=Nr.ReactCurrentOwner,ln=!1;function Xt(e,t,n,r){t.child=e===null?DE(t,null,n,r):Js(t,e.child,n,r)}function hv(e,t,n,r,i){n=n.render;var s=t.ref;return zs(t,i),r=Am(e,t,n,r,s,i),n=Dm(),e!==null&&!ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Rr(e,t,i)):(He&&n&&ym(t),t.flags|=1,Xt(e,t,r,i),t.child)}function pv(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!jm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,ZE(e,t,s,r,i)):(e=vu(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ca,n(o,r)&&e.ref===t.ref)return Rr(e,t,i)}return t.flags|=1,e=ni(s,r),e.ref=t.ref,e.return=t,t.child=e}function ZE(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Ca(s,r)&&e.ref===t.ref)if(ln=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(ln=!0);else return t.lanes=e.lanes,Rr(e,t,i)}return Sh(e,t,n,r,i)}function ew(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Vs,yn),yn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ve(Vs,yn),yn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ve(Vs,yn),yn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ve(Vs,yn),yn|=r;return Xt(e,t,i,n),t.child}function tw(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sh(e,t,n,r,i){var s=cn(n)?Wi:zt.current;return s=Ys(t,s),zs(t,i),n=Am(e,t,n,r,s,i),r=Dm(),e!==null&&!ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Rr(e,t,i)):(He&&r&&ym(t),t.flags|=1,Xt(e,t,n,i),t.child)}function mv(e,t,n,r,i){if(cn(n)){var s=!0;Vu(t)}else s=!1;if(zs(t,i),t.stateNode===null)mu(e,t),RE(t,n,r),Th(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Fn(u):(u=cn(n)?Wi:zt.current,u=Ys(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&ov(t,o,r,u),jr=!1;var d=t.memoizedState;o.state=d,Fu(t,r,o,i),l=t.memoizedState,a!==r||d!==l||un.current||jr?(typeof c=="function"&&(wh(t,n,c,r),l=t.memoizedState),(a=jr||sv(t,n,a,r,d,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,xE(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Hn(t.type,a),o.props=u,f=t.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Fn(l):(l=cn(n)?Wi:zt.current,l=Ys(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&ov(t,o,r,l),jr=!1,d=t.memoizedState,o.state=d,Fu(t,r,o,i);var y=t.memoizedState;a!==f||d!==y||un.current||jr?(typeof h=="function"&&(wh(t,n,h,r),y=t.memoizedState),(u=jr||sv(t,n,u,r,d,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ch(e,t,n,r,s,i)}function Ch(e,t,n,r,i,s){tw(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&ev(t,n,!1),Rr(e,t,s);r=t.stateNode,_x.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Js(t,e.child,null,s),t.child=Js(t,null,a,s)):Xt(e,t,a,s),t.memoizedState=r.state,i&&ev(t,n,!0),t.child}function nw(e){var t=e.stateNode;t.pendingContext?Zy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zy(e,t.context,!1),Cm(e,t.containerInfo)}function gv(e,t,n,r,i){return Xs(),_m(i),t.flags|=256,Xt(e,t,n,r),t.child}var xh={dehydrated:null,treeContext:null,retryLane:0};function Ph(e){return{baseLanes:e,cachePool:null,transitions:null}}function rw(e,t,n){var r=t.pendingProps,i=Qe.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ve(Qe,i&1),e===null)return _h(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Oc(o,r,0,null),e=ji(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ph(n),t.memoizedState=xh,e):Om(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Ex(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ni(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ni(a,s):(s=ji(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Ph(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=xh,r}return s=e.child,e=s.sibling,r=ni(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Om(e,t){return t=Oc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wl(e,t,n,r){return r!==null&&_m(r),Js(t,e.child,null,n),e=Om(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ex(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=gf(Error(k(422))),Wl(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Oc({mode:"visible",children:r.children},i,0,null),s=ji(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Js(t,e.child,null,o),t.child.memoizedState=Ph(o),t.memoizedState=xh,s);if(!(t.mode&1))return Wl(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(k(419)),r=gf(s,r,void 0),Wl(e,t,o,r)}if(a=(o&e.childLanes)!==0,ln||a){if(r=wt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Pr(e,i),Yn(r,e,i,-1))}return Fm(),r=gf(Error(k(421))),Wl(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Ox.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,_n=Jr(i.nextSibling),wn=t,He=!0,Qn=null,e!==null&&(Nn[On++]=_r,Nn[On++]=Er,Nn[On++]=Ki,_r=e.id,Er=e.overflow,Ki=t),t=Om(t,r.children),t.flags|=4096,t)}function yv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Eh(e.return,t,n)}function yf(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function iw(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Xt(e,t,r.children,n),r=Qe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yv(e,n,t);else if(e.tag===19)yv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ve(Qe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ju(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),yf(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ju(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}yf(t,!0,n,null,s);break;case"together":yf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function mu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(k(153));if(t.child!==null){for(e=t.child,n=ni(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ni(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wx(e,t,n){switch(t.tag){case 3:nw(t),Xs();break;case 5:kE(t);break;case 1:cn(t.type)&&Vu(t);break;case 4:Cm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ve(Mu,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ve(Qe,Qe.current&1),t.flags|=128,null):n&t.child.childLanes?rw(e,t,n):(Ve(Qe,Qe.current&1),e=Rr(e,t,n),e!==null?e.sibling:null);Ve(Qe,Qe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return iw(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(Qe,Qe.current),r)break;return null;case 22:case 23:return t.lanes=0,ew(e,t,n)}return Rr(e,t,n)}var sw,Rh,ow,aw;sw=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Rh=function(){};ow=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,bi(dr.current);var s=null;switch(n){case"input":i=Yf(e,i),r=Yf(e,r),s=[];break;case"select":i=Ye({},i,{value:void 0}),r=Ye({},r,{value:void 0}),s=[];break;case"textarea":i=Zf(e,i),r=Zf(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Nu)}th(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(va.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(va.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Le("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};aw=function(e,t,n,r){n!==r&&(t.flags|=4)};function jo(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Tx(e,t,n){var r=t.pendingProps;switch(vm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(t),null;case 1:return cn(t.type)&&Ou(),Lt(t),null;case 3:return r=t.stateNode,Zs(),Fe(un),Fe(zt),Pm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Bl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qn!==null&&(Lh(Qn),Qn=null))),Rh(e,t),Lt(t),null;case 5:xm(t);var i=bi(Da.current);if(n=t.type,e!==null&&t.stateNode!=null)ow(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(k(166));return Lt(t),null}if(e=bi(dr.current),Bl(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[or]=t,r[Ra]=s,e=(t.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(i=0;i<Qo.length;i++)Le(Qo[i],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":xy(r,s),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Le("invalid",r);break;case"textarea":Ry(r,s),Le("invalid",r)}th(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ul(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ul(r.textContent,a,e),i=["children",""+a]):va.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Le("scroll",r)}switch(n){case"input":Ol(r),Py(r,s,!0);break;case"textarea":Ol(r),Ay(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Nu)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=V0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[or]=t,e[Ra]=r,sw(e,t,!1,!1),t.stateNode=e;e:{switch(o=nh(n,r),n){case"dialog":Le("cancel",e),Le("close",e),i=r;break;case"iframe":case"object":case"embed":Le("load",e),i=r;break;case"video":case"audio":for(i=0;i<Qo.length;i++)Le(Qo[i],e);i=r;break;case"source":Le("error",e),i=r;break;case"img":case"image":case"link":Le("error",e),Le("load",e),i=r;break;case"details":Le("toggle",e),i=r;break;case"input":xy(e,r),i=Yf(e,r),Le("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ye({},r,{value:void 0}),Le("invalid",e);break;case"textarea":Ry(e,r),i=Zf(e,r),Le("invalid",e);break;default:i=r}th(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?M0(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&b0(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_a(e,l):typeof l=="number"&&_a(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(va.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Le("scroll",e):l!=null&&rm(e,s,l,o))}switch(n){case"input":Ol(e),Py(e,r,!1);break;case"textarea":Ol(e),Ay(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ui(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Fs(e,!!r.multiple,s,!1):r.defaultValue!=null&&Fs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Nu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Lt(t),null;case 6:if(e&&t.stateNode!=null)aw(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(k(166));if(n=bi(Da.current),bi(dr.current),Bl(t)){if(r=t.stateNode,n=t.memoizedProps,r[or]=t,(s=r.nodeValue!==n)&&(e=wn,e!==null))switch(e.tag){case 3:Ul(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ul(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[or]=t,t.stateNode=r}return Lt(t),null;case 13:if(Fe(Qe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&_n!==null&&t.mode&1&&!(t.flags&128))SE(),Xs(),t.flags|=98560,s=!1;else if(s=Bl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(k(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(k(317));s[or]=t}else Xs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Lt(t),s=!1}else Qn!==null&&(Lh(Qn),Qn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Qe.current&1?mt===0&&(mt=3):Fm())),t.updateQueue!==null&&(t.flags|=4),Lt(t),null);case 4:return Zs(),Rh(e,t),e===null&&xa(t.stateNode.containerInfo),Lt(t),null;case 10:return Tm(t.type._context),Lt(t),null;case 17:return cn(t.type)&&Ou(),Lt(t),null;case 19:if(Fe(Qe),s=t.memoizedState,s===null)return Lt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)jo(s,!1);else{if(mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ju(e),o!==null){for(t.flags|=128,jo(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ve(Qe,Qe.current&1|2),t.child}e=e.sibling}s.tail!==null&&nt()>to&&(t.flags|=128,r=!0,jo(s,!1),t.lanes=4194304)}else{if(!r)if(e=ju(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),jo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!He)return Lt(t),null}else 2*nt()-s.renderingStartTime>to&&n!==1073741824&&(t.flags|=128,r=!0,jo(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=nt(),t.sibling=null,n=Qe.current,Ve(Qe,r?n&1|2:n&1),t):(Lt(t),null);case 22:case 23:return $m(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?yn&1073741824&&(Lt(t),t.subtreeFlags&6&&(t.flags|=8192)):Lt(t),null;case 24:return null;case 25:return null}throw Error(k(156,t.tag))}function Ix(e,t){switch(vm(t),t.tag){case 1:return cn(t.type)&&Ou(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zs(),Fe(un),Fe(zt),Pm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xm(t),null;case 13:if(Fe(Qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(k(340));Xs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fe(Qe),null;case 4:return Zs(),null;case 10:return Tm(t.type._context),null;case 22:case 23:return $m(),null;case 24:return null;default:return null}}var Kl=!1,Ft=!1,Sx=typeof WeakSet=="function"?WeakSet:Set,b=null;function Os(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(e,t,r)}else n.current=null}function Ah(e,t,n){try{n()}catch(r){Ze(e,t,r)}}var vv=!1;function Cx(e,t){if(fh=Au,e=dE(),gm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(hh={focusedElem:e,selectionRange:n},Au=!1,b=t;b!==null;)if(t=b,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,b=e;else for(;b!==null;){t=b;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,T=y.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?_:Hn(t.type,_),T);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(I){Ze(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,b=e;break}b=t.return}return y=vv,vv=!1,y}function la(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ah(t,n,s)}i=i.next}while(i!==r)}}function kc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Dh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function lw(e){var t=e.alternate;t!==null&&(e.alternate=null,lw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[or],delete t[Ra],delete t[gh],delete t[ax],delete t[lx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uw(e){return e.tag===5||e.tag===3||e.tag===4}function _v(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Nu));else if(r!==4&&(e=e.child,e!==null))for(kh(e,t,n),e=e.sibling;e!==null;)kh(e,t,n),e=e.sibling}function Nh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Nh(e,t,n),e=e.sibling;e!==null;)Nh(e,t,n),e=e.sibling}var xt=null,qn=!1;function Mr(e,t,n){for(n=n.child;n!==null;)cw(e,t,n),n=n.sibling}function cw(e,t,n){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(Ic,n)}catch{}switch(n.tag){case 5:Ft||Os(n,t);case 6:var r=xt,i=qn;xt=null,Mr(e,t,n),xt=r,qn=i,xt!==null&&(qn?(e=xt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):xt.removeChild(n.stateNode));break;case 18:xt!==null&&(qn?(e=xt,n=n.stateNode,e.nodeType===8?cf(e.parentNode,n):e.nodeType===1&&cf(e,n),Ia(e)):cf(xt,n.stateNode));break;case 4:r=xt,i=qn,xt=n.stateNode.containerInfo,qn=!0,Mr(e,t,n),xt=r,qn=i;break;case 0:case 11:case 14:case 15:if(!Ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ah(n,t,o),i=i.next}while(i!==r)}Mr(e,t,n);break;case 1:if(!Ft&&(Os(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ze(n,t,a)}Mr(e,t,n);break;case 21:Mr(e,t,n);break;case 22:n.mode&1?(Ft=(r=Ft)||n.memoizedState!==null,Mr(e,t,n),Ft=r):Mr(e,t,n);break;default:Mr(e,t,n)}}function Ev(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Sx),t.forEach(function(r){var i=Vx.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Kn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:xt=a.stateNode,qn=!1;break e;case 3:xt=a.stateNode.containerInfo,qn=!0;break e;case 4:xt=a.stateNode.containerInfo,qn=!0;break e}a=a.return}if(xt===null)throw Error(k(160));cw(s,o,i),xt=null,qn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ze(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dw(t,e),t=t.sibling}function dw(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Kn(t,e),ir(e),r&4){try{la(3,e,e.return),kc(3,e)}catch(_){Ze(e,e.return,_)}try{la(5,e,e.return)}catch(_){Ze(e,e.return,_)}}break;case 1:Kn(t,e),ir(e),r&512&&n!==null&&Os(n,n.return);break;case 5:if(Kn(t,e),ir(e),r&512&&n!==null&&Os(n,n.return),e.flags&32){var i=e.stateNode;try{_a(i,"")}catch(_){Ze(e,e.return,_)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&N0(i,s),nh(a,o);var u=nh(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?M0(i,f):c==="dangerouslySetInnerHTML"?b0(i,f):c==="children"?_a(i,f):rm(i,c,f,u)}switch(a){case"input":Xf(i,s);break;case"textarea":O0(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Fs(i,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?Fs(i,!!s.multiple,s.defaultValue,!0):Fs(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ra]=s}catch(_){Ze(e,e.return,_)}}break;case 6:if(Kn(t,e),ir(e),r&4){if(e.stateNode===null)throw Error(k(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(_){Ze(e,e.return,_)}}break;case 3:if(Kn(t,e),ir(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ia(t.containerInfo)}catch(_){Ze(e,e.return,_)}break;case 4:Kn(t,e),ir(e);break;case 13:Kn(t,e),ir(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Lm=nt())),r&4&&Ev(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ft=(u=Ft)||c,Kn(t,e),Ft=u):Kn(t,e),ir(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(b=e,c=e.child;c!==null;){for(f=b=c;b!==null;){switch(d=b,h=d.child,d.tag){case 0:case 11:case 14:case 15:la(4,d,d.return);break;case 1:Os(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(_){Ze(r,n,_)}}break;case 5:Os(d,d.return);break;case 22:if(d.memoizedState!==null){Tv(f);continue}}h!==null?(h.return=d,b=h):Tv(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=L0("display",o))}catch(_){Ze(e,e.return,_)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){Ze(e,e.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Kn(t,e),ir(e),r&4&&Ev(e);break;case 21:break;default:Kn(t,e),ir(e)}}function ir(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(uw(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_a(i,""),r.flags&=-33);var s=_v(e);Nh(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=_v(e);kh(e,a,o);break;default:throw Error(k(161))}}catch(l){Ze(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xx(e,t,n){b=e,fw(e)}function fw(e,t,n){for(var r=(e.mode&1)!==0;b!==null;){var i=b,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Kl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ft;a=Kl;var u=Ft;if(Kl=o,(Ft=l)&&!u)for(b=i;b!==null;)o=b,l=o.child,o.tag===22&&o.memoizedState!==null?Iv(i):l!==null?(l.return=o,b=l):Iv(i);for(;s!==null;)b=s,fw(s),s=s.sibling;b=i,Kl=a,Ft=u}wv(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,b=s):wv(e)}}function wv(e){for(;b!==null;){var t=b;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ft||kc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ft)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Hn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&iv(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}iv(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Ia(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}Ft||t.flags&512&&Dh(t)}catch(d){Ze(t,t.return,d)}}if(t===e){b=null;break}if(n=t.sibling,n!==null){n.return=t.return,b=n;break}b=t.return}}function Tv(e){for(;b!==null;){var t=b;if(t===e){b=null;break}var n=t.sibling;if(n!==null){n.return=t.return,b=n;break}b=t.return}}function Iv(e){for(;b!==null;){var t=b;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{kc(4,t)}catch(l){Ze(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ze(t,i,l)}}var s=t.return;try{Dh(t)}catch(l){Ze(t,s,l)}break;case 5:var o=t.return;try{Dh(t)}catch(l){Ze(t,o,l)}}}catch(l){Ze(t,t.return,l)}if(t===e){b=null;break}var a=t.sibling;if(a!==null){a.return=t.return,b=a;break}b=t.return}}var Px=Math.ceil,zu=Nr.ReactCurrentDispatcher,Vm=Nr.ReactCurrentOwner,Ln=Nr.ReactCurrentBatchConfig,me=0,wt=null,ot=null,kt=0,yn=0,Vs=vi(0),mt=0,Va=null,qi=0,Nc=0,bm=0,ua=null,on=null,Lm=0,to=1/0,yr=null,Wu=!1,Oh=null,ei=null,Hl=!1,Hr=null,Ku=0,ca=0,Vh=null,gu=-1,yu=0;function Zt(){return me&6?nt():gu!==-1?gu:gu=nt()}function ti(e){return e.mode&1?me&2&&kt!==0?kt&-kt:cx.transition!==null?(yu===0&&(yu=G0()),yu):(e=Se,e!==0||(e=window.event,e=e===void 0?16:nE(e.type)),e):1}function Yn(e,t,n,r){if(50<ca)throw ca=0,Vh=null,Error(k(185));ll(e,n,r),(!(me&2)||e!==wt)&&(e===wt&&(!(me&2)&&(Nc|=n),mt===4&&Wr(e,kt)),dn(e,r),n===1&&me===0&&!(t.mode&1)&&(to=nt()+500,Rc&&_i()))}function dn(e,t){var n=e.callbackNode;cC(e,t);var r=Ru(e,e===wt?kt:0);if(r===0)n!==null&&Ny(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ny(n),t===1)e.tag===0?ux(Sv.bind(null,e)):wE(Sv.bind(null,e)),sx(function(){!(me&6)&&_i()}),n=null;else{switch(Y0(r)){case 1:n=lm;break;case 4:n=q0;break;case 16:n=Pu;break;case 536870912:n=Q0;break;default:n=Pu}n=Ew(n,hw.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hw(e,t){if(gu=-1,yu=0,me&6)throw Error(k(327));var n=e.callbackNode;if(Ws()&&e.callbackNode!==n)return null;var r=Ru(e,e===wt?kt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Hu(e,r);else{t=r;var i=me;me|=2;var s=mw();(wt!==e||kt!==t)&&(yr=null,to=nt()+500,Fi(e,t));do try{Dx();break}catch(a){pw(e,a)}while(!0);wm(),zu.current=s,me=i,ot!==null?t=0:(wt=null,kt=0,t=mt)}if(t!==0){if(t===2&&(i=ah(e),i!==0&&(r=i,t=bh(e,i))),t===1)throw n=Va,Fi(e,0),Wr(e,r),dn(e,nt()),n;if(t===6)Wr(e,r);else{if(i=e.current.alternate,!(r&30)&&!Rx(i)&&(t=Hu(e,r),t===2&&(s=ah(e),s!==0&&(r=s,t=bh(e,s))),t===1))throw n=Va,Fi(e,0),Wr(e,r),dn(e,nt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(k(345));case 2:Di(e,on,yr);break;case 3:if(Wr(e,r),(r&130023424)===r&&(t=Lm+500-nt(),10<t)){if(Ru(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Zt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=mh(Di.bind(null,e,on,yr),t);break}Di(e,on,yr);break;case 4:if(Wr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Gn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Px(r/1960))-r,10<r){e.timeoutHandle=mh(Di.bind(null,e,on,yr),r);break}Di(e,on,yr);break;case 5:Di(e,on,yr);break;default:throw Error(k(329))}}}return dn(e,nt()),e.callbackNode===n?hw.bind(null,e):null}function bh(e,t){var n=ua;return e.current.memoizedState.isDehydrated&&(Fi(e,t).flags|=256),e=Hu(e,t),e!==2&&(t=on,on=n,t!==null&&Lh(t)),e}function Lh(e){on===null?on=e:on.push.apply(on,e)}function Rx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Zn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wr(e,t){for(t&=~bm,t&=~Nc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Gn(t),r=1<<n;e[n]=-1,t&=~r}}function Sv(e){if(me&6)throw Error(k(327));Ws();var t=Ru(e,0);if(!(t&1))return dn(e,nt()),null;var n=Hu(e,t);if(e.tag!==0&&n===2){var r=ah(e);r!==0&&(t=r,n=bh(e,r))}if(n===1)throw n=Va,Fi(e,0),Wr(e,t),dn(e,nt()),n;if(n===6)throw Error(k(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Di(e,on,yr),dn(e,nt()),null}function Mm(e,t){var n=me;me|=1;try{return e(t)}finally{me=n,me===0&&(to=nt()+500,Rc&&_i())}}function Qi(e){Hr!==null&&Hr.tag===0&&!(me&6)&&Ws();var t=me;me|=1;var n=Ln.transition,r=Se;try{if(Ln.transition=null,Se=1,e)return e()}finally{Se=r,Ln.transition=n,me=t,!(me&6)&&_i()}}function $m(){yn=Vs.current,Fe(Vs)}function Fi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ix(n)),ot!==null)for(n=ot.return;n!==null;){var r=n;switch(vm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ou();break;case 3:Zs(),Fe(un),Fe(zt),Pm();break;case 5:xm(r);break;case 4:Zs();break;case 13:Fe(Qe);break;case 19:Fe(Qe);break;case 10:Tm(r.type._context);break;case 22:case 23:$m()}n=n.return}if(wt=e,ot=e=ni(e.current,null),kt=yn=t,mt=0,Va=null,bm=Nc=qi=0,on=ua=null,Vi!==null){for(t=0;t<Vi.length;t++)if(n=Vi[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Vi=null}return e}function pw(e,t){do{var n=ot;try{if(wm(),hu.current=Bu,Uu){for(var r=Ge.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Uu=!1}if(Hi=0,_t=pt=Ge=null,aa=!1,ka=0,Vm.current=null,n===null||n.return===null){mt=1,Va=t,ot=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=kt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=dv(o);if(h!==null){h.flags&=-257,fv(h,o,a,s,t),h.mode&1&&cv(s,u,t),t=h,l=u;var y=t.updateQueue;if(y===null){var _=new Set;_.add(l),t.updateQueue=_}else y.add(l);break e}else{if(!(t&1)){cv(s,u,t),Fm();break e}l=Error(k(426))}}else if(He&&a.mode&1){var T=dv(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),fv(T,o,a,s,t),_m(eo(l,a));break e}}s=l=eo(l,a),mt!==4&&(mt=2),ua===null?ua=[s]:ua.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=XE(s,l,t);rv(s,m);break e;case 1:a=l;var p=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ei===null||!ei.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var I=JE(s,a,t);rv(s,I);break e}}s=s.return}while(s!==null)}yw(n)}catch(C){t=C,ot===n&&n!==null&&(ot=n=n.return);continue}break}while(!0)}function mw(){var e=zu.current;return zu.current=Bu,e===null?Bu:e}function Fm(){(mt===0||mt===3||mt===2)&&(mt=4),wt===null||!(qi&268435455)&&!(Nc&268435455)||Wr(wt,kt)}function Hu(e,t){var n=me;me|=2;var r=mw();(wt!==e||kt!==t)&&(yr=null,Fi(e,t));do try{Ax();break}catch(i){pw(e,i)}while(!0);if(wm(),me=n,zu.current=r,ot!==null)throw Error(k(261));return wt=null,kt=0,mt}function Ax(){for(;ot!==null;)gw(ot)}function Dx(){for(;ot!==null&&!tC();)gw(ot)}function gw(e){var t=_w(e.alternate,e,yn);e.memoizedProps=e.pendingProps,t===null?yw(e):ot=t,Vm.current=null}function yw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Ix(n,t),n!==null){n.flags&=32767,ot=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{mt=6,ot=null;return}}else if(n=Tx(n,t,yn),n!==null){ot=n;return}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);mt===0&&(mt=5)}function Di(e,t,n){var r=Se,i=Ln.transition;try{Ln.transition=null,Se=1,kx(e,t,n,r)}finally{Ln.transition=i,Se=r}return null}function kx(e,t,n,r){do Ws();while(Hr!==null);if(me&6)throw Error(k(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(k(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(dC(e,s),e===wt&&(ot=wt=null,kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hl||(Hl=!0,Ew(Pu,function(){return Ws(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ln.transition,Ln.transition=null;var o=Se;Se=1;var a=me;me|=4,Vm.current=null,Cx(e,n),dw(n,e),XC(hh),Au=!!fh,hh=fh=null,e.current=n,xx(n),nC(),me=a,Se=o,Ln.transition=s}else e.current=n;if(Hl&&(Hl=!1,Hr=e,Ku=i),s=e.pendingLanes,s===0&&(ei=null),sC(n.stateNode),dn(e,nt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=Oh,Oh=null,e;return Ku&1&&e.tag!==0&&Ws(),s=e.pendingLanes,s&1?e===Vh?ca++:(ca=0,Vh=e):ca=0,_i(),null}function Ws(){if(Hr!==null){var e=Y0(Ku),t=Ln.transition,n=Se;try{if(Ln.transition=null,Se=16>e?16:e,Hr===null)var r=!1;else{if(e=Hr,Hr=null,Ku=0,me&6)throw Error(k(331));var i=me;for(me|=4,b=e.current;b!==null;){var s=b,o=s.child;if(b.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(b=u;b!==null;){var c=b;switch(c.tag){case 0:case 11:case 15:la(8,c,s)}var f=c.child;if(f!==null)f.return=c,b=f;else for(;b!==null;){c=b;var d=c.sibling,h=c.return;if(lw(c),c===u){b=null;break}if(d!==null){d.return=h,b=d;break}b=h}}}var y=s.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var T=_.sibling;_.sibling=null,_=T}while(_!==null)}}b=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,b=o;else e:for(;b!==null;){if(s=b,s.flags&2048)switch(s.tag){case 0:case 11:case 15:la(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,b=m;break e}b=s.return}}var p=e.current;for(b=p;b!==null;){o=b;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,b=v;else e:for(o=p;b!==null;){if(a=b,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:kc(9,a)}}catch(C){Ze(a,a.return,C)}if(a===o){b=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,b=I;break e}b=a.return}}if(me=i,_i(),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(Ic,e)}catch{}r=!0}return r}finally{Se=n,Ln.transition=t}}return!1}function Cv(e,t,n){t=eo(n,t),t=XE(e,t,1),e=Zr(e,t,1),t=Zt(),e!==null&&(ll(e,1,t),dn(e,t))}function Ze(e,t,n){if(e.tag===3)Cv(e,e,n);else for(;t!==null;){if(t.tag===3){Cv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ei===null||!ei.has(r))){e=eo(n,e),e=JE(t,e,1),t=Zr(t,e,1),e=Zt(),t!==null&&(ll(t,1,e),dn(t,e));break}}t=t.return}}function Nx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Zt(),e.pingedLanes|=e.suspendedLanes&n,wt===e&&(kt&n)===n&&(mt===4||mt===3&&(kt&130023424)===kt&&500>nt()-Lm?Fi(e,0):bm|=n),dn(e,t)}function vw(e,t){t===0&&(e.mode&1?(t=Ll,Ll<<=1,!(Ll&130023424)&&(Ll=4194304)):t=1);var n=Zt();e=Pr(e,t),e!==null&&(ll(e,t,n),dn(e,n))}function Ox(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),vw(e,n)}function Vx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(t),vw(e,n)}var _w;_w=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||un.current)ln=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ln=!1,wx(e,t,n);ln=!!(e.flags&131072)}else ln=!1,He&&t.flags&1048576&&TE(t,Lu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;mu(e,t),e=t.pendingProps;var i=Ys(t,zt.current);zs(t,n),i=Am(null,t,r,e,i,n);var s=Dm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cn(r)?(s=!0,Vu(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Sm(t),i.updater=Ac,t.stateNode=i,i._reactInternals=t,Th(t,r,e,n),t=Ch(null,t,r,!0,s,n)):(t.tag=0,He&&s&&ym(t),Xt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(mu(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Lx(r),e=Hn(r,e),i){case 0:t=Sh(null,t,r,e,n);break e;case 1:t=mv(null,t,r,e,n);break e;case 11:t=hv(null,t,r,e,n);break e;case 14:t=pv(null,t,r,Hn(r.type,e),n);break e}throw Error(k(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Hn(r,i),Sh(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Hn(r,i),mv(e,t,r,i,n);case 3:e:{if(nw(t),e===null)throw Error(k(387));r=t.pendingProps,s=t.memoizedState,i=s.element,xE(e,t),Fu(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=eo(Error(k(423)),t),t=gv(e,t,r,n,i);break e}else if(r!==i){i=eo(Error(k(424)),t),t=gv(e,t,r,n,i);break e}else for(_n=Jr(t.stateNode.containerInfo.firstChild),wn=t,He=!0,Qn=null,n=DE(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xs(),r===i){t=Rr(e,t,n);break e}Xt(e,t,r,n)}t=t.child}return t;case 5:return kE(t),e===null&&_h(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,ph(r,i)?o=null:s!==null&&ph(r,s)&&(t.flags|=32),tw(e,t),Xt(e,t,o,n),t.child;case 6:return e===null&&_h(t),null;case 13:return rw(e,t,n);case 4:return Cm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Js(t,null,r,n):Xt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Hn(r,i),hv(e,t,r,i,n);case 7:return Xt(e,t,t.pendingProps,n),t.child;case 8:return Xt(e,t,t.pendingProps.children,n),t.child;case 12:return Xt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Ve(Mu,r._currentValue),r._currentValue=o,s!==null)if(Zn(s.value,o)){if(s.children===i.children&&!un.current){t=Rr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Tr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Eh(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(k(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Eh(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Xt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,zs(t,n),i=Fn(i),r=r(i),t.flags|=1,Xt(e,t,r,n),t.child;case 14:return r=t.type,i=Hn(r,t.pendingProps),i=Hn(r.type,i),pv(e,t,r,i,n);case 15:return ZE(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Hn(r,i),mu(e,t),t.tag=1,cn(r)?(e=!0,Vu(t)):e=!1,zs(t,n),RE(t,r,i),Th(t,r,i,n),Ch(null,t,r,!0,e,n);case 19:return iw(e,t,n);case 22:return ew(e,t,n)}throw Error(k(156,t.tag))};function Ew(e,t){return H0(e,t)}function bx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(e,t,n,r){return new bx(e,t,n,r)}function jm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Lx(e){if(typeof e=="function")return jm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===sm)return 11;if(e===om)return 14}return 2}function ni(e,t){var n=e.alternate;return n===null?(n=bn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vu(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")jm(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ss:return ji(n.children,i,s,t);case im:o=8,i|=8;break;case Hf:return e=bn(12,n,t,i|2),e.elementType=Hf,e.lanes=s,e;case qf:return e=bn(13,n,t,i),e.elementType=qf,e.lanes=s,e;case Qf:return e=bn(19,n,t,i),e.elementType=Qf,e.lanes=s,e;case A0:return Oc(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P0:o=10;break e;case R0:o=9;break e;case sm:o=11;break e;case om:o=14;break e;case Fr:o=16,r=null;break e}throw Error(k(130,e==null?e:typeof e,""))}return t=bn(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function ji(e,t,n,r){return e=bn(7,e,r,t),e.lanes=n,e}function Oc(e,t,n,r){return e=bn(22,e,r,t),e.elementType=A0,e.lanes=n,e.stateNode={isHidden:!1},e}function vf(e,t,n){return e=bn(6,e,null,t),e.lanes=n,e}function _f(e,t,n){return t=bn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mx(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jd(0),this.expirationTimes=Jd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Um(e,t,n,r,i,s,o,a,l){return e=new Mx(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=bn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sm(s),e}function $x(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Is,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ww(e){if(!e)return ci;e=e._reactInternals;e:{if(os(e)!==e||e.tag!==1)throw Error(k(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(k(171))}if(e.tag===1){var n=e.type;if(cn(n))return EE(e,n,t)}return t}function Tw(e,t,n,r,i,s,o,a,l){return e=Um(n,r,!0,e,i,s,o,a,l),e.context=ww(null),n=e.current,r=Zt(),i=ti(n),s=Tr(r,i),s.callback=t??null,Zr(n,s,i),e.current.lanes=i,ll(e,i,r),dn(e,r),e}function Vc(e,t,n,r){var i=t.current,s=Zt(),o=ti(i);return n=ww(n),t.context===null?t.context=n:t.pendingContext=n,t=Tr(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Zr(i,t,o),e!==null&&(Yn(e,i,o,s),fu(e,i,o)),o}function qu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Bm(e,t){xv(e,t),(e=e.alternate)&&xv(e,t)}function Fx(){return null}var Iw=typeof reportError=="function"?reportError:function(e){console.error(e)};function zm(e){this._internalRoot=e}bc.prototype.render=zm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(k(409));Vc(e,t,null,null)};bc.prototype.unmount=zm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qi(function(){Vc(null,e,null,null)}),t[xr]=null}};function bc(e){this._internalRoot=e}bc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Z0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zr.length&&t!==0&&t<zr[n].priority;n++);zr.splice(n,0,e),n===0&&tE(e)}};function Wm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Lc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Pv(){}function jx(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=qu(o);s.call(u)}}var o=Tw(t,r,e,0,null,!1,!1,"",Pv);return e._reactRootContainer=o,e[xr]=o.current,xa(e.nodeType===8?e.parentNode:e),Qi(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=qu(l);a.call(u)}}var l=Um(e,0,!1,null,null,!1,!1,"",Pv);return e._reactRootContainer=l,e[xr]=l.current,xa(e.nodeType===8?e.parentNode:e),Qi(function(){Vc(t,l,n,r)}),l}function Mc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=qu(o);a.call(l)}}Vc(t,o,e,i)}else o=jx(n,t,e,i,r);return qu(o)}X0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=qo(t.pendingLanes);n!==0&&(um(t,n|1),dn(t,nt()),!(me&6)&&(to=nt()+500,_i()))}break;case 13:Qi(function(){var r=Pr(e,1);if(r!==null){var i=Zt();Yn(r,e,1,i)}}),Bm(e,1)}};cm=function(e){if(e.tag===13){var t=Pr(e,134217728);if(t!==null){var n=Zt();Yn(t,e,134217728,n)}Bm(e,134217728)}};J0=function(e){if(e.tag===13){var t=ti(e),n=Pr(e,t);if(n!==null){var r=Zt();Yn(n,e,t,r)}Bm(e,t)}};Z0=function(){return Se};eE=function(e,t){var n=Se;try{return Se=e,t()}finally{Se=n}};ih=function(e,t,n){switch(t){case"input":if(Xf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Pc(r);if(!i)throw Error(k(90));k0(r),Xf(r,i)}}}break;case"textarea":O0(e,n);break;case"select":t=n.value,t!=null&&Fs(e,!!n.multiple,t,!1)}};j0=Mm;U0=Qi;var Ux={usingClientEntryPoint:!1,Events:[cl,Rs,Pc,$0,F0,Mm]},Uo={findFiberByHostInstance:Oi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Bx={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=W0(e),e===null?null:e.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance||Fx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ql.isDisabled&&ql.supportsFiber)try{Ic=ql.inject(Bx),cr=ql}catch{}}xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ux;xn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wm(t))throw Error(k(200));return $x(e,t,null,n)};xn.createRoot=function(e,t){if(!Wm(e))throw Error(k(299));var n=!1,r="",i=Iw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Um(e,1,!1,null,null,n,!1,r,i),e[xr]=t.current,xa(e.nodeType===8?e.parentNode:e),new zm(t)};xn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(k(188)):(e=Object.keys(e).join(","),Error(k(268,e)));return e=W0(t),e=e===null?null:e.stateNode,e};xn.flushSync=function(e){return Qi(e)};xn.hydrate=function(e,t,n){if(!Lc(t))throw Error(k(200));return Mc(null,e,t,!0,n)};xn.hydrateRoot=function(e,t,n){if(!Wm(e))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Iw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Tw(t,null,e,1,n??null,i,!1,s,o),e[xr]=t.current,xa(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new bc(t)};xn.render=function(e,t,n){if(!Lc(t))throw Error(k(200));return Mc(null,e,t,!1,n)};xn.unmountComponentAtNode=function(e){if(!Lc(e))throw Error(k(40));return e._reactRootContainer?(Qi(function(){Mc(null,null,e,!1,function(){e._reactRootContainer=null,e[xr]=null})}),!0):!1};xn.unstable_batchedUpdates=Mm;xn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Lc(n))throw Error(k(200));if(e==null||e._reactInternals===void 0)throw Error(k(38));return Mc(e,t,n,!1,r)};xn.version="18.2.0-next-9e3b772b8-20220608";function Sw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sw)}catch(e){console.error(e)}}Sw(),T0.exports=xn;var ba=T0.exports;const Ql=wc(ba);var Rv=ba;Wf.createRoot=Rv.createRoot,Wf.hydrateRoot=Rv.hydrateRoot;/**
 * @remix-run/router v1.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function La(){return La=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},La.apply(this,arguments)}var qr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qr||(qr={}));const Av="popstate";function zx(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Mh("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Qu(i)}return Kx(t,n,null,e)}function ut(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Km(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Wx(){return Math.random().toString(36).substr(2,8)}function Dv(e,t){return{usr:e.state,key:e.key,idx:t}}function Mh(e,t,n,r){return n===void 0&&(n=null),La({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?_o(t):t,{state:n,key:t&&t.key||r||Wx()})}function Qu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function _o(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Kx(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=qr.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(La({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=qr.Pop;let T=c(),m=T==null?null:T-u;u=T,l&&l({action:a,location:_.location,delta:m})}function d(T,m){a=qr.Push;let p=Mh(_.location,T,m);n&&n(p,T),u=c()+1;let v=Dv(p,u),I=_.createHref(p);try{o.pushState(v,"",I)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(I)}s&&l&&l({action:a,location:_.location,delta:1})}function h(T,m){a=qr.Replace;let p=Mh(_.location,T,m);n&&n(p,T),u=c();let v=Dv(p,u),I=_.createHref(p);o.replaceState(v,"",I),s&&l&&l({action:a,location:_.location,delta:0})}function y(T){let m=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof T=="string"?T:Qu(T);return ut(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let _={get action(){return a},get location(){return e(i,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Av,f),l=T,()=>{i.removeEventListener(Av,f),l=null}},createHref(T){return t(i,T)},createURL:y,encodeLocation(T){let m=y(T);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:h,go(T){return o.go(T)}};return _}var kv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(kv||(kv={}));function Hx(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?_o(t):t,i=Hm(r.pathname||"/",n);if(i==null)return null;let s=Cw(e);qx(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=nP(s[a],sP(i));return o}function Cw(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ut(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ri([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(ut(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Cw(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:eP(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of xw(s.path))i(s,o,l)}),t}function xw(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=xw(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function qx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:tP(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Qx=/^:\w+$/,Gx=3,Yx=2,Xx=1,Jx=10,Zx=-2,Nv=e=>e==="*";function eP(e,t){let n=e.split("/"),r=n.length;return n.some(Nv)&&(r+=Zx),t&&(r+=Yx),n.filter(i=>!Nv(i)).reduce((i,s)=>i+(Qx.test(s)?Gx:s===""?Xx:Jx),r)}function tP(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function nP(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=rP({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:ri([i,c.pathname]),pathnameBase:cP(ri([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=ri([i,c.pathnameBase]))}return s}function rP(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=iP(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:d,isOptional:h}=c;if(d==="*"){let _=a[f]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const y=a[f];return h&&!y?u[d]=void 0:u[d]=oP(y||"",d),u},{}),pathname:s,pathnameBase:o,pattern:e}}function iP(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Km(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function sP(e){try{return decodeURI(e)}catch(t){return Km(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function oP(e,t){try{return decodeURIComponent(e)}catch(n){return Km(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Hm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function aP(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?_o(e):e;return{pathname:n?n.startsWith("/")?n:lP(n,t):t,search:dP(r),hash:fP(i)}}function lP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ef(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uP(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Pw(e){return uP(e).map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function Rw(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=_o(e):(i=La({},e),ut(!i.pathname||!i.pathname.includes("?"),Ef("?","pathname","search",i)),ut(!i.pathname||!i.pathname.includes("#"),Ef("#","pathname","hash",i)),ut(!i.search||!i.search.includes("#"),Ef("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else if(r){let f=t[t.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f.pop();i.pathname=d.join("/")}a="/"+f.join("/")}else{let f=t.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?t[f]:"/"}let l=aP(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ri=e=>e.join("/").replace(/\/\/+/g,"/"),cP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function hP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Aw=["post","put","patch","delete"];new Set(Aw);const pP=["get",...Aw];new Set(pP);/**
 * React Router v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gu(){return Gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gu.apply(this,arguments)}const qm=g.createContext(null),mP=g.createContext(null),Eo=g.createContext(null),$c=g.createContext(null),Or=g.createContext({outlet:null,matches:[],isDataRoute:!1}),Dw=g.createContext(null);function gP(e,t){let{relative:n}=t===void 0?{}:t;fl()||ut(!1);let{basename:r,navigator:i}=g.useContext(Eo),{hash:s,pathname:o,search:a}=Nw(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ri([r,o])),i.createHref({pathname:l,search:a,hash:s})}function fl(){return g.useContext($c)!=null}function wo(){return fl()||ut(!1),g.useContext($c).location}function kw(e){g.useContext(Eo).static||g.useLayoutEffect(e)}function To(){let{isDataRoute:e}=g.useContext(Or);return e?kP():yP()}function yP(){fl()||ut(!1);let e=g.useContext(qm),{basename:t,navigator:n}=g.useContext(Eo),{matches:r}=g.useContext(Or),{pathname:i}=wo(),s=JSON.stringify(Pw(r)),o=g.useRef(!1);return kw(()=>{o.current=!0}),g.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=Rw(l,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:ri([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,s,i,e])}const vP=g.createContext(null);function _P(e){let t=g.useContext(Or).outlet;return t&&g.createElement(vP.Provider,{value:e},t)}function Qm(){let{matches:e}=g.useContext(Or),t=e[e.length-1];return t?t.params:{}}function Nw(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=g.useContext(Or),{pathname:i}=wo(),s=JSON.stringify(Pw(r));return g.useMemo(()=>Rw(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function EP(e,t){return wP(e,t)}function wP(e,t,n){fl()||ut(!1);let{navigator:r}=g.useContext(Eo),{matches:i}=g.useContext(Or),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=wo(),u;if(t){var c;let _=typeof t=="string"?_o(t):t;a==="/"||(c=_.pathname)!=null&&c.startsWith(a)||ut(!1),u=_}else u=l;let f=u.pathname||"/",d=a==="/"?f:f.slice(a.length)||"/",h=Hx(e,{pathname:d}),y=xP(h&&h.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:ri([a,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?a:ri([a,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n);return t&&y?g.createElement($c.Provider,{value:{location:Gu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:qr.Pop}},y):y}function TP(){let e=DP(),t=hP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:i},n):null,s)}const IP=g.createElement(TP,null);class SP extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?g.createElement(Or.Provider,{value:this.props.routeContext},g.createElement(Dw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CP(e){let{routeContext:t,match:n,children:r}=e,i=g.useContext(qm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Or.Provider,{value:t},r)}function xP(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let s=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||ut(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,f=null;n&&(f=l.route.errorElement||IP);let d=t.concat(s.slice(0,u+1)),h=()=>{let y;return c?y=f:l.route.Component?y=g.createElement(l.route.Component,null):l.route.element?y=l.route.element:y=a,g.createElement(CP,{match:l,routeContext:{outlet:a,matches:d,isDataRoute:n!=null},children:y})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?g.createElement(SP,{location:n.location,revalidation:n.revalidation,component:f,error:c,children:h(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):h()},null)}var Ow=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ow||{}),Yu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Yu||{});function PP(e){let t=g.useContext(qm);return t||ut(!1),t}function RP(e){let t=g.useContext(mP);return t||ut(!1),t}function AP(e){let t=g.useContext(Or);return t||ut(!1),t}function Vw(e){let t=AP(),n=t.matches[t.matches.length-1];return n.route.id||ut(!1),n.route.id}function DP(){var e;let t=g.useContext(Dw),n=RP(Yu.UseRouteError),r=Vw(Yu.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function kP(){let{router:e}=PP(Ow.UseNavigateStable),t=Vw(Yu.UseNavigateStable),n=g.useRef(!1);return kw(()=>{n.current=!0}),g.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Gu({fromRouteId:t},s)))},[e,t])}function bw(e){return _P(e.context)}function kn(e){ut(!1)}function NP(e){let{basename:t="/",children:n=null,location:r,navigationType:i=qr.Pop,navigator:s,static:o=!1}=e;fl()&&ut(!1);let a=t.replace(/^\/*/,"/"),l=g.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=_o(r));let{pathname:u="/",search:c="",hash:f="",state:d=null,key:h="default"}=r,y=g.useMemo(()=>{let _=Hm(u,a);return _==null?null:{location:{pathname:_,search:c,hash:f,state:d,key:h},navigationType:i}},[a,u,c,f,d,h,i]);return y==null?null:g.createElement(Eo.Provider,{value:l},g.createElement($c.Provider,{children:n,value:y}))}function OP(e){let{children:t,location:n}=e;return EP($h(t),n)}new Promise(()=>{});function $h(e,t){t===void 0&&(t=[]);let n=[];return g.Children.forEach(e,(r,i)=>{if(!g.isValidElement(r))return;let s=[...t,i];if(r.type===g.Fragment){n.push.apply(n,$h(r.props.children,s));return}r.type!==kn&&ut(!1),!r.props.index||!r.props.children||ut(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=$h(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fh(){return Fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fh.apply(this,arguments)}function VP(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function bP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function LP(e,t){return e.button===0&&(!t||t==="_self")&&!bP(e)}const MP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],$P="startTransition",Ov=OS[$P];function FP(e){let{basename:t,children:n,future:r,window:i}=e,s=g.useRef();s.current==null&&(s.current=zx({window:i,v5Compat:!0}));let o=s.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=g.useCallback(f=>{u&&Ov?Ov(()=>l(f)):l(f)},[l,u]);return g.useLayoutEffect(()=>o.listen(c),[o,c]),g.createElement(NP,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o})}const jP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ir=g.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:f}=t,d=VP(t,MP),{basename:h}=g.useContext(Eo),y,_=!1;if(typeof u=="string"&&UP.test(u)&&(y=u,jP))try{let v=new URL(window.location.href),I=u.startsWith("//")?new URL(v.protocol+u):new URL(u),C=Hm(I.pathname,h);I.origin===v.origin&&C!=null?u=C+I.search+I.hash:_=!0}catch{}let T=gP(u,{relative:i}),m=BP(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:f});function p(v){r&&r(v),v.defaultPrevented||m(v)}return g.createElement("a",Fh({},d,{href:y||T,onClick:_||s?r:p,ref:n,target:l}))});var Vv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Vv||(Vv={}));var bv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(bv||(bv={}));function BP(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=t===void 0?{}:t,l=To(),u=wo(),c=Nw(e,{relative:o});return g.useCallback(f=>{if(LP(f,n)){f.preventDefault();let d=r!==void 0?r:Qu(u)===Qu(c);l(e,{replace:d,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,e,s,o,a])}var Lv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},zP=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Mw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,h=u&63;l||(h=64,o||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Lw(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):zP(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new WP;const d=s<<2|a>>4;if(r.push(d),u!==64){const h=a<<4&240|u>>2;if(r.push(h),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class WP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KP=function(e){const t=Lw(e);return Mw.encodeByteArray(t,!0)},Xu=function(e){return KP(e).replace(/\./g,"")},HP=function(e){try{return Mw.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=()=>qP().__FIREBASE_DEFAULTS__,GP=()=>{if(typeof process>"u"||typeof Lv>"u")return;const e=Lv.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},YP=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&HP(e[1]);return t&&JSON.parse(t)},$w=()=>{try{return QP()||GP()||YP()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},XP=e=>{var t,n;return(n=(t=$w())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},JP=e=>{const t=XP(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Fw=()=>{var e;return(e=$w())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Xu(JSON.stringify(n)),Xu(JSON.stringify(o)),a].join(".")}function tR(){try{return typeof indexedDB=="object"}catch{return!1}}function nR(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="FirebaseError";class Io extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=rR,Object.setPrototypeOf(this,Io.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jw.prototype.create)}}class jw{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?iR(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Io(i,a,r)}}function iR(e,t){return e.replace(sR,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const sR=/\{\$([^}]+)}/g;function jh(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Mv(s)&&Mv(o)){if(!jh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Mv(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(e){return e&&e._delegate?e._delegate:e}class Ma{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oR=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new ZP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(lR(t))try{this.getOrInitializeService({instanceIdentifier:ki})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=ki){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ki){return this.instances.has(t)}getOptions(t=ki){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aR(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ki){return this.component?this.component.multipleInstances?t:ki:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function aR(e){return e===ki?void 0:e}function lR(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new oR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(pe||(pe={}));const cR={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},dR=pe.INFO,fR={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},hR=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=fR[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Uw{constructor(t){this.name=t,this._logLevel=dR,this._logHandler=hR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in pe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?cR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...t),this._logHandler(this,pe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...t),this._logHandler(this,pe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...t),this._logHandler(this,pe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...t),this._logHandler(this,pe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...t),this._logHandler(this,pe.ERROR,...t)}}const pR=(e,t)=>t.some(n=>e instanceof n);let $v,Fv;function mR(){return $v||($v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gR(){return Fv||(Fv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bw=new WeakMap,Uh=new WeakMap,zw=new WeakMap,wf=new WeakMap,Gm=new WeakMap;function yR(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(ii(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Bw.set(n,e)}).catch(()=>{}),Gm.set(t,e),t}function vR(e){if(Uh.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Uh.set(e,t)}let Bh={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Uh.get(e);if(t==="objectStoreNames")return e.objectStoreNames||zw.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ii(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function _R(e){Bh=e(Bh)}function ER(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Tf(this),t,...n);return zw.set(r,t.sort?t.sort():[t]),ii(r)}:gR().includes(e)?function(...t){return e.apply(Tf(this),t),ii(Bw.get(this))}:function(...t){return ii(e.apply(Tf(this),t))}}function wR(e){return typeof e=="function"?ER(e):(e instanceof IDBTransaction&&vR(e),pR(e,mR())?new Proxy(e,Bh):e)}function ii(e){if(e instanceof IDBRequest)return yR(e);if(wf.has(e))return wf.get(e);const t=wR(e);return t!==e&&(wf.set(e,t),Gm.set(t,e)),t}const Tf=e=>Gm.get(e);function TR(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=ii(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ii(o.result),l.oldVersion,l.newVersion,ii(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const IR=["get","getKey","getAll","getAllKeys","count"],SR=["put","add","delete","clear"],If=new Map;function jv(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(If.get(t))return If.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=SR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||IR.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return If.set(t,s),s}_R(e=>({...e,get:(t,n,r)=>jv(t,n)||e.get(t,n,r),has:(t,n)=>!!jv(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xR(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const zh="@firebase/app",Uv="0.9.24";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new Uw("@firebase/app"),PR="@firebase/app-compat",RR="@firebase/analytics-compat",AR="@firebase/analytics",DR="@firebase/app-check-compat",kR="@firebase/app-check",NR="@firebase/auth",OR="@firebase/auth-compat",VR="@firebase/database",bR="@firebase/database-compat",LR="@firebase/functions",MR="@firebase/functions-compat",$R="@firebase/installations",FR="@firebase/installations-compat",jR="@firebase/messaging",UR="@firebase/messaging-compat",BR="@firebase/performance",zR="@firebase/performance-compat",WR="@firebase/remote-config",KR="@firebase/remote-config-compat",HR="@firebase/storage",qR="@firebase/storage-compat",QR="@firebase/firestore",GR="@firebase/firestore-compat",YR="firebase",XR="10.7.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh="[DEFAULT]",JR={[zh]:"fire-core",[PR]:"fire-core-compat",[AR]:"fire-analytics",[RR]:"fire-analytics-compat",[kR]:"fire-app-check",[DR]:"fire-app-check-compat",[NR]:"fire-auth",[OR]:"fire-auth-compat",[VR]:"fire-rtdb",[bR]:"fire-rtdb-compat",[LR]:"fire-fn",[MR]:"fire-fn-compat",[$R]:"fire-iid",[FR]:"fire-iid-compat",[jR]:"fire-fcm",[UR]:"fire-fcm-compat",[BR]:"fire-perf",[zR]:"fire-perf-compat",[WR]:"fire-rc",[KR]:"fire-rc-compat",[HR]:"fire-gcs",[qR]:"fire-gcs-compat",[QR]:"fire-fst",[GR]:"fire-fst-compat","fire-js":"fire-js",[YR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new Map,Kh=new Map;function ZR(e,t){try{e.container.addComponent(t)}catch(n){Gi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Zu(e){const t=e.name;if(Kh.has(t))return Gi.debug(`There were multiple attempts to register component ${t}.`),!1;Kh.set(t,e);for(const n of Ju.values())ZR(n,e);return!0}function eA(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},si=new jw("app","Firebase",tA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=XR;function Ww(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Wh,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw si.create("bad-app-name",{appName:String(i)});if(n||(n=Fw()),!n)throw si.create("no-options");const s=Ju.get(i);if(s){if(jh(n,s.options)&&jh(r,s.config))return s;throw si.create("duplicate-app",{appName:i})}const o=new uR(i);for(const l of Kh.values())o.addComponent(l);const a=new nA(n,r,o);return Ju.set(i,a),a}function iA(e=Wh){const t=Ju.get(e);if(!t&&e===Wh&&Fw())return Ww();if(!t)throw si.create("no-app",{appName:e});return t}function Ks(e,t,n){var r;let i=(r=JR[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gi.warn(a.join(" "));return}Zu(new Ma(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="firebase-heartbeat-database",oA=1,$a="firebase-heartbeat-store";let Sf=null;function Kw(){return Sf||(Sf=TR(sA,oA,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore($a)}}}).catch(e=>{throw si.create("idb-open",{originalErrorMessage:e.message})})),Sf}async function aA(e){try{return await(await Kw()).transaction($a).objectStore($a).get(Hw(e))}catch(t){if(t instanceof Io)Gi.warn(t.message);else{const n=si.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Gi.warn(n.message)}}}async function Bv(e,t){try{const r=(await Kw()).transaction($a,"readwrite");await r.objectStore($a).put(t,Hw(e)),await r.done}catch(n){if(n instanceof Io)Gi.warn(n.message);else{const r=si.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gi.warn(r.message)}}}function Hw(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=1024,uA=30*24*60*60*1e3;class cA{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zv();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=uA}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=zv(),{heartbeatsToSend:r,unsentEntries:i}=dA(this._heartbeatsCache.heartbeats),s=Xu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function zv(){return new Date().toISOString().substring(0,10)}function dA(e,t=lA){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Wv(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Wv(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tR()?nR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Bv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Bv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Wv(e){return Xu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(e){Zu(new Ma("platform-logger",t=>new CR(t),"PRIVATE")),Zu(new Ma("heartbeat",t=>new cA(t),"PRIVATE")),Ks(zh,Uv,e),Ks(zh,Uv,"esm2017"),Ks("fire-js","")}hA("");var pA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},O,Ym=Ym||{},X=pA||self;function Fc(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function hl(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function mA(e){return Object.prototype.hasOwnProperty.call(e,Cf)&&e[Cf]||(e[Cf]=++gA)}var Cf="closure_uid_"+(1e9*Math.random()>>>0),gA=0;function yA(e,t,n){return e.call.apply(e.bind,arguments)}function vA(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Ut(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ut=yA:Ut=vA,Ut.apply(null,arguments)}function Gl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function It(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function Ei(){this.s=this.s,this.o=this.o}var _A=0;Ei.prototype.s=!1;Ei.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),_A!=0)&&mA(this)};Ei.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qw=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Xm(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Kv(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Fc(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function Bt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Bt.prototype.h=function(){this.defaultPrevented=!0};var EA=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};X.addEventListener("test",n,t),X.removeEventListener("test",n,t)}catch{}return e}();function Fa(e){return/^[\s\xa0]*$/.test(e)}function jc(){var e=X.navigator;return e&&(e=e.userAgent)?e:""}function ar(e){return jc().indexOf(e)!=-1}function Jm(e){return Jm[" "](e),e}Jm[" "]=function(){};function wA(e,t){var n=hD;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var TA=ar("Opera"),no=ar("Trident")||ar("MSIE"),Qw=ar("Edge"),Hh=Qw||no,Gw=ar("Gecko")&&!(jc().toLowerCase().indexOf("webkit")!=-1&&!ar("Edge"))&&!(ar("Trident")||ar("MSIE"))&&!ar("Edge"),IA=jc().toLowerCase().indexOf("webkit")!=-1&&!ar("Edge");function Yw(){var e=X.document;return e?e.documentMode:void 0}var qh;e:{var xf="",Pf=function(){var e=jc();if(Gw)return/rv:([^\);]+)(\)|;)/.exec(e);if(Qw)return/Edge\/([\d\.]+)/.exec(e);if(no)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(IA)return/WebKit\/(\S+)/.exec(e);if(TA)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Pf&&(xf=Pf?Pf[1]:""),no){var Rf=Yw();if(Rf!=null&&Rf>parseFloat(xf)){qh=String(Rf);break e}}qh=xf}var Qh;if(X.document&&no){var Hv=Yw();Qh=Hv||parseInt(qh,10)||void 0}else Qh=void 0;var SA=Qh;function ja(e,t){if(Bt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Gw){e:{try{Jm(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:CA[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ja.$.h.call(this)}}It(ja,Bt);var CA={2:"touch",3:"pen",4:"mouse"};ja.prototype.h=function(){ja.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var pl="closure_listenable_"+(1e6*Math.random()|0),xA=0;function PA(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++xA,this.fa=this.ia=!1}function Uc(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Zm(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function RA(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function Xw(e){const t={};for(const n in e)t[n]=e[n];return t}const qv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Jw(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<qv.length;s++)n=qv[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Bc(e){this.src=e,this.g={},this.h=0}Bc.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=Yh(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new PA(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function Gh(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=qw(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Uc(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Yh(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var eg="closure_lm_"+(1e6*Math.random()|0),Af={};function Zw(e,t,n,r,i){if(r&&r.once)return t1(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Zw(e,t[s],n,r,i);return null}return n=rg(n),e&&e[pl]?e.O(t,n,hl(r)?!!r.capture:!!r,i):e1(e,t,n,!1,r,i)}function e1(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=hl(i)?!!i.capture:!!i,a=ng(e);if(a||(e[eg]=a=new Bc(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=AA(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)EA||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(r1(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function AA(){function e(n){return t.call(e.src,e.listener,n)}const t=DA;return e}function t1(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)t1(e,t[s],n,r,i);return null}return n=rg(n),e&&e[pl]?e.P(t,n,hl(r)?!!r.capture:!!r,i):e1(e,t,n,!0,r,i)}function n1(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)n1(e,t[s],n,r,i);else r=hl(r)?!!r.capture:!!r,n=rg(n),e&&e[pl]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Yh(s,n,r,i),-1<n&&(Uc(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=ng(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Yh(t,n,r,i)),(n=-1<e?t[e]:null)&&tg(n))}function tg(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[pl])Gh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(r1(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ng(t))?(Gh(n,e),n.h==0&&(n.src=null,t[eg]=null)):Uc(e)}}}function r1(e){return e in Af?Af[e]:Af[e]="on"+e}function DA(e,t){if(e.fa)e=!0;else{t=new ja(t,this);var n=e.listener,r=e.la||e.src;e.ia&&tg(e),e=n.call(r,t)}return e}function ng(e){return e=e[eg],e instanceof Bc?e:null}var Df="__closure_events_fn_"+(1e9*Math.random()>>>0);function rg(e){return typeof e=="function"?e:(e[Df]||(e[Df]=function(t){return e.handleEvent(t)}),e[Df])}function Tt(){Ei.call(this),this.i=new Bc(this),this.S=this,this.J=null}It(Tt,Ei);Tt.prototype[pl]=!0;Tt.prototype.removeEventListener=function(e,t,n,r){n1(this,e,t,n,r)};function Nt(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new Bt(t,e);else if(t instanceof Bt)t.target=t.target||e;else{var i=t;t=new Bt(r,e),Jw(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Yl(o,r,!0,t)&&i}if(o=t.g=e,i=Yl(o,r,!0,t)&&i,i=Yl(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Yl(o,r,!1,t)&&i}Tt.prototype.N=function(){if(Tt.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Uc(n[r]);delete e.g[t],e.h--}}this.J=null};Tt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Tt.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Yl(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Gh(e.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var ig=X.JSON.stringify;class kA{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function NA(){var e=sg;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class OA{constructor(){this.h=this.g=null}add(t,n){const r=i1.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var i1=new kA(()=>new VA,e=>e.reset());class VA{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function bA(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function LA(e){X.setTimeout(()=>{throw e},0)}let Ua,Ba=!1,sg=new OA,s1=()=>{const e=X.Promise.resolve(void 0);Ua=()=>{e.then(MA)}};var MA=()=>{for(var e;e=NA();){try{e.h.call(e.g)}catch(n){LA(n)}var t=i1;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ba=!1};function zc(e,t){Tt.call(this),this.h=e||1,this.g=t||X,this.j=Ut(this.qb,this),this.l=Date.now()}It(zc,Tt);O=zc.prototype;O.ga=!1;O.T=null;O.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Nt(this,"tick"),this.ga&&(og(this),this.start()))}};O.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function og(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}O.N=function(){zc.$.N.call(this),og(this),delete this.g};function ag(e,t,n){if(typeof e=="function")n&&(e=Ut(e,n));else if(e&&typeof e.handleEvent=="function")e=Ut(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:X.setTimeout(e,t||0)}function o1(e){e.g=ag(()=>{e.g=null,e.i&&(e.i=!1,o1(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class $A extends Ei{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:o1(this)}N(){super.N(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function za(e){Ei.call(this),this.h=e,this.g={}}It(za,Ei);var Qv=[];function a1(e,t,n,r){Array.isArray(n)||(n&&(Qv[0]=n.toString()),n=Qv);for(var i=0;i<n.length;i++){var s=Zw(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function l1(e){Zm(e.g,function(t,n){this.g.hasOwnProperty(n)&&tg(t)},e),e.g={}}za.prototype.N=function(){za.$.N.call(this),l1(this)};za.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Wc(){this.g=!0}Wc.prototype.Ea=function(){this.g=!1};function FA(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function jA(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function bs(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+BA(e,n)+(r?" "+r:"")})}function UA(e,t){e.info(function(){return"TIMEOUT: "+t})}Wc.prototype.info=function(){};function BA(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return ig(n)}catch{return t}}var as={},Gv=null;function Kc(){return Gv=Gv||new Tt}as.Ta="serverreachability";function u1(e){Bt.call(this,as.Ta,e)}It(u1,Bt);function Wa(e){const t=Kc();Nt(t,new u1(t))}as.STAT_EVENT="statevent";function c1(e,t){Bt.call(this,as.STAT_EVENT,e),this.stat=t}It(c1,Bt);function Jt(e){const t=Kc();Nt(t,new c1(t,e))}as.Ua="timingevent";function d1(e,t){Bt.call(this,as.Ua,e),this.size=t}It(d1,Bt);function ml(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){e()},t)}var Hc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},f1={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function lg(){}lg.prototype.h=null;function Yv(e){return e.h||(e.h=e.i())}function h1(){}var gl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ug(){Bt.call(this,"d")}It(ug,Bt);function cg(){Bt.call(this,"c")}It(cg,Bt);var Xh;function qc(){}It(qc,lg);qc.prototype.g=function(){return new XMLHttpRequest};qc.prototype.i=function(){return{}};Xh=new qc;function yl(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new za(this),this.P=zA,e=Hh?125:void 0,this.V=new zc(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new p1}function p1(){this.i=null,this.g="",this.h=!1}var zA=45e3,m1={},Jh={};O=yl.prototype;O.setTimeout=function(e){this.P=e};function Zh(e,t,n){e.L=1,e.A=Gc(Ar(t)),e.u=n,e.S=!0,g1(e,null)}function g1(e,t){e.G=Date.now(),vl(e),e.B=Ar(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),S1(n.i,"t",r),e.o=0,n=e.l.J,e.h=new p1,e.g=K1(e.l,n?t:null,!e.u),0<e.O&&(e.M=new $A(Ut(e.Pa,e,e.g),e.O)),a1(e.U,e.g,"readystatechange",e.nb),t=e.I?Xw(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Wa(),FA(e.j,e.v,e.B,e.m,e.W,e.u)}O.nb=function(e){e=e.target;const t=this.M;t&&lr(e)==3?t.l():this.Pa(e)};O.Pa=function(e){try{if(e==this.g)e:{const c=lr(this.g);var t=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||Hh||this.g&&(this.h.h||this.g.ja()||e_(this.g)))){this.J||c!=4||t==7||(t==8||0>=f?Wa(3):Wa(2)),Qc(this);var n=this.g.da();this.ca=n;t:if(y1(this)){var r=e_(this.g);e="";var i=r.length,s=lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Li(this),da(this);var o="";break t}this.h.i=new X.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,jA(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fa(a)){var u=a;break t}}u=null}if(n=u)bs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ep(this,n);else{this.i=!1,this.s=3,Jt(12),Li(this),da(this);break e}}this.S?(v1(this,c,o),Hh&&this.i&&c==3&&(a1(this.U,this.V,"tick",this.mb),this.V.start())):(bs(this.j,this.m,o,null),ep(this,o)),c==4&&Li(this),this.i&&!this.J&&(c==4?U1(this.l,this):(this.i=!1,vl(this)))}else cD(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),Li(this),da(this)}}}catch{}finally{}};function y1(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function v1(e,t,n){let r=!0,i;for(;!e.J&&e.o<n.length;)if(i=WA(e,n),i==Jh){t==4&&(e.s=4,Jt(14),r=!1),bs(e.j,e.m,null,"[Incomplete Response]");break}else if(i==m1){e.s=4,Jt(15),bs(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else bs(e.j,e.m,i,null),ep(e,i);y1(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,Jt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),gg(t),t.M=!0,Jt(11))):(bs(e.j,e.m,n,"[Invalid Chunked Response]"),Li(e),da(e))}O.mb=function(){if(this.g){var e=lr(this.g),t=this.g.ja();this.o<t.length&&(Qc(this),v1(this,e,t),this.i&&e!=4&&vl(this))}};function WA(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?Jh:(n=Number(t.substring(n,r)),isNaN(n)?m1:(r+=1,r+n>t.length?Jh:(t=t.slice(r,r+n),e.o=r+n,t)))}O.cancel=function(){this.J=!0,Li(this)};function vl(e){e.Y=Date.now()+e.P,_1(e,e.P)}function _1(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=ml(Ut(e.lb,e),t)}function Qc(e){e.C&&(X.clearTimeout(e.C),e.C=null)}O.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(UA(this.j,this.B),this.L!=2&&(Wa(),Jt(17)),Li(this),this.s=2,da(this)):_1(this,this.Y-e)};function da(e){e.l.H==0||e.J||U1(e.l,e)}function Li(e){Qc(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,og(e.V),l1(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function ep(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||tp(n.i,e))){if(!e.K&&tp(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)nc(n),Zc(n);else break e;mg(n),Jt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ml(Ut(n.ib,n),6e3));if(1>=P1(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Mi(n,11)}else if((e.K||n.g==e)&&nc(n),!Fa(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const f=u[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const y=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.i;s.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(dg(s,s.h),s.h=null))}if(r.F){const _=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,Me(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=W1(r,r.J?r.pa:null,r.Y),o.K){R1(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Qc(a),vl(a)),r.g=o}else F1(r);0<n.j.length&&ed(n)}else u[0]!="stop"&&u[0]!="close"||Mi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Mi(n,7):pg(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Wa(4)}catch{}}function KA(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Fc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function HA(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Fc(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function E1(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Fc(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=HA(e),r=KA(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var w1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qA(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ui(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ui){this.h=e.h,ec(this,e.j),this.s=e.s,this.g=e.g,tc(this,e.m),this.l=e.l;var t=e.i,n=new Ka;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Xv(this,n),this.o=e.o}else e&&(t=String(e).match(w1))?(this.h=!1,ec(this,t[1]||"",!0),this.s=Go(t[2]||""),this.g=Go(t[3]||"",!0),tc(this,t[4]),this.l=Go(t[5]||"",!0),Xv(this,t[6]||"",!0),this.o=Go(t[7]||"")):(this.h=!1,this.i=new Ka(null,this.h))}Ui.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Yo(t,Jv,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Yo(t,Jv,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Yo(n,n.charAt(0)=="/"?YA:GA,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Yo(n,JA)),e.join("")};function Ar(e){return new Ui(e)}function ec(e,t,n){e.j=n?Go(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function tc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Xv(e,t,n){t instanceof Ka?(e.i=t,ZA(e.i,e.h)):(n||(t=Yo(t,XA)),e.i=new Ka(t,e.h))}function Me(e,t,n){e.i.set(t,n)}function Gc(e){return Me(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Go(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Yo(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,QA),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function QA(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Jv=/[#\/\?@]/g,GA=/[#\?:]/g,YA=/[#\?]/g,XA=/[#\?@]/g,JA=/#/g;function Ka(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wi(e){e.g||(e.g=new Map,e.h=0,e.i&&qA(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}O=Ka.prototype;O.add=function(e,t){wi(this),this.i=null,e=So(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function T1(e,t){wi(e),t=So(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function I1(e,t){return wi(e),t=So(e,t),e.g.has(t)}O.forEach=function(e,t){wi(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};O.ta=function(){wi(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};O.Z=function(e){wi(this);let t=[];if(typeof e=="string")I1(this,e)&&(t=t.concat(this.g.get(So(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};O.set=function(e,t){return wi(this),this.i=null,e=So(this,e),I1(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};O.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function S1(e,t,n){T1(e,t),0<n.length&&(e.i=null,e.g.set(So(e,t),Xm(n)),e.h+=n.length)}O.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function So(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function ZA(e,t){t&&!e.j&&(wi(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(T1(this,r),S1(this,i,n))},e)),e.j=t}var eD=class{constructor(e,t){this.g=e,this.map=t}};function C1(e){this.l=e||tD,X.PerformanceNavigationTiming?(e=X.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(X.g&&X.g.Ka&&X.g.Ka()&&X.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var tD=10;function x1(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function P1(e){return e.h?1:e.g?e.g.size:0}function tp(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function dg(e,t){e.g?e.g.add(t):e.h=t}function R1(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}C1.prototype.cancel=function(){if(this.i=A1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function A1(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Xm(e.i)}var nD=class{stringify(e){return X.JSON.stringify(e,void 0)}parse(e){return X.JSON.parse(e,void 0)}};function rD(){this.g=new nD}function iD(e,t,n){const r=n||"";try{E1(e,function(i,s){let o=i;hl(i)&&(o=ig(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function sD(e,t){const n=new Wc;if(X.Image){const r=new Image;r.onload=Gl(Xl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Gl(Xl,n,r,"TestLoadImage: error",!1,t),r.onabort=Gl(Xl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Gl(Xl,n,r,"TestLoadImage: timeout",!1,t),X.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Xl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Yc(e){this.l=e.ec||null,this.j=e.ob||!1}It(Yc,lg);Yc.prototype.g=function(){return new Xc(this.l,this.j)};Yc.prototype.i=function(e){return function(){return e}}({});function Xc(e,t){Tt.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=fg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}It(Xc,Tt);var fg=0;O=Xc.prototype;O.open=function(e,t){if(this.readyState!=fg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ha(this)};O.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||X).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};O.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_l(this)),this.readyState=fg};O.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ha(this)),this.g&&(this.readyState=3,Ha(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof X.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;D1(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function D1(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}O.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?_l(this):Ha(this),this.readyState==3&&D1(this)}};O.Za=function(e){this.g&&(this.response=this.responseText=e,_l(this))};O.Ya=function(e){this.g&&(this.response=e,_l(this))};O.ka=function(){this.g&&_l(this)};function _l(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ha(e)}O.setRequestHeader=function(e,t){this.v.append(e,t)};O.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};O.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Ha(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Xc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var oD=X.JSON.parse;function et(e){Tt.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=k1,this.L=this.M=!1}It(et,Tt);var k1="",aD=/^https?$/i,lD=["POST","PUT"];O=et.prototype;O.Oa=function(e){this.M=e};O.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Xh.g(),this.C=this.u?Yv(this.u):Yv(Xh),this.g.onreadystatechange=Ut(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){Zv(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=X.FormData&&e instanceof X.FormData,!(0<=qw(lD,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{V1(this),0<this.B&&((this.L=uD(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ut(this.ua,this)):this.A=ag(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Zv(this,s)}};function uD(e){return no&&typeof e.timeout=="number"&&e.ontimeout!==void 0}O.ua=function(){typeof Ym<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nt(this,"timeout"),this.abort(8))};function Zv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,N1(e),Jc(e)}function N1(e){e.F||(e.F=!0,Nt(e,"complete"),Nt(e,"error"))}O.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Nt(this,"complete"),Nt(this,"abort"),Jc(this))};O.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jc(this,!0)),et.$.N.call(this)};O.La=function(){this.s||(this.G||this.v||this.l?O1(this):this.kb())};O.kb=function(){O1(this)};function O1(e){if(e.h&&typeof Ym<"u"&&(!e.C[1]||lr(e)!=4||e.da()!=2)){if(e.v&&lr(e)==4)ag(e.La,0,e);else if(Nt(e,"readystatechange"),lr(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(w1)[1]||null;!i&&X.self&&X.self.location&&(i=X.self.location.protocol.slice(0,-1)),r=!aD.test(i?i.toLowerCase():"")}n=r}if(n)Nt(e,"complete"),Nt(e,"success");else{e.m=6;try{var s=2<lr(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",N1(e)}}finally{Jc(e)}}}}function Jc(e,t){if(e.g){V1(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Nt(e,"ready");try{n.onreadystatechange=r}catch{}}}function V1(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(X.clearTimeout(e.A),e.A=null)}O.isActive=function(){return!!this.g};function lr(e){return e.g?e.g.readyState:0}O.da=function(){try{return 2<lr(this)?this.g.status:-1}catch{return-1}};O.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};O.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),oD(t)}};function e_(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case k1:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function cD(e){const t={};e=(e.g&&2<=lr(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(Fa(e[r]))continue;var n=bA(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}RA(t,function(r){return r.join(", ")})}O.Ia=function(){return this.m};O.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function b1(e){let t="";return Zm(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function hg(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=b1(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Me(e,t,n))}function Bo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function L1(e){this.Ga=0,this.j=[],this.l=new Wc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Bo("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Bo("baseRetryDelayMs",5e3,e),this.hb=Bo("retryDelaySeedMs",1e4,e),this.eb=Bo("forwardChannelMaxRetries",2,e),this.xa=Bo("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new C1(e&&e.concurrentRequestLimit),this.Ja=new rD,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}O=L1.prototype;O.ra=8;O.H=1;function pg(e){if(M1(e),e.H==3){var t=e.W++,n=Ar(e.I);if(Me(n,"SID",e.K),Me(n,"RID",t),Me(n,"TYPE","terminate"),El(e,n),t=new yl(e,e.l,t),t.L=2,t.A=Gc(Ar(n)),n=!1,X.navigator&&X.navigator.sendBeacon)try{n=X.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&X.Image&&(new Image().src=t.A,n=!0),n||(t.g=K1(t.l,null),t.g.ha(t.A)),t.G=Date.now(),vl(t)}z1(e)}function Zc(e){e.g&&(gg(e),e.g.cancel(),e.g=null)}function M1(e){Zc(e),e.u&&(X.clearTimeout(e.u),e.u=null),nc(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&X.clearTimeout(e.m),e.m=null)}function ed(e){if(!x1(e.i)&&!e.m){e.m=!0;var t=e.Na;Ua||s1(),Ba||(Ua(),Ba=!0),sg.add(t,e),e.C=0}}function dD(e,t){return P1(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=ml(Ut(e.Na,e,t),B1(e,e.C)),e.C++,!0)}O.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new yl(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Xw(s),Jw(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=$1(this,i,t),n=Ar(this.I),Me(n,"RID",e),Me(n,"CVER",22),this.F&&Me(n,"X-HTTP-Session-Id",this.F),El(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(b1(s)))+"&"+t:this.o&&hg(n,this.o,s)),dg(this.i,i),this.bb&&Me(n,"TYPE","init"),this.P?(Me(n,"$req",t),Me(n,"SID","null"),i.aa=!0,Zh(i,n,null)):Zh(i,n,t),this.H=2}}else this.H==3&&(e?t_(this,e):this.j.length==0||x1(this.i)||t_(this))};function t_(e,t){var n;t?n=t.m:n=e.W++;const r=Ar(e.I);Me(r,"SID",e.K),Me(r,"RID",n),Me(r,"AID",e.V),El(e,r),e.o&&e.s&&hg(r,e.o,e.s),n=new yl(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=$1(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),dg(e.i,n),Zh(n,r,t)}function El(e,t){e.na&&Zm(e.na,function(n,r){Me(t,r,n)}),e.h&&E1({},function(n,r){Me(t,r,n)})}function $1(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ut(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{iD(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function F1(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Ua||s1(),Ba||(Ua(),Ba=!0),sg.add(t,e),e.A=0}}function mg(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=ml(Ut(e.Ma,e),B1(e,e.A)),e.A++,!0)}O.Ma=function(){if(this.u=null,j1(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=ml(Ut(this.jb,this),e)}};O.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Jt(10),Zc(this),j1(this))};function gg(e){e.B!=null&&(X.clearTimeout(e.B),e.B=null)}function j1(e){e.g=new yl(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Ar(e.wa);Me(t,"RID","rpc"),Me(t,"SID",e.K),Me(t,"AID",e.V),Me(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Me(t,"TO",e.qa),Me(t,"TYPE","xmlhttp"),El(e,t),e.o&&e.s&&hg(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Gc(Ar(t)),n.u=null,n.S=!0,g1(n,e)}O.ib=function(){this.v!=null&&(this.v=null,Zc(this),mg(this),Jt(19))};function nc(e){e.v!=null&&(X.clearTimeout(e.v),e.v=null)}function U1(e,t){var n=null;if(e.g==t){nc(e),gg(e),e.g=null;var r=2}else if(tp(e.i,t))n=t.F,R1(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;r=Kc(),Nt(r,new d1(r,n)),ed(e)}else F1(e);else if(i=t.s,i==3||i==0&&0<t.ca||!(r==1&&dD(e,t)||r==2&&mg(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Mi(e,5);break;case 4:Mi(e,10);break;case 3:Mi(e,6);break;default:Mi(e,2)}}}function B1(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Mi(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=Ut(e.pb,e);n||(n=new Ui("//www.google.com/images/cleardot.gif"),X.location&&X.location.protocol=="http"||ec(n,"https"),Gc(n)),sD(n.toString(),r)}else Jt(2);e.H=0,e.h&&e.h.za(t),z1(e),M1(e)}O.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Jt(2)):(this.l.info("Failed to ping google.com"),Jt(1))};function z1(e){if(e.H=0,e.ma=[],e.h){const t=A1(e.i);(t.length!=0||e.j.length!=0)&&(Kv(e.ma,t),Kv(e.ma,e.j),e.i.i.length=0,Xm(e.j),e.j.length=0),e.h.ya()}}function W1(e,t,n){var r=n instanceof Ui?Ar(n):new Ui(n);if(r.g!="")t&&(r.g=t+"."+r.g),tc(r,r.m);else{var i=X.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Ui(null);r&&ec(s,r),t&&(s.g=t),i&&tc(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Me(r,n,t),Me(r,"VER",e.ra),El(e,r),r}function K1(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new et(new Yc({ob:n})):new et(e.va),t.Oa(e.J),t}O.isActive=function(){return!!this.h&&this.h.isActive(this)};function H1(){}O=H1.prototype;O.Ba=function(){};O.Aa=function(){};O.za=function(){};O.ya=function(){};O.isActive=function(){return!0};O.Va=function(){};function rc(){if(no&&!(10<=Number(SA)))throw Error("Environmental error: no available transport.")}rc.prototype.g=function(e,t){return new Cn(e,t)};function Cn(e,t){Tt.call(this),this.g=new L1(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Fa(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Fa(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Co(this)}It(Cn,Tt);Cn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Jt(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=W1(e,null,e.Y),ed(e)};Cn.prototype.close=function(){pg(this.g)};Cn.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=ig(e),e=n);t.j.push(new eD(t.fb++,e)),t.H==3&&ed(t)};Cn.prototype.N=function(){this.g.h=null,delete this.j,pg(this.g),delete this.g,Cn.$.N.call(this)};function q1(e){ug.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}It(q1,ug);function Q1(){cg.call(this),this.status=1}It(Q1,cg);function Co(e){this.g=e}It(Co,H1);Co.prototype.Ba=function(){Nt(this.g,"a")};Co.prototype.Aa=function(e){Nt(this.g,new q1(e))};Co.prototype.za=function(e){Nt(this.g,new Q1)};Co.prototype.ya=function(){Nt(this.g,"b")};function fD(){this.blockSize=-1}function er(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}It(er,fD);er.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function kf(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}er.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)kf(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){kf(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){kf(this,r),i=0;break}}this.h=i,this.i+=t};er.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function Ce(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var hD={};function yg(e){return-128<=e&&128>e?wA(e,function(t){return new Ce([t|0],0>t?-1:0)}):new Ce([e|0],0>e?-1:0)}function ur(e){if(isNaN(e)||!isFinite(e))return Hs;if(0>e)return Rt(ur(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=np;return new Ce(t,0)}function G1(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Rt(G1(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ur(Math.pow(t,8)),r=Hs,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=ur(Math.pow(t,s)),r=r.R(s).add(ur(o))):(r=r.R(n),r=r.add(ur(o)))}return r}var np=4294967296,Hs=yg(0),rp=yg(1),n_=yg(16777216);O=Ce.prototype;O.ea=function(){if(Vn(this))return-Rt(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:np+r)*t,t*=np}return e};O.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(wr(this))return"0";if(Vn(this))return"-"+Rt(this).toString(e);for(var t=ur(Math.pow(e,6)),n=this,r="";;){var i=sc(n,t).g;n=ic(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,wr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};O.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function wr(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Vn(e){return e.h==-1}O.X=function(e){return e=ic(this,e),Vn(e)?-1:wr(e)?0:1};function Rt(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Ce(n,~e.h).add(rp)}O.abs=function(){return Vn(this)?Rt(this):this};O.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ce(n,n[n.length-1]&-2147483648?-1:0)};function ic(e,t){return e.add(Rt(t))}O.R=function(e){if(wr(this)||wr(e))return Hs;if(Vn(this))return Vn(e)?Rt(this).R(Rt(e)):Rt(Rt(this).R(e));if(Vn(e))return Rt(this.R(Rt(e)));if(0>this.X(n_)&&0>e.X(n_))return ur(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,l=e.D(i)&65535;n[2*r+2*i]+=o*l,Jl(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Jl(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Jl(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Jl(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Ce(n,0)};function Jl(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function zo(e,t){this.g=e,this.h=t}function sc(e,t){if(wr(t))throw Error("division by zero");if(wr(e))return new zo(Hs,Hs);if(Vn(e))return t=sc(Rt(e),t),new zo(Rt(t.g),Rt(t.h));if(Vn(t))return t=sc(e,Rt(t)),new zo(Rt(t.g),t.h);if(30<e.g.length){if(Vn(e)||Vn(t))throw Error("slowDivide_ only works with positive integers.");for(var n=rp,r=t;0>=r.X(e);)n=r_(n),r=r_(r);var i=ys(n,1),s=ys(r,1);for(r=ys(r,2),n=ys(n,2);!wr(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=ys(r,1),n=ys(n,1)}return t=ic(e,i.R(t)),new zo(i,t)}for(i=Hs;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=ur(n),o=s.R(t);Vn(o)||0<o.X(e);)n-=r,s=ur(n),o=s.R(t);wr(s)&&(s=rp),i=i.add(s),e=ic(e,o)}return new zo(i,e)}O.gb=function(e){return sc(this,e).h};O.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Ce(n,this.h&e.h)};O.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Ce(n,this.h|e.h)};O.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Ce(n,this.h^e.h)};function r_(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Ce(n,e.h)}function ys(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Ce(i,e.h)}rc.prototype.createWebChannel=rc.prototype.g;Cn.prototype.send=Cn.prototype.u;Cn.prototype.open=Cn.prototype.m;Cn.prototype.close=Cn.prototype.close;Hc.NO_ERROR=0;Hc.TIMEOUT=8;Hc.HTTP_ERROR=6;f1.COMPLETE="complete";h1.EventType=gl;gl.OPEN="a";gl.CLOSE="b";gl.ERROR="c";gl.MESSAGE="d";Tt.prototype.listen=Tt.prototype.O;et.prototype.listenOnce=et.prototype.P;et.prototype.getLastError=et.prototype.Sa;et.prototype.getLastErrorCode=et.prototype.Ia;et.prototype.getStatus=et.prototype.da;et.prototype.getResponseJson=et.prototype.Wa;et.prototype.getResponseText=et.prototype.ja;et.prototype.send=et.prototype.ha;et.prototype.setWithCredentials=et.prototype.Oa;er.prototype.digest=er.prototype.l;er.prototype.reset=er.prototype.reset;er.prototype.update=er.prototype.j;Ce.prototype.add=Ce.prototype.add;Ce.prototype.multiply=Ce.prototype.R;Ce.prototype.modulo=Ce.prototype.gb;Ce.prototype.compare=Ce.prototype.X;Ce.prototype.toNumber=Ce.prototype.ea;Ce.prototype.toString=Ce.prototype.toString;Ce.prototype.getBits=Ce.prototype.D;Ce.fromNumber=ur;Ce.fromString=G1;var pD=function(){return new rc},mD=function(){return Kc()},Nf=Hc,gD=f1,yD=as,i_={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Zl=h1,vD=et,_D=er,qs=Ce;const s_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xo="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new Uw("@firebase/firestore");function Wo(){return Yi.logLevel}function U(e,...t){if(Yi.logLevel<=pe.DEBUG){const n=t.map(vg);Yi.debug(`Firestore (${xo}): ${e}`,...n)}}function Dr(e,...t){if(Yi.logLevel<=pe.ERROR){const n=t.map(vg);Yi.error(`Firestore (${xo}): ${e}`,...n)}}function ro(e,...t){if(Yi.logLevel<=pe.WARN){const n=t.map(vg);Yi.warn(`Firestore (${xo}): ${e}`,...n)}}function vg(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(e="Unexpected state"){const t=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: `+e;throw Dr(t),new Error(t)}function be(e,t){e||Y()}function ee(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends Io{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ED{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class wD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class TD{constructor(t){this.t=t,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Sr,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Sr)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string"),new Y1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return be(t===null||typeof t=="string"),new $t(t)}}class ID{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class SD{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new ID(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CD{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xD{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,U("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(be(typeof n.token=="string"),this.R=n.token,new CD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=PD(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function ve(e,t){return e<t?-1:e>t?1:0}function io(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new $(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new $(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new $(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return gt.fromMillis(Date.now())}static fromDate(t){return gt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new gt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ve(this.nanoseconds,t.nanoseconds):ve(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Z(t)}static min(){return new Z(new gt(0,0))}static max(){return new Z(new gt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t,n,r){n===void 0?n=0:n>t.length&&Y(),r===void 0?r=t.length-n:r>t.length-n&&Y(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return qa.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof qa?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class $e extends qa{construct(t,n,r){return new $e(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new $(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const RD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends qa{construct(t,n,r){return new Dt(t,n,r)}static isValidIdentifier(t){return RD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Dt(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new $(P.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new $(P.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new $(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new $(P.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Dt(n)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.path=t}static fromPath(t){return new K($e.fromString(t))}static fromName(t){return new K($e.fromString(t).popFirst(5))}static empty(){return new K($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&$e.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return $e.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new K(new $e(t.slice()))}}function AD(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new di(i,K.empty(),t)}function DD(e){return new di(e.readTime,e.key,-1)}class di{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new di(Z.min(),K.empty(),-1)}static max(){return new di(Z.max(),K.empty(),-1)}}function kD(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=K.comparator(e.documentKey,t.documentKey),n!==0?n:ve(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(e){if(e.code!==P.FAILED_PRECONDITION||e.message!==ND)throw e;U("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new A((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof A?n:A.resolve(n)}catch(n){return A.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):A.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):A.reject(n)}static resolve(t){return new A((n,r)=>{n(t)})}static reject(t){return new A((n,r)=>{r(t)})}static waitFor(t){return new A((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=A.resolve(!1);for(const r of t)n=n.next(i=>i?A.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new A((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new A((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function Tl(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}_g._e=-1;function td(e){return e==null}function oc(e){return e===0&&1/e==-1/0}function VD(e){return typeof e=="number"&&Number.isInteger(e)&&!oc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ls(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function J1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,n){this.comparator=t,this.root=n||Pt.EMPTY}insert(t,n){return new Xe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(t){return new Xe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new eu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new eu(this.root,t,this.comparator,!1)}getReverseIterator(){return new eu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new eu(this.root,t,this.comparator,!0)}}class eu{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Pt{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Pt.RED,this.left=i??Pt.EMPTY,this.right=s??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Pt(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();const t=this.left.check();if(t!==this.right.check())throw Y();return t+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(t,n,r,i,s){return this}insert(t,n,r){return new Pt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t){this.comparator=t,this.data=new Xe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new a_(this.data.getIterator())}getIteratorFrom(t){return new a_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Ot)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ot(this.comparator);return n.data=t,n}}class a_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t){this.fields=t,t.sort(Dt.comparator)}static empty(){return new En([])}unionWith(t){let n=new Ot(Dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new En(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return io(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Z1("Invalid base64 string: "+s):s}}(t);return new Wt(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new Wt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ve(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const bD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fi(e){if(be(!!e),typeof e=="string"){let t=0;const n=bD.exec(e);if(be(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:st(e.seconds),nanos:st(e.nanos)}}function st(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Xi(e){return typeof e=="string"?Wt.fromBase64String(e):Wt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function wg(e){const t=e.mapValue.fields.__previous_value__;return Eg(t)?wg(t):t}function Qa(e){const t=fi(e.mapValue.fields.__local_write_time__.timestampValue);return new gt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t,n,r,i,s,o,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ga{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Ga("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Ga&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ji(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Eg(e)?4:MD(e)?9007199254740991:10:Y()}function mr(e,t){if(e===t)return!0;const n=Ji(e);if(n!==Ji(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Qa(e).isEqual(Qa(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=fi(i.timestampValue),a=fi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return Xi(i.bytesValue).isEqual(Xi(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return st(i.geoPointValue.latitude)===st(s.geoPointValue.latitude)&&st(i.geoPointValue.longitude)===st(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return st(i.integerValue)===st(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=st(i.doubleValue),a=st(s.doubleValue);return o===a?oc(o)===oc(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return io(e.arrayValue.values||[],t.arrayValue.values||[],mr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(o_(o)!==o_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!mr(o[l],a[l])))return!1;return!0}(e,t);default:return Y()}}function Ya(e,t){return(e.values||[]).find(n=>mr(n,t))!==void 0}function so(e,t){if(e===t)return 0;const n=Ji(e),r=Ji(t);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=st(s.integerValue||s.doubleValue),l=st(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return l_(e.timestampValue,t.timestampValue);case 4:return l_(Qa(e),Qa(t));case 5:return ve(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Xi(s),l=Xi(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=ve(a[u],l[u]);if(c!==0)return c}return ve(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=ve(st(s.latitude),st(o.latitude));return a!==0?a:ve(st(s.longitude),st(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=so(a[u],l[u]);if(c)return c}return ve(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===tu.mapValue&&o===tu.mapValue)return 0;if(s===tu.mapValue)return 1;if(o===tu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=ve(l[f],c[f]);if(d!==0)return d;const h=so(a[l[f]],u[c[f]]);if(h!==0)return h}return ve(l.length,c.length)}(e.mapValue,t.mapValue);default:throw Y()}}function l_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ve(e,t);const n=fi(e),r=fi(t),i=ve(n.seconds,r.seconds);return i!==0?i:ve(n.nanos,r.nanos)}function oo(e){return ip(e)}function ip(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=fi(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Xi(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return K.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=ip(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${ip(n.fields[o])}`;return i+"}"}(e.mapValue):Y()}function u_(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function sp(e){return!!e&&"integerValue"in e}function Tg(e){return!!e&&"arrayValue"in e}function c_(e){return!!e&&"nullValue"in e}function d_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function _u(e){return!!e&&"mapValue"in e}function fa(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ls(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=fa(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=fa(e.arrayValue.values[n]);return t}return Object.assign({},e)}function MD(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.value=t}static empty(){return new an({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!_u(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=fa(n)}setAll(t){let n=Dt.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=fa(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());_u(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return mr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];_u(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){ls(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new an(fa(this.value))}}function eT(e){const t=[];return ls(e.fields,(n,r)=>{const i=new Dt([n]);if(_u(r)){const s=eT(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new En(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new jt(t,0,Z.min(),Z.min(),Z.min(),an.empty(),0)}static newFoundDocument(t,n,r,i){return new jt(t,1,n,Z.min(),r,i,0)}static newNoDocument(t,n){return new jt(t,2,n,Z.min(),Z.min(),an.empty(),0)}static newUnknownDocument(t,n){return new jt(t,3,n,Z.min(),Z.min(),an.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof jt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(t,n){this.position=t,this.inclusive=n}}function f_(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=K.comparator(K.fromName(o.referenceValue),n.key):r=so(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function h_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!mr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(t,n="asc"){this.field=t,this.dir=n}}function $D(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{}class at extends tT{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new jD(t,n,r):n==="array-contains"?new zD(t,r):n==="in"?new WD(t,r):n==="not-in"?new KD(t,r):n==="array-contains-any"?new HD(t,r):new at(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new UD(t,r):new BD(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(so(n,this.value)):n!==null&&Ji(this.value)===Ji(n)&&this.matchesComparison(so(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends tT{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new tr(t,n)}matches(t){return nT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function nT(e){return e.op==="and"}function rT(e){return FD(e)&&nT(e)}function FD(e){for(const t of e.filters)if(t instanceof tr)return!1;return!0}function op(e){if(e instanceof at)return e.field.canonicalString()+e.op.toString()+oo(e.value);if(rT(e))return e.filters.map(t=>op(t)).join(",");{const t=e.filters.map(n=>op(n)).join(",");return`${e.op}(${t})`}}function iT(e,t){return e instanceof at?function(r,i){return i instanceof at&&r.op===i.op&&r.field.isEqual(i.field)&&mr(r.value,i.value)}(e,t):e instanceof tr?function(r,i){return i instanceof tr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&iT(o,i.filters[a]),!0):!1}(e,t):void Y()}function sT(e){return e instanceof at?function(n){return`${n.field.canonicalString()} ${n.op} ${oo(n.value)}`}(e):e instanceof tr?function(n){return n.op.toString()+" {"+n.getFilters().map(sT).join(" ,")+"}"}(e):"Filter"}class jD extends at{constructor(t,n,r){super(t,n,r),this.key=K.fromName(r.referenceValue)}matches(t){const n=K.comparator(t.key,this.key);return this.matchesComparison(n)}}class UD extends at{constructor(t,n){super(t,"in",n),this.keys=oT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class BD extends at{constructor(t,n){super(t,"not-in",n),this.keys=oT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function oT(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class zD extends at{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Tg(n)&&Ya(n.arrayValue,this.value)}}class WD extends at{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ya(this.value.arrayValue,n)}}class KD extends at{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ya(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Ya(this.value.arrayValue,n)}}class HD extends at{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Tg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ya(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function p_(e,t=null,n=[],r=[],i=null,s=null,o=null){return new qD(e,t,n,r,i,s,o)}function Ig(e){const t=ee(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>op(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),td(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>oo(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>oo(r)).join(",")),t.ce=n}return t.ce}function Sg(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!$D(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!iT(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!h_(e.startAt,t.startAt)&&h_(e.endAt,t.endAt)}function ap(e){return K.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function QD(e,t,n,r,i,s,o,a){return new Il(e,t,n,r,i,s,o,a)}function nd(e){return new Il(e)}function m_(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function aT(e){return e.collectionGroup!==null}function ha(e){const t=ee(e);if(t.le===null){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ot(Dt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new lc(s,r))}),n.has(Dt.keyField().canonicalString())||t.le.push(new lc(Dt.keyField(),r))}return t.le}function fr(e){const t=ee(e);return t.he||(t.he=GD(t,ha(e))),t.he}function GD(e,t){if(e.limitType==="F")return p_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new lc(i.field,s)});const n=e.endAt?new ac(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ac(e.startAt.position,e.startAt.inclusive):null;return p_(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function lp(e,t){const n=e.filters.concat([t]);return new Il(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function up(e,t,n){return new Il(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function rd(e,t){return Sg(fr(e),fr(t))&&e.limitType===t.limitType}function lT(e){return`${Ig(fr(e))}|lt:${e.limitType}`}function _s(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>sT(i)).join(", ")}]`),td(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>oo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>oo(i)).join(",")),`Target(${r})`}(fr(e))}; limitType=${e.limitType})`}function id(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):K.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of ha(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=f_(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,ha(r),i)||r.endAt&&!function(o,a,l){const u=f_(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,ha(r),i))}(e,t)}function YD(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function uT(e){return(t,n)=>{let r=!1;for(const i of ha(e)){const s=XD(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function XD(e,t,n){const r=e.field.isKeyField()?K.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?so(l,u):Y()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){ls(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return J1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=new Xe(K.comparator);function kr(){return JD}const cT=new Xe(K.comparator);function Xo(...e){let t=cT;for(const n of e)t=t.insert(n.key,n);return t}function dT(e){let t=cT;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function $i(){return pa()}function fT(){return pa()}function pa(){return new Po(e=>e.toString(),(e,t)=>e.isEqual(t))}const ZD=new Xe(K.comparator),ek=new Ot(K.comparator);function ce(...e){let t=ek;for(const n of e)t=t.add(n);return t}const tk=new Ot(ve);function nk(){return tk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oc(t)?"-0":t}}function pT(e){return{integerValue:""+e}}function rk(e,t){return VD(t)?pT(t):hT(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this._=void 0}}function ik(e,t,n){return e instanceof uc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Eg(s)&&(s=wg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof Xa?gT(e,t):e instanceof Ja?yT(e,t):function(i,s){const o=mT(i,s),a=g_(o)+g_(i.Ie);return sp(o)&&sp(i.Ie)?pT(a):hT(i.serializer,a)}(e,t)}function sk(e,t,n){return e instanceof Xa?gT(e,t):e instanceof Ja?yT(e,t):n}function mT(e,t){return e instanceof cc?function(r){return sp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class uc extends sd{}class Xa extends sd{constructor(t){super(),this.elements=t}}function gT(e,t){const n=vT(t);for(const r of e.elements)n.some(i=>mr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ja extends sd{constructor(t){super(),this.elements=t}}function yT(e,t){let n=vT(t);for(const r of e.elements)n=n.filter(i=>!mr(i,r));return{arrayValue:{values:n}}}class cc extends sd{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function g_(e){return st(e.integerValue||e.doubleValue)}function vT(e){return Tg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function ok(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Xa&&i instanceof Xa||r instanceof Ja&&i instanceof Ja?io(r.elements,i.elements,mr):r instanceof cc&&i instanceof cc?mr(r.Ie,i.Ie):r instanceof uc&&i instanceof uc}(e.transform,t.transform)}class ak{constructor(t,n){this.version=t,this.transformResults=n}}class Xn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Xn}static exists(t){return new Xn(void 0,t)}static updateTime(t){return new Xn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Eu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class od{}function _T(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Cg(e.key,Xn.none()):new Sl(e.key,e.data,Xn.none());{const n=e.data,r=an.empty();let i=new Ot(Dt.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ti(e.key,r,new En(i.toArray()),Xn.none())}}function lk(e,t,n){e instanceof Sl?function(i,s,o){const a=i.value.clone(),l=v_(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Ti?function(i,s,o){if(!Eu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=v_(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(ET(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function ma(e,t,n,r){return e instanceof Sl?function(s,o,a,l){if(!Eu(s.precondition,o))return a;const u=s.value.clone(),c=__(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ti?function(s,o,a,l){if(!Eu(s.precondition,o))return a;const u=__(s.fieldTransforms,l,o),c=o.data;return c.setAll(ET(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(s,o,a){return Eu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function uk(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=mT(r.transform,i||null);s!=null&&(n===null&&(n=an.empty()),n.set(r.field,s))}return n||null}function y_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&io(r,i,(s,o)=>ok(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Sl extends od{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ti extends od{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ET(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function v_(e,t,n){const r=new Map;be(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,sk(o,a,n[i]))}return r}function __(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,ik(s,o,t))}return r}class Cg extends od{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ck extends od{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&lk(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=ma(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=ma(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=fT();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=_T(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ce())}isEqual(t){return this.batchId===t.batchId&&io(this.mutations,t.mutations,(n,r)=>y_(n,r))&&io(this.baseMutations,t.baseMutations,(n,r)=>y_(n,r))}}class xg{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){be(t.mutations.length===r.length);let i=function(){return ZD}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new xg(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,he;function pk(e){switch(e){default:return Y();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function wT(e){if(e===void 0)return Dr("GRPC error has no .code"),P.UNKNOWN;switch(e){case it.OK:return P.OK;case it.CANCELLED:return P.CANCELLED;case it.UNKNOWN:return P.UNKNOWN;case it.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case it.INTERNAL:return P.INTERNAL;case it.UNAVAILABLE:return P.UNAVAILABLE;case it.UNAUTHENTICATED:return P.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case it.NOT_FOUND:return P.NOT_FOUND;case it.ALREADY_EXISTS:return P.ALREADY_EXISTS;case it.PERMISSION_DENIED:return P.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case it.ABORTED:return P.ABORTED;case it.OUT_OF_RANGE:return P.OUT_OF_RANGE;case it.UNIMPLEMENTED:return P.UNIMPLEMENTED;case it.DATA_LOSS:return P.DATA_LOSS;default:return Y()}}(he=it||(it={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=new qs([4294967295,4294967295],0);function E_(e){const t=mk().encode(e),n=new _D;return n.update(t),new Uint8Array(n.digest())}function w_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new qs([n,r],0),new qs([i,s],0)]}class Pg{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Jo(`Invalid padding: ${n}`);if(r<0)throw new Jo(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Jo(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Jo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=qs.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(qs.fromNumber(r)));return i.compare(gk)===1&&(i=new qs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=E_(t),[r,i]=w_(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new Pg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=E_(t),[r,i]=w_(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Jo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Cl.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new ad(Z.min(),i,new Xe(ve),kr(),ce())}}class Cl{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Cl(r,n,ce(),ce(),ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(t,n,r,i){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i}}class TT{constructor(t,n){this.targetId=t,this.fe=n}}class IT{constructor(t,n,r=Wt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class T_{constructor(){this.ge=0,this.pe=S_(),this.ye=Wt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=ce(),n=ce(),r=ce();return this.pe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y()}}),new Cl(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=S_()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,be(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class yk{constructor(t){this.Le=t,this.ke=new Map,this.qe=kr(),this.Qe=I_(),this.Ke=new Xe(ve)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:Y()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.fe.count,i=this.Ye(n);if(i){const s=i.target;if(ap(s))if(r===0){const o=new K(s.path);this.We(n,o,jt.newNoDocument(o,Z.min()))}else be(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),l=a?this.et(a,t,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Xi(r).toUint8Array()}catch(l){if(l instanceof Z1)return ro("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Pg(o,i,s)}catch(l){return ro(l instanceof Jo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(n,s,null),i++)}),i}it(t){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&ap(a.target)){const l=new K(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,jt.newNoDocument(l,t))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ce();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const i=new ad(t,n,this.Ke,this.qe,r);return this.qe=kr(),this.Qe=I_(),this.Ke=new Xe(ve),i}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.st(t,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new T_,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new Ot(ve),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||U("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new T_),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function I_(){return new Xe(K.comparator)}function S_(){return new Xe(K.comparator)}const vk={asc:"ASCENDING",desc:"DESCENDING"},_k={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ek={and:"AND",or:"OR"};class wk{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function cp(e,t){return e.useProto3Json||td(t)?t:{value:t}}function dc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ST(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Tk(e,t){return dc(e,t.toTimestamp())}function hr(e){return be(!!e),Z.fromTimestamp(function(n){const r=fi(n);return new gt(r.seconds,r.nanos)}(e))}function Rg(e,t){return function(r){return new $e(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function CT(e){const t=$e.fromString(e);return be(AT(t)),t}function dp(e,t){return Rg(e.databaseId,t.path)}function Of(e,t){const n=CT(t);if(n.get(1)!==e.databaseId.projectId)throw new $(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new $(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new K(xT(n))}function fp(e,t){return Rg(e.databaseId,t)}function Ik(e){const t=CT(e);return t.length===4?$e.emptyPath():xT(t)}function hp(e){return new $e(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function xT(e){return be(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function C_(e,t,n){return{name:dp(e,t),fields:n.value.mapValue.fields}}function Sk(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Y()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(be(c===void 0||typeof c=="string"),Wt.fromBase64String(c||"")):(be(c===void 0||c instanceof Uint8Array),Wt.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(u){const c=u.code===void 0?P.UNKNOWN:wT(u.code);return new $(c,u.message||"")}(o);n=new IT(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Of(e,r.document.name),s=hr(r.document.updateTime),o=r.document.createTime?hr(r.document.createTime):Z.min(),a=new an({mapValue:{fields:r.document.fields}}),l=jt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new wu(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Of(e,r.document),s=r.readTime?hr(r.readTime):Z.min(),o=jt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new wu([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Of(e,r.document),s=r.removedTargetIds||[];n=new wu([],s,i,null)}else{if(!("filter"in t))return Y();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new hk(i,s),a=r.targetId;n=new TT(a,o)}}return n}function Ck(e,t){let n;if(t instanceof Sl)n={update:C_(e,t.key,t.value)};else if(t instanceof Cg)n={delete:dp(e,t.key)};else if(t instanceof Ti)n={update:C_(e,t.key,t.data),updateMask:Vk(t.fieldMask)};else{if(!(t instanceof ck))return Y();n={verify:dp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof uc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ja)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof cc)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Y()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Tk(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Y()}(e,t.precondition)),n}function xk(e,t){return e&&e.length>0?(be(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?hr(i.updateTime):hr(s);return o.isEqual(Z.min())&&(o=hr(s)),new ak(o,i.transformResults||[])}(n,t))):[]}function Pk(e,t){return{documents:[fp(e,t.path)]}}function Rk(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=fp(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=fp(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return RT(tr.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(f){return{field:Es(f.field),direction:kk(f.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=cp(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function Ak(e){let t=Ik(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){be(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(f){const d=PT(f);return d instanceof tr&&rT(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(y){return new lc(ws(y.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,td(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,h=f.values||[];return new ac(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,h=f.values||[];return new ac(h,d)}(n.endAt)),QD(t,i,o,s,a,"F",l,u)}function Dk(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function PT(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ws(n.unaryFilter.field);return at.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ws(n.unaryFilter.field);return at.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ws(n.unaryFilter.field);return at.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ws(n.unaryFilter.field);return at.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(e):e.fieldFilter!==void 0?function(n){return at.create(ws(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return tr.create(n.compositeFilter.filters.map(r=>PT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y()}}(n.compositeFilter.op))}(e):Y()}function kk(e){return vk[e]}function Nk(e){return _k[e]}function Ok(e){return Ek[e]}function Es(e){return{fieldPath:e.canonicalString()}}function ws(e){return Dt.fromServerFormat(e.fieldPath)}function RT(e){return e instanceof at?function(n){if(n.op==="=="){if(d_(n.value))return{unaryFilter:{field:Es(n.field),op:"IS_NAN"}};if(c_(n.value))return{unaryFilter:{field:Es(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(d_(n.value))return{unaryFilter:{field:Es(n.field),op:"IS_NOT_NAN"}};if(c_(n.value))return{unaryFilter:{field:Es(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Es(n.field),op:Nk(n.op),value:n.value}}}(e):e instanceof tr?function(n){const r=n.getFilters().map(i=>RT(i));return r.length===1?r[0]:{compositeFilter:{op:Ok(n.op),filters:r}}}(e):Y()}function Vk(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function AT(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(t,n,r,i,s=Z.min(),o=Z.min(),a=Wt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(t){this.ut=t}}function Lk(e){const t=Ak({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?up(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(){this.on=new $k}addToCollectionParentIndex(t,n){return this.on.add(n),A.resolve()}getCollectionParents(t,n){return A.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return A.resolve()}deleteFieldIndex(t,n){return A.resolve()}deleteAllFieldIndexes(t){return A.resolve()}createTargetIndexes(t,n){return A.resolve()}getDocumentsMatchingTarget(t,n){return A.resolve(null)}getIndexType(t,n){return A.resolve(0)}getFieldIndexes(t,n){return A.resolve([])}getNextCollectionGroupToUpdate(t){return A.resolve(null)}getMinOffset(t,n){return A.resolve(di.min())}getMinOffsetFromCollectionGroup(t,n){return A.resolve(di.min())}updateCollectionGroup(t,n,r){return A.resolve()}updateIndexEntries(t,n){return A.resolve()}}class $k{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Ot($e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Ot($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new ao(0)}static Nn(){return new ao(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(){this.changes=new Po(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,jt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?A.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&ma(r.mutation,i,En.empty(),gt.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,ce()).next(()=>r))}getLocalViewOfDocuments(t,n,r=ce()){const i=$i();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=Xo();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=$i();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,ce()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=kr();const o=pa(),a=function(){return pa()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ti)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),ma(c.mutation,u,c.mutation.getFieldMask(),gt.now())):o.set(u.key,En.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new jk(c,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,n){const r=pa();let i=new Xe((o,a)=>o-a),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||En.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||ce()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=fT();c.forEach(d=>{if(!s.has(d)){const h=_T(n.get(d),r.get(d));h!==null&&f.set(d,h),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,f))}return A.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return K.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):aT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):A.resolve($i());let a=-1,l=s;return o.next(u=>A.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?A.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,ce())).next(c=>({batchId:a,changes:dT(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new K(n)).next(r=>{let i=Xo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=Xo();return this.indexManager.getCollectionParents(t,s).next(a=>A.forEach(a,l=>{const u=function(f,d){return new Il(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,jt.newInvalidDocument(c)))});let a=Xo();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&ma(c.mutation,u,En.empty(),gt.now()),id(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return A.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:hr(i.createTime)}}(n)),A.resolve()}getNamedQuery(t,n){return A.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(i){return{name:i.name,query:Lk(i.bundledQuery),readTime:hr(i.readTime)}}(n)),A.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(){this.overlays=new Xe(K.comparator),this.lr=new Map}getOverlay(t,n){return A.resolve(this.overlays.get(n))}getOverlays(t,n){const r=$i();return A.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.lt(t,n,s)}),A.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),A.resolve()}getOverlaysForCollection(t,n,r){const i=$i(),s=n.length+1,o=new K(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return A.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new Xe((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=$i(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=$i(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return A.resolve(a)}lt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new fk(n,r));let s=this.lr.get(n);s===void 0&&(s=ce(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(){this.hr=new Ot(vt.Pr),this.Ir=new Ot(vt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const r=new vt(t,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.dr(new vt(t,n))}Ar(t,n){t.forEach(r=>this.removeReference(r,n))}Rr(t){const n=new K(new $e([])),r=new vt(n,t),i=new vt(n,t+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new K(new $e([])),r=new vt(n,t),i=new vt(n,t+1);let s=ce();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new vt(t,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class vt{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return K.comparator(t.key,n.key)||ve(t.gr,n.gr)}static Tr(t,n){return ve(t.gr,n.gr)||K.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Ot(vt.Pr)}checkEmpty(t){return A.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new dk(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new vt(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return A.resolve(o)}lookupMutationBatch(t,n){return A.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return A.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return A.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new vt(n,0),i=new vt(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),A.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ot(ve);return n.forEach(i=>{const s=new vt(i,0),o=new vt(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),A.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;K.isDocumentKey(s)||(s=s.child(""));const o=new vt(new K(s),0);let a=new Ot(ve);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),A.resolve(this.br(a))}br(t){const n=[];return t.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){be(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return A.forEach(n.mutations,i=>{const s=new vt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.yr=r})}Fn(t){}containsKey(t,n){const r=new vt(n,0),i=this.yr.firstAfterOrEqual(r);return A.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,A.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(t){this.Cr=t,this.docs=function(){return new Xe(K.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return A.resolve(r?r.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(t,n){let r=kr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():jt.newInvalidDocument(i))}),A.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=kr();const o=n.path,a=new K(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||kD(DD(c),r)<=0||(i.has(c.key)||id(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return A.resolve(s)}getAllFromCollectionGroup(t,n,r,i){Y()}vr(t,n){return A.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Hk(this)}getSize(t){return A.resolve(this.size)}}class Hk extends Fk{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(t,i)):this._r.removeEntry(r)}),A.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(t){this.persistence=t,this.Fr=new Po(n=>Ig(n),Sg),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Ag,this.targetCount=0,this.Nr=ao.On()}forEachTarget(t,n){return this.Fr.forEach((r,i)=>n(i)),A.resolve()}getLastRemoteSnapshotVersion(t){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return A.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),A.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new ao(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,A.resolve()}updateTargetData(t,n){return this.kn(n),A.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,A.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),A.waitFor(s).next(()=>i)}getTargetCount(t){return A.resolve(this.targetCount)}getTargetData(t,n){const r=this.Fr.get(n)||null;return A.resolve(r)}addMatchingKeys(t,n,r){return this.Or.Er(n,r),A.resolve()}removeMatchingKeys(t,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),A.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),A.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Or.mr(n);return A.resolve(r)}containsKey(t,n){return A.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(t,n){this.Br={},this.overlays={},this.Lr=new _g(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new qk(this),this.indexManager=new Mk,this.remoteDocumentCache=function(i){return new Kk(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new bk(n),this.Kr=new Bk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new zk,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new Wk(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,r){U("MemoryPersistence","Starting transaction:",t);const i=new Gk(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(t,n){return A.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class Gk extends OD{constructor(t){super(),this.currentSequenceNumber=t}}class Dg{constructor(t){this.persistence=t,this.Gr=new Ag,this.zr=null}static jr(t){return new Dg(t)}get Hr(){if(this.zr)return this.zr;throw Y()}addReference(t,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),A.resolve()}removeReference(t,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),A.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),A.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.Hr,r=>{const i=K.fromPath(r);return this.Jr(t,i).next(s=>{s||n.removeEntry(i,Z.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return A.or([()=>A.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}static Qi(t,n){let r=ce(),i=ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new kg(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.zi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Yk;return this.Hi(t,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(t,n,o,a.size)})}).next(()=>s.result)}Ji(t,n,r,i){return r.documentReadCount<this.Ui?(Wo()<=pe.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",_s(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),A.resolve()):(Wo()<=pe.DEBUG&&U("QueryEngine","Query:",_s(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Wo()<=pe.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",_s(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,fr(n))):A.resolve())}zi(t,n){if(m_(n))return A.resolve(null);let r=fr(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=up(n,null,"F"),r=fr(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=ce(...s);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(t,up(n,null,"F")):this.Xi(t,u,n,l)}))})))}ji(t,n,r,i){return m_(n)||i.isEqual(Z.min())?A.resolve(null):this.Gi.getDocuments(t,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?A.resolve(null):(Wo()<=pe.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_s(n)),this.Xi(t,o,n,AD(i,-1)).next(a=>a))})}Yi(t,n){let r=new Ot(uT(t));return n.forEach((i,s)=>{id(t,s)&&(r=r.add(s))}),r}Zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(t,n,r){return Wo()<=pe.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",_s(n)),this.Gi.getDocumentsMatchingQuery(t,n,di.min(),r)}Xi(t,n,r,i){return this.Gi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(t,n,r,i){this.persistence=t,this.es=n,this.serializer=i,this.ts=new Xe(ve),this.ns=new Po(s=>Ig(s),Sg),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Uk(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function Zk(e,t,n,r){return new Jk(e,t,n,r)}async function DT(e,t){const n=ee(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ce();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}function eN(e,t){const n=ee(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,d=f.keys();let h=A.resolve();return d.forEach(y=>{h=h.next(()=>c.getEntry(l,y)).next(_=>{const T=u.docVersions.get(y);be(T!==null),_.version.compareTo(T)<0&&(f.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ce();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function kT(e){const t=ee(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function tN(e,t){const n=ee(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];t.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,f)));let h=d.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?h=h.withResumeToken(Wt.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(f,h),function(_,T,m){return _.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(d,h,c)&&a.push(n.qr.updateTargetData(s,h))});let l=kr(),u=ce();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(nN(s,o,t.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(Z.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(f=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return A.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ts=i,s))}function nN(e,t,n){let r=ce(),i=ce();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=kr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Z.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}function rN(e,t){const n=ee(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function iN(e,t){const n=ee(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,t).next(s=>s?(i=s,A.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Qr(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(t,r.targetId)),r})}async function pp(e,t,n){const r=ee(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Tl(o))throw o;U("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function x_(e,t,n){const r=ee(e);let i=Z.min(),s=ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const f=ee(l),d=f.ns.get(c);return d!==void 0?A.resolve(f.ts.get(d)):f.qr.getTargetData(u,c)}(r,o,fr(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,t,n?i:Z.min(),n?s:ce())).next(a=>(sN(r,YD(t),a),{documents:a,ls:s})))}function sN(e,t,n){let r=e.rs.get(t)||Z.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.rs.set(t,r)}class P_{constructor(){this.activeTargetIds=nk()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class oN{constructor(){this.eo=new P_,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,r){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new P_,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nu=null;function Vf(){return nu===null?nu=function(){return 268435456+Math.round(2147483648*Math.random())}():nu++,"0x"+nu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class cN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=Vf(),l=this.So(n,r);U("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,l,u,i).then(c=>(U("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw ro("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=lN[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,r,i){const s=Vf();return new Promise((o,a)=>{const l=new vD;l.setWithCredentials(!0),l.listenOnce(gD.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Nf.NO_ERROR:const c=l.getResponseJson();U(Mt,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case Nf.TIMEOUT:U(Mt,`RPC '${t}' ${s} timed out`),a(new $(P.DEADLINE_EXCEEDED,"Request time out"));break;case Nf.HTTP_ERROR:const f=l.getStatus();if(U(Mt,`RPC '${t}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const y=function(T){const m=T.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(m)>=0?m:P.UNKNOWN}(h.status);a(new $(y,h.message))}else a(new $(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new $(P.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{U(Mt,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);U(Mt,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}vo(t,n,r){const i=Vf(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=pD(),a=mD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");U(Mt,`Creating RPC '${t}' stream ${i}: ${c}`,l);const f=o.createWebChannel(c,l);let d=!1,h=!1;const y=new uN({co:T=>{h?U(Mt,`Not sending because RPC '${t}' stream ${i} is closed:`,T):(d||(U(Mt,`Opening RPC '${t}' stream ${i} transport.`),f.open(),d=!0),U(Mt,`RPC '${t}' stream ${i} sending:`,T),f.send(T))},lo:()=>f.close()}),_=(T,m,p)=>{T.listen(m,v=>{try{p(v)}catch(I){setTimeout(()=>{throw I},0)}})};return _(f,Zl.EventType.OPEN,()=>{h||U(Mt,`RPC '${t}' stream ${i} transport opened.`)}),_(f,Zl.EventType.CLOSE,()=>{h||(h=!0,U(Mt,`RPC '${t}' stream ${i} transport closed`),y.Ro())}),_(f,Zl.EventType.ERROR,T=>{h||(h=!0,ro(Mt,`RPC '${t}' stream ${i} transport errored:`,T),y.Ro(new $(P.UNAVAILABLE,"The operation could not be completed")))}),_(f,Zl.EventType.MESSAGE,T=>{var m;if(!h){const p=T.data[0];be(!!p);const v=p,I=v.error||((m=v[0])===null||m===void 0?void 0:m.error);if(I){U(Mt,`RPC '${t}' stream ${i} received error:`,I);const C=I.status;let x=function(H){const V=it[H];if(V!==void 0)return wT(V)}(C),D=I.message;x===void 0&&(x=P.INTERNAL,D="Unknown error status: "+C+" with message "+I.message),h=!0,y.Ro(new $(x,D)),f.close()}else U(Mt,`RPC '${t}' stream ${i} received:`,p),y.Vo(p)}}),_(a,yD.STAT_EVENT,T=>{T.stat===i_.PROXY?U(Mt,`RPC '${t}' stream ${i} detected buffering proxy`):T.stat===i_.NOPROXY&&U(Mt,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.Ao()},0),y}}function bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(e){return new wk(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(t,n,r=1e3,i=1.5,s=6e4){this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(t,n,r,i,s,o,a,l){this.si=t,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new NT(t,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(t,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,t!==4?this.zo.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(Dr(n.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Io(n)}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{t(()=>{const i=new $(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(t,n){const r=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(t){return U("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dN extends OT{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();const n=Sk(this.serializer,t),r=function(s){if(!("targetChange"in s))return Z.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Z.min():o.readTime?hr(o.readTime):Z.min()}(t);return this.listener.a_(n,r)}u_(t){const n={};n.database=hp(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=ap(l)?{documents:Pk(s,l)}:{query:Rk(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=ST(s,o.resumeToken);const u=cp(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Z.min())>0){a.readTime=dc(s,o.snapshotVersion.toTimestamp());const u=cp(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=Dk(this.serializer,t);r&&(n.labels=r),this.e_(n)}c_(t){const n={};n.database=hp(this.serializer),n.removeTarget=t,this.e_(n)}}class fN extends OT{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,n){return this.connection.vo("Write",t,n)}onMessage(t){if(be(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const n=xk(t.writeResults,t.commitTime),r=hr(t.commitTime);return this.listener.I_(r,n)}return be(!t.writeResults||t.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=hp(this.serializer),this.e_(t)}P_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>Ck(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new $(P.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new $(P.UNKNOWN,i.toString())})}Co(t,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(P.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class pN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,t==="Online"&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Dr(n),this.f_=!1):U("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{us(this)&&(U("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ee(l);u.C_.add(4),await xl(u),u.M_.set("Unknown"),u.C_.delete(4),await ud(u)}(this))})}),this.M_=new pN(r,i)}}async function ud(e){if(us(e))for(const t of e.v_)await t(!0)}async function xl(e){for(const t of e.v_)await t(!1)}function VT(e,t){const n=ee(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),Vg(n)?Og(n):Ro(n).Ho()&&Ng(n,t))}function bT(e,t){const n=ee(e),r=Ro(n);n.D_.delete(t),r.Ho()&&LT(n,t),n.D_.size===0&&(r.Ho()?r.Zo():us(n)&&n.M_.set("Unknown"))}function Ng(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Z.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ro(e).u_(t)}function LT(e,t){e.x_.Oe(t),Ro(e).c_(t)}function Og(e){e.x_=new yk({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Ro(e).start(),e.M_.g_()}function Vg(e){return us(e)&&!Ro(e).jo()&&e.D_.size>0}function us(e){return ee(e).C_.size===0}function MT(e){e.x_=void 0}async function gN(e){e.D_.forEach((t,n)=>{Ng(e,t)})}async function yN(e,t){MT(e),Vg(e)?(e.M_.w_(t),Og(e)):e.M_.set("Unknown")}async function vN(e,t,n){if(e.M_.set("Online"),t instanceof IT&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(e,t)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await fc(e,r)}else if(t instanceof wu?e.x_.$e(t):t instanceof TT?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(Z.min()))try{const r=await kT(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.D_.get(u);c&&s.D_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.D_.get(l);if(!c)return;s.D_.set(l,c.withResumeToken(Wt.EMPTY_BYTE_STRING,c.snapshotVersion)),LT(s,l);const f=new Qr(c.target,l,u,c.sequenceNumber);Ng(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){U("RemoteStore","Failed to raise snapshot:",r),await fc(e,r)}}async function fc(e,t,n){if(!Tl(t))throw t;e.C_.add(1),await xl(e),e.M_.set("Offline"),n||(n=()=>kT(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{U("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await ud(e)})}function $T(e,t){return t().catch(n=>fc(e,n,t))}async function cd(e){const t=ee(e),n=hi(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;_N(t);)try{const i=await rN(t.localStore,r);if(i===null){t.b_.length===0&&n.Zo();break}r=i.batchId,EN(t,i)}catch(i){await fc(t,i)}FT(t)&&jT(t)}function _N(e){return us(e)&&e.b_.length<10}function EN(e,t){e.b_.push(t);const n=hi(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function FT(e){return us(e)&&!hi(e).jo()&&e.b_.length>0}function jT(e){hi(e).start()}async function wN(e){hi(e).E_()}async function TN(e){const t=hi(e);for(const n of e.b_)t.P_(n.mutations)}async function IN(e,t,n){const r=e.b_.shift(),i=xg.from(r,t,n);await $T(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await cd(e)}async function SN(e,t){t&&hi(e).h_&&await async function(r,i){if(function(o){return pk(o)&&o!==P.ABORTED}(i.code)){const s=r.b_.shift();hi(r).Yo(),await $T(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await cd(r)}}(e,t),FT(e)&&jT(e)}async function A_(e,t){const n=ee(e);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");const r=us(n);n.C_.add(3),await xl(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await ud(n)}async function CN(e,t){const n=ee(e);t?(n.C_.delete(2),await ud(n)):t||(n.C_.add(2),await xl(n),n.M_.set("Unknown"))}function Ro(e){return e.O_||(e.O_=function(n,r,i){const s=ee(n);return s.A_(),new dN(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:gN.bind(null,e),Io:yN.bind(null,e),a_:vN.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),Vg(e)?Og(e):e.M_.set("Unknown")):(await e.O_.stop(),MT(e))})),e.O_}function hi(e){return e.N_||(e.N_=function(n,r,i){const s=ee(n);return s.A_(),new fN(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:wN.bind(null,e),Io:SN.bind(null,e),T_:TN.bind(null,e),I_:IN.bind(null,e)}),e.v_.push(async t=>{t?(e.N_.Yo(),await cd(e)):(await e.N_.stop(),e.b_.length>0&&(U("RemoteStore",`Stopping write stream with ${e.b_.length} pending writes`),e.b_=[]))})),e.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new bg(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(P.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lg(e,t){if(Dr("AsyncQueue",`${t}: ${e}`),Tl(e))return new $(P.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t){this.comparator=t?(n,r)=>t(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=Xo(),this.sortedSet=new Xe(this.comparator)}static emptySet(t){return new Qs(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Qs)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Qs;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(){this.B_=new Xe(K.comparator)}track(t){const n=t.doc.key,r=this.B_.get(n);r?t.type!==0&&r.type===3?this.B_=this.B_.insert(n,t):t.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.B_=this.B_.remove(n):t.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):Y():this.B_=this.B_.insert(n,t)}L_(){const t=[];return this.B_.inorderTraversal((n,r)=>{t.push(r)}),t}}class lo{constructor(t,n,r,i,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new lo(t,n,Qs.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this.k_=void 0,this.listeners=[]}}class PN{constructor(){this.queries=new Po(t=>lT(t),rd),this.onlineState="Unknown",this.q_=new Set}}async function Mg(e,t){const n=ee(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new xN),i)try{s.k_=await n.onListen(r)}catch(o){const a=Lg(o,`Initialization of query '${_s(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&Fg(n)}async function $g(e,t){const n=ee(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function RN(e,t){const n=ee(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&Fg(n)}function AN(e,t,n){const r=ee(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Fg(e){e.q_.forEach(t=>{t.next()})}class jg{constructor(t,n,r){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new lo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}z_(t){if(t.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(t){t=lo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(t){this.key=t}}class BT{constructor(t){this.key=t}}class DN{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ce(),this.mutatedKeys=ce(),this._a=uT(t),this.aa=new Qs(this._a)}get ua(){return this.ia}ca(t,n){const r=n?n.la:new D_,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const d=i.get(c),h=id(this.query,f)?f:null,y=!!d&&this.mutatedKeys.has(d.key),_=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let T=!1;d&&h?d.data.isEqual(h.data)?y!==_&&(r.track({type:3,doc:h}),T=!0):this.ha(d,h)||(r.track({type:2,doc:h}),T=!0,(l&&this._a(h,l)>0||u&&this._a(h,u)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),T=!0):d&&!h&&(r.track({type:1,doc:d}),T=!0,(l||u)&&(a=!0)),T&&(h?(o=o.add(h),s=_?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const o=t.la.L_();o.sort((c,f)=>function(h,y){const _=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return _(h)-_(y)}(c.type,f.type)||this._a(c.doc,f.doc)),this.Pa(r),i=i!=null&&i;const a=n&&!i?this.Ia():[],l=this.oa.size===0&&this.current&&!i?1:0,u=l!==this.sa;return this.sa=l,o.length!==0||u?{snapshot:new lo(this.query,t.aa,s,o,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new D_,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=ce(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return t.forEach(r=>{this.oa.has(r)||n.push(new BT(r))}),this.oa.forEach(r=>{t.has(r)||n.push(new UT(r))}),n}da(t){this.ia=t.ls,this.oa=ce();const n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return lo.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class kN{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class NN{constructor(t){this.key=t,this.Ra=!1}}class ON{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Po(a=>lT(a),rd),this.fa=new Map,this.ga=new Set,this.pa=new Xe(K.comparator),this.ya=new Map,this.wa=new Ag,this.Sa={},this.ba=new Map,this.Da=ao.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function VN(e,t){const n=WN(e);let r,i;const s=n.ma.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await iN(n.localStore,fr(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await bN(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&VT(n.remoteStore,o)}return i}async function bN(e,t,n,r,i){e.va=(f,d,h)=>async function(_,T,m,p){let v=T.view.ca(m);v.Zi&&(v=await x_(_.localStore,T.query,!1).then(({documents:D})=>T.view.ca(D,v)));const I=p&&p.targetChanges.get(T.targetId),C=p&&p.targetMismatches.get(T.targetId)!=null,x=T.view.applyChanges(v,_.isPrimaryClient,I,C);return N_(_,T.targetId,x.Ta),x.snapshot}(e,f,d,h);const s=await x_(e.localStore,t,!0),o=new DN(t,s.ls),a=o.ca(s.documents),l=Cl.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(a,e.isPrimaryClient,l);N_(e,n,u.Ta);const c=new kN(t,n,o);return e.ma.set(t,c),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),u.snapshot}async function LN(e,t){const n=ee(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!rd(s,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await pp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),bT(n.remoteStore,r.targetId),mp(n,r.targetId)}).catch(wl)):(mp(n,r.targetId),await pp(n.localStore,r.targetId,!0))}async function MN(e,t,n){const r=KN(e);try{const i=await function(o,a){const l=ee(o),u=gt.now(),c=a.reduce((h,y)=>h.add(y.key),ce());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let y=kr(),_=ce();return l.ss.getEntries(h,c).next(T=>{y=T,y.forEach((m,p)=>{p.isValidDocument()||(_=_.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,y)).next(T=>{f=T;const m=[];for(const p of a){const v=uk(p,f.get(p.key).overlayedDocument);v!=null&&m.push(new Ti(p.key,v,eT(v.value.mapValue),Xn.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,m,a)}).next(T=>{d=T;const m=T.applyToLocalDocumentSet(f,_);return l.documentOverlayCache.saveOverlays(h,T.batchId,m)})}).then(()=>({batchId:d.batchId,changes:dT(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Sa[o.currentUser.toKey()];u||(u=new Xe(ve)),u=u.insert(a,l),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,n),await Pl(r,i.changes),await cd(r.remoteStore)}catch(i){const s=Lg(i,"Failed to persist write");n.reject(s)}}async function zT(e,t){const n=ee(e);try{const r=await tN(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?be(o.Ra):i.removedDocuments.size>0&&(be(o.Ra),o.Ra=!1))}),await Pl(n,r,t)}catch(r){await wl(r)}}function k_(e,t,n){const r=ee(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ee(o);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.listeners)d.Q_(a)&&(u=!0)}),u&&Fg(l)}(r.eventManager,t),i.length&&r.Va.a_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function $N(e,t,n){const r=ee(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),s=i&&i.key;if(s){let o=new Xe(K.comparator);o=o.insert(s,jt.newNoDocument(s,Z.min()));const a=ce().add(s),l=new ad(Z.min(),new Map,new Xe(ve),o,a);await zT(r,l),r.pa=r.pa.remove(s),r.ya.delete(t),Ug(r)}else await pp(r.localStore,t,!1).then(()=>mp(r,t,n)).catch(wl)}async function FN(e,t){const n=ee(e),r=t.batch.batchId;try{const i=await eN(n.localStore,t);KT(n,r,null),WT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pl(n,i)}catch(i){await wl(i)}}async function jN(e,t,n){const r=ee(e);try{const i=await function(o,a){const l=ee(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(be(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);KT(r,t,n),WT(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Pl(r,i)}catch(i){await wl(i)}}function WT(e,t){(e.ba.get(t)||[]).forEach(n=>{n.resolve()}),e.ba.delete(t)}function KT(e,t,n){const r=ee(e);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function mp(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(r=>{e.wa.containsKey(r)||HT(e,r)})}function HT(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);n!==null&&(bT(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),Ug(e))}function N_(e,t,n){for(const r of n)r instanceof UT?(e.wa.addReference(r.key,t),UN(e,r)):r instanceof BT?(U("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||HT(e,r.key)):Y()}function UN(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(U("SyncEngine","New document in limbo: "+n),e.ga.add(r),Ug(e))}function Ug(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new K($e.fromString(t)),r=e.Da.next();e.ya.set(r,new NN(n)),e.pa=e.pa.insert(n,r),VT(e.remoteStore,new Qr(fr(nd(n.path)),r,"TargetPurposeLimboResolution",_g._e))}}async function Pl(e,t,n){const r=ee(e),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=kg.Qi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,u){const c=ee(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>A.forEach(u,d=>A.forEach(d.ki,h=>c.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>A.forEach(d.qi,h=>c.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!Tl(f))throw f;U("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const h=c.ts.get(d),y=h.snapshotVersion,_=h.withLastLimboFreeSnapshotVersion(y);c.ts=c.ts.insert(d,_)}}}(r.localStore,s))}async function BN(e,t){const n=ee(e);if(!n.currentUser.isEqual(t)){U("SyncEngine","User change. New user:",t.toKey());const r=await DT(n.localStore,t);n.currentUser=t,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new $(P.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Pl(n,r._s)}}function zN(e,t){const n=ee(e),r=n.ya.get(t);if(r&&r.Ra)return ce().add(r.key);{let i=ce();const s=n.fa.get(t);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function WN(e){const t=ee(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=zT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=zN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$N.bind(null,t),t.Va.a_=RN.bind(null,t.eventManager),t.Va.Fa=AN.bind(null,t.eventManager),t}function KN(e){const t=ee(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=FN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jN.bind(null,t),t}class O_{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=ld(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return Zk(this.persistence,new Xk,t.initialUser,this.serializer)}createPersistence(t){return new Qk(Dg.jr,this.serializer)}createSharedClientState(t){return new oN}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class HN{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>k_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BN.bind(null,this.syncEngine),await CN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new PN}()}createDatastore(t){const n=ld(t.databaseInfo.databaseId),r=function(s){return new cN(s)}(t.databaseInfo);return function(s,o,a,l){return new hN(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new mN(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>k_(this.syncEngine,n,0),function(){return R_.D()?new R_:new aN}())}createSyncEngine(t,n){return function(i,s,o,a,l,u,c){const f=new ON(i,s,o,a,l,u);return c&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ee(n);U("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await xl(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):Dr("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$t.UNAUTHENTICATED,this.clientId=X1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{U("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(U("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Lg(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Lf(e,t){e.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await DT(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function V_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await GN(e);U("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>A_(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>A_(t.remoteStore,s)),e._onlineComponents=t}function QN(e){return e.name==="FirebaseError"?e.code===P.FAILED_PRECONDITION||e.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function GN(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{await Lf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!QN(n))throw n;ro("Error using user provided cache. Falling back to memory cache: "+n),await Lf(e,new O_)}}else U("FirestoreClient","Using default OfflineComponentProvider"),await Lf(e,new O_);return e._offlineComponents}async function qT(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),await V_(e,e._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),await V_(e,new HN))),e._onlineComponents}function YN(e){return qT(e).then(t=>t.syncEngine)}async function hc(e){const t=await qT(e),n=t.eventManager;return n.onListen=VN.bind(null,t.syncEngine),n.onUnlisten=LN.bind(null,t.syncEngine),n}function XN(e,t,n={}){const r=new Sr;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Bg({next:d=>{o.enqueueAndForget(()=>$g(s,f));const h=d.docs.has(a);!h&&d.fromCache?u.reject(new $(P.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&l&&l.source==="server"?u.reject(new $(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new jg(nd(a.path),c,{includeMetadataChanges:!0,J_:!0});return Mg(s,f)}(await hc(e),e.asyncQueue,t,n,r)),r.promise}function JN(e,t,n={}){const r=new Sr;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Bg({next:d=>{o.enqueueAndForget(()=>$g(s,f)),d.fromCache&&l.source==="server"?u.reject(new $(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new jg(a,c,{includeMetadataChanges:!0,J_:!0});return Mg(s,f)}(await hc(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(e,t,n){if(!n)throw new $(P.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function ZN(e,t,n,r){if(t===!0&&r===!0)throw new $(P.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function L_(e){if(!K.isDocumentKey(e))throw new $(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function M_(e){if(K.isDocumentKey(e))throw new $(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function dd(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Y()}function Mn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new $(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dd(e);throw new $(P.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new $(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new $(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ZN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QT((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class fd{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new $(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $_(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ED;switch(r.type){case"firstParty":return new SD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=b_.get(n);r&&(U("ComponentProvider","Removing Datastore"),b_.delete(n),r.terminate())}(this),Promise.resolve()}}function e2(e,t,n,r={}){var i;const s=(e=Mn(e,fd))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=$t.MOCK_USER;else{a=eR(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new $(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new $t(u)}e._authCredentials=new wD(new Y1(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new cs(this.firestore,t,this._query)}}class en{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new en(this.firestore,t,this._key)}}class oi extends cs{constructor(t,n,r){super(t,n,nd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new en(this.firestore,null,new K(t))}withConverter(t){return new oi(this.firestore,t,this._path)}}function $n(e,t,...n){if(e=pr(e),GT("collection","path",t),e instanceof fd){const r=$e.fromString(t,...n);return M_(r),new oi(e,null,r)}{if(!(e instanceof en||e instanceof oi))throw new $(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child($e.fromString(t,...n));return M_(r),new oi(e.firestore,null,r)}}function Bi(e,t,...n){if(e=pr(e),arguments.length===1&&(t=X1.newId()),GT("doc","path",t),e instanceof fd){const r=$e.fromString(t,...n);return L_(r),new en(e,null,new K(r))}{if(!(e instanceof en||e instanceof oi))throw new $(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child($e.fromString(t,...n));return L_(r),new en(e.firestore,e instanceof oi?e.converter:null,new K(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new NT(this,"async_queue_retry"),this.iu=()=>{const n=bf();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=bf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=bf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new Sr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!Tl(t))throw t;U("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Dr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(t,n,r){this.su(),this.ru.indexOf(t)>-1&&(n=0);const i=bg.createAndSchedule(this,t,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&Y()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}function F_(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(e,["next","error","complete"])}class pi extends fd{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new t2}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||YT(this),this._firestoreClient.terminate()}}function n2(e,t){const n=typeof e=="object"?e:iA(),r=typeof e=="string"?e:t||"(default)",i=eA(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=JP("firestore");s&&e2(i,...s)}return i}function hd(e){return e._firestoreClient||YT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function YT(e){var t,n,r;const i=e._freezeSettings(),s=function(a,l,u,c){return new LD(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,QT(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new qN(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new uo(Wt.fromBase64String(t))}catch(n){throw new $(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new uo(Wt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new $(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new $(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new $(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ve(this._lat,t._lat)||ve(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=/^__.*__$/;class i2{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ti(t,this.data,this.fieldMask,n,this.fieldTransforms):new Sl(t,this.data,n,this.fieldTransforms)}}class XT{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Ti(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function JT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}class Kg{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new Kg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Au(t),i}Ru(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return pc(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(t.length===0)throw this.mu("Document fields must not be empty");if(JT(this.Iu)&&r2.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class s2{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||ld(t)}pu(t,n,r,i=!1){return new Kg({Iu:t,methodName:n,gu:r,path:Dt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hg(e){const t=e._freezeSettings(),n=ld(e._databaseId);return new s2(e._databaseId,!!t.ignoreUndefinedProperties,n)}function o2(e,t,n,r,i,s={}){const o=e.pu(s.merge||s.mergeFields?2:0,t,n,i);qg("Data must be an object, but it was:",o,r);const a=ZT(r,o);let l,u;if(s.merge)l=new En(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const d=gp(t,f,n);if(!o.contains(d))throw new $(P.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);tI(c,d)||c.push(d)}l=new En(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new i2(new an(a),l,u)}class md extends zg{_toFieldTransform(t){if(t.Iu!==2)throw t.Iu===1?t.mu(`${this._methodName}() can only appear at the top level of your update data`):t.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof md}}function a2(e,t,n,r){const i=e.pu(1,t,n);qg("Data must be an object, but it was:",i,r);const s=[],o=an.empty();ls(r,(l,u)=>{const c=Qg(t,l,n);u=pr(u);const f=i.Ru(c);if(u instanceof md)s.push(c);else{const d=Rl(u,f);d!=null&&(s.push(c),o.set(c,d))}});const a=new En(s);return new XT(o,a,i.fieldTransforms)}function l2(e,t,n,r,i,s){const o=e.pu(1,t,n),a=[gp(t,r,n)],l=[i];if(s.length%2!=0)throw new $(P.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(gp(t,s[d])),l.push(s[d+1]);const u=[],c=an.empty();for(let d=a.length-1;d>=0;--d)if(!tI(u,a[d])){const h=a[d];let y=l[d];y=pr(y);const _=o.Ru(h);if(y instanceof md)u.push(h);else{const T=Rl(y,_);T!=null&&(u.push(h),c.set(h,T))}}const f=new En(u);return new XT(c,f,o.fieldTransforms)}function u2(e,t,n,r=!1){return Rl(n,e.pu(r?4:3,t))}function Rl(e,t){if(eI(e=pr(e)))return qg("Unsupported field value:",t,e),ZT(e,t);if(e instanceof zg)return function(r,i){if(!JT(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&t.Iu!==4)throw t.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Rl(a,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=pr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rk(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=gt.fromDate(r);return{timestampValue:dc(i.serializer,s)}}if(r instanceof gt){const s=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dc(i.serializer,s)}}if(r instanceof Wg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof uo)return{bytesValue:ST(i.serializer,r._byteString)};if(r instanceof en){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Rg(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${dd(r)}`)}(e,t)}function ZT(e,t){const n={};return J1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ls(e,(r,i)=>{const s=Rl(i,t.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function eI(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof gt||e instanceof Wg||e instanceof uo||e instanceof en||e instanceof zg)}function qg(e,t,n){if(!eI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=dd(n);throw r==="an object"?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function gp(e,t,n){if((t=pr(t))instanceof pd)return t._internalPath;if(typeof t=="string")return Qg(e,t);throw pc("Field path arguments must be of type string or ",e,!1,void 0,n)}const c2=new RegExp("[~\\*/\\[\\]]");function Qg(e,t,n){if(t.search(c2)>=0)throw pc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new pd(...t.split("."))._internalPath}catch{throw pc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function pc(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new $(P.INVALID_ARGUMENT,a+e+l)}function tI(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new d2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Gg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class d2 extends nI{data(){return super.data()}}function Gg(e,t){return typeof t=="string"?Qg(e,t):t instanceof pd?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new $(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yg{}class f2 extends Yg{}function Jn(e,t,...n){let r=[];t instanceof Yg&&r.push(t),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Xg).length,a=s.filter(l=>l instanceof gd).length;if(o>1||o>0&&a>0)throw new $(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class gd extends f2{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new gd(t,n,r)}_apply(t){const n=this._parse(t);return iI(t._query,n),new cs(t.firestore,t.converter,lp(t._query,n))}_parse(t){const n=Hg(t.firestore);return function(s,o,a,l,u,c,f){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new $(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){U_(f,c);const h=[];for(const y of f)h.push(j_(l,s,y));d={arrayValue:{values:h}}}else d=j_(l,s,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||U_(f,c),d=u2(a,o,f,c==="in"||c==="not-in");return at.create(u,c,d)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function ai(e,t,n){const r=t,i=Gg("where",e);return gd._create(i,r,n)}class Xg extends Yg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Xg(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:tr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)iI(o,l),o=lp(o,l)}(t._query,n),new cs(t.firestore,t.converter,lp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function j_(e,t,n){if(typeof(n=pr(n))=="string"){if(n==="")throw new $(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aT(t)&&n.indexOf("/")!==-1)throw new $(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child($e.fromString(n));if(!K.isDocumentKey(r))throw new $(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return u_(e,new K(r))}if(n instanceof en)return u_(e,n._key);throw new $(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dd(n)}.`)}function U_(e,t){if(!Array.isArray(e)||e.length===0)throw new $(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function iI(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new $(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new $(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class h2{convertValue(t,n="none"){switch(Ji(t)){case 0:return null;case 1:return t.booleanValue;case 2:return st(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Xi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Y()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return ls(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new Wg(st(t.latitude),st(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=wg(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qa(t));default:return null}}convertTimestamp(t){const n=fi(t);return new gt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=$e.fromString(t);be(AT(r));const i=new Ga(r.get(1),r.get(3)),s=new K(r.popFirst(5));return i.isEqual(n)||Dr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class sI extends nI{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Tu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Gg("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Tu extends sI{data(t={}){return super.data(t)}}class oI{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Zo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Tu(this._firestore,this._userDataWriter,r.key,r,new Zo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Tu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Tu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:m2(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function m2(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(e){e=Mn(e,en);const t=Mn(e.firestore,pi);return XN(hd(t),e._key).then(n=>aI(t,e,n))}class Jg extends h2{constructor(t){super(),this.firestore=t}convertBytes(t){return new uo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new en(this.firestore,null,n)}}function zi(e){e=Mn(e,cs);const t=Mn(e.firestore,pi),n=hd(t),r=new Jg(t);return rI(e._query),JN(n,e._query).then(i=>new oI(t,r,e,i))}function Zg(e,t,n,...r){e=Mn(e,en);const i=Mn(e.firestore,pi),s=Hg(i);let o;return o=typeof(t=pr(t))=="string"||t instanceof pd?l2(s,"updateDoc",e._key,t,n,r):a2(s,"updateDoc",e._key,t),ey(i,[o.toMutation(e._key,Xn.exists(!0))])}function mc(e){return ey(Mn(e.firestore,pi),[new Cg(e._key,Xn.none())])}function y2(e,t){const n=Mn(e.firestore,pi),r=Bi(e),i=p2(e.converter,t);return ey(n,[o2(Hg(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,Xn.exists(!1))]).then(()=>r)}function Iu(e,...t){var n,r,i;e=pr(e);let s={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||F_(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(F_(t[o])){const f=t[o];t[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),t[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),t[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,c;if(e instanceof en)u=Mn(e.firestore,pi),c=nd(e._key.path),l={next:f=>{t[o]&&t[o](aI(u,e,f))},error:t[o+1],complete:t[o+2]};else{const f=Mn(e,cs);u=Mn(f.firestore,pi),c=f._query;const d=new Jg(u);l={next:h=>{t[o]&&t[o](new oI(u,d,f,h))},error:t[o+1],complete:t[o+2]},rI(e._query)}return function(d,h,y,_){const T=new Bg(_),m=new jg(h,T,y);return d.asyncQueue.enqueueAndForget(async()=>Mg(await hc(d),m)),()=>{T.Na(),d.asyncQueue.enqueueAndForget(async()=>$g(await hc(d),m))}}(hd(u),c,a,l)}function ey(e,t){return function(r,i){const s=new Sr;return r.asyncQueue.enqueueAndForget(async()=>MN(await YN(r),i,s)),s.promise}(hd(e),t)}function aI(e,t,n){const r=n.docs.get(t._key),i=new Jg(e);return new sI(e,i,t._key,r,new Zo(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){xo=i})(rA),Zu(new Ma("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new pi(new TD(r.getProvider("auth-internal")),new xD(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new $(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ga(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ks(s_,"4.4.0",t),Ks(s_,"4.4.0","esm2017")})();var lI={exports:{}},uI={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var co=g;function v2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _2=typeof Object.is=="function"?Object.is:v2,E2=co.useState,w2=co.useEffect,T2=co.useLayoutEffect,I2=co.useDebugValue;function S2(e,t){var n=t(),r=E2({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return T2(function(){i.value=n,i.getSnapshot=t,Mf(i)&&s({inst:i})},[e,n,t]),w2(function(){return Mf(i)&&s({inst:i}),e(function(){Mf(i)&&s({inst:i})})},[e]),I2(n),n}function Mf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_2(e,n)}catch{return!0}}function C2(e,t){return t()}var x2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?C2:S2;uI.useSyncExternalStore=co.useSyncExternalStore!==void 0?co.useSyncExternalStore:x2;lI.exports=uI;var P2=lI.exports,cI={exports:{}},dI={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yd=g,R2=P2;function A2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var D2=typeof Object.is=="function"?Object.is:A2,k2=R2.useSyncExternalStore,N2=yd.useRef,O2=yd.useEffect,V2=yd.useMemo,b2=yd.useDebugValue;dI.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=N2(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=V2(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),i!==void 0&&o.hasValue){var y=o.value;if(i(y,h))return f=y}return f=h}if(y=f,D2(c,h))return y;var _=r(h);return i!==void 0&&i(y,_)?y:(c=h,f=_)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,n,r,i]);var a=k2(e,s[0],s[1]);return O2(function(){o.hasValue=!0,o.value=a},[a]),b2(a),a};cI.exports=dI;var L2=cI.exports;function M2(e){e()}let fI=M2;const $2=e=>fI=e,F2=()=>fI,B_=Symbol.for("react-redux-context"),z_=typeof globalThis<"u"?globalThis:{};function j2(){var e;if(!g.createContext)return{};const t=(e=z_[B_])!=null?e:z_[B_]=new Map;let n=t.get(g.createContext);return n||(n=g.createContext(null),t.set(g.createContext,n)),n}const mi=j2();function ty(e=mi){return function(){return g.useContext(e)}}const hI=ty(),U2=()=>{throw new Error("uSES not initialized!")};let pI=U2;const B2=e=>{pI=e},z2=(e,t)=>e===t;function W2(e=mi){const t=e===mi?hI:ty(e);return function(r,i={}){const{equalityFn:s=z2,stabilityCheck:o=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:u,getServerState:c,stabilityCheck:f,noopCheck:d}=t();g.useRef(!0);const h=g.useCallback({[r.name](_){return r(_)}}[r.name],[r,f,o]),y=pI(u.addNestedSub,l.getState,c||l.getState,h,s);return g.useDebugValue(y),y}}const li=W2();function yp(){return yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yp.apply(this,arguments)}function mI(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var gI={exports:{}},xe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var St=typeof Symbol=="function"&&Symbol.for,ny=St?Symbol.for("react.element"):60103,ry=St?Symbol.for("react.portal"):60106,vd=St?Symbol.for("react.fragment"):60107,_d=St?Symbol.for("react.strict_mode"):60108,Ed=St?Symbol.for("react.profiler"):60114,wd=St?Symbol.for("react.provider"):60109,Td=St?Symbol.for("react.context"):60110,iy=St?Symbol.for("react.async_mode"):60111,Id=St?Symbol.for("react.concurrent_mode"):60111,Sd=St?Symbol.for("react.forward_ref"):60112,Cd=St?Symbol.for("react.suspense"):60113,K2=St?Symbol.for("react.suspense_list"):60120,xd=St?Symbol.for("react.memo"):60115,Pd=St?Symbol.for("react.lazy"):60116,H2=St?Symbol.for("react.block"):60121,q2=St?Symbol.for("react.fundamental"):60117,Q2=St?Symbol.for("react.responder"):60118,G2=St?Symbol.for("react.scope"):60119;function Rn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ny:switch(e=e.type,e){case iy:case Id:case vd:case Ed:case _d:case Cd:return e;default:switch(e=e&&e.$$typeof,e){case Td:case Sd:case Pd:case xd:case wd:return e;default:return t}}case ry:return t}}}function yI(e){return Rn(e)===Id}xe.AsyncMode=iy;xe.ConcurrentMode=Id;xe.ContextConsumer=Td;xe.ContextProvider=wd;xe.Element=ny;xe.ForwardRef=Sd;xe.Fragment=vd;xe.Lazy=Pd;xe.Memo=xd;xe.Portal=ry;xe.Profiler=Ed;xe.StrictMode=_d;xe.Suspense=Cd;xe.isAsyncMode=function(e){return yI(e)||Rn(e)===iy};xe.isConcurrentMode=yI;xe.isContextConsumer=function(e){return Rn(e)===Td};xe.isContextProvider=function(e){return Rn(e)===wd};xe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ny};xe.isForwardRef=function(e){return Rn(e)===Sd};xe.isFragment=function(e){return Rn(e)===vd};xe.isLazy=function(e){return Rn(e)===Pd};xe.isMemo=function(e){return Rn(e)===xd};xe.isPortal=function(e){return Rn(e)===ry};xe.isProfiler=function(e){return Rn(e)===Ed};xe.isStrictMode=function(e){return Rn(e)===_d};xe.isSuspense=function(e){return Rn(e)===Cd};xe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===vd||e===Id||e===Ed||e===_d||e===Cd||e===K2||typeof e=="object"&&e!==null&&(e.$$typeof===Pd||e.$$typeof===xd||e.$$typeof===wd||e.$$typeof===Td||e.$$typeof===Sd||e.$$typeof===q2||e.$$typeof===Q2||e.$$typeof===G2||e.$$typeof===H2)};xe.typeOf=Rn;gI.exports=xe;var Y2=gI.exports,vI=Y2,X2={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},J2={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},_I={};_I[vI.ForwardRef]=X2;_I[vI.Memo]=J2;var Ae={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy=Symbol.for("react.element"),oy=Symbol.for("react.portal"),Rd=Symbol.for("react.fragment"),Ad=Symbol.for("react.strict_mode"),Dd=Symbol.for("react.profiler"),kd=Symbol.for("react.provider"),Nd=Symbol.for("react.context"),Z2=Symbol.for("react.server_context"),Od=Symbol.for("react.forward_ref"),Vd=Symbol.for("react.suspense"),bd=Symbol.for("react.suspense_list"),Ld=Symbol.for("react.memo"),Md=Symbol.for("react.lazy"),eO=Symbol.for("react.offscreen"),EI;EI=Symbol.for("react.module.reference");function Un(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case sy:switch(e=e.type,e){case Rd:case Dd:case Ad:case Vd:case bd:return e;default:switch(e=e&&e.$$typeof,e){case Z2:case Nd:case Od:case Md:case Ld:case kd:return e;default:return t}}case oy:return t}}}Ae.ContextConsumer=Nd;Ae.ContextProvider=kd;Ae.Element=sy;Ae.ForwardRef=Od;Ae.Fragment=Rd;Ae.Lazy=Md;Ae.Memo=Ld;Ae.Portal=oy;Ae.Profiler=Dd;Ae.StrictMode=Ad;Ae.Suspense=Vd;Ae.SuspenseList=bd;Ae.isAsyncMode=function(){return!1};Ae.isConcurrentMode=function(){return!1};Ae.isContextConsumer=function(e){return Un(e)===Nd};Ae.isContextProvider=function(e){return Un(e)===kd};Ae.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===sy};Ae.isForwardRef=function(e){return Un(e)===Od};Ae.isFragment=function(e){return Un(e)===Rd};Ae.isLazy=function(e){return Un(e)===Md};Ae.isMemo=function(e){return Un(e)===Ld};Ae.isPortal=function(e){return Un(e)===oy};Ae.isProfiler=function(e){return Un(e)===Dd};Ae.isStrictMode=function(e){return Un(e)===Ad};Ae.isSuspense=function(e){return Un(e)===Vd};Ae.isSuspenseList=function(e){return Un(e)===bd};Ae.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Rd||e===Dd||e===Ad||e===Vd||e===bd||e===eO||typeof e=="object"&&e!==null&&(e.$$typeof===Md||e.$$typeof===Ld||e.$$typeof===kd||e.$$typeof===Nd||e.$$typeof===Od||e.$$typeof===EI||e.getModuleId!==void 0)};Ae.typeOf=Un;function tO(){const e=F2();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!i||t===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}const W_={notify(){},get:()=>[]};function nO(e,t){let n,r=W_,i=0,s=!1;function o(_){c();const T=r.subscribe(_);let m=!1;return()=>{m||(m=!0,T(),f())}}function a(){r.notify()}function l(){y.onStateChange&&y.onStateChange()}function u(){return s}function c(){i++,n||(n=t?t.addNestedSub(l):e.subscribe(l),r=tO())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=W_)}function d(){s||(s=!0,c())}function h(){s&&(s=!1,f())}const y={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:d,tryUnsubscribe:h,getListeners:()=>r};return y}const rO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iO=rO?g.useLayoutEffect:g.useEffect;function sO({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",noopCheck:s="once"}){const o=g.useMemo(()=>{const u=nO(e);return{store:e,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:s}},[e,r,i,s]),a=g.useMemo(()=>e.getState(),[e]);iO(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==e.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=t||mi;return g.createElement(l.Provider,{value:o},n)}function wI(e=mi){const t=e===mi?hI:ty(e);return function(){const{store:r}=t();return r}}const oO=wI();function aO(e=mi){const t=e===mi?oO:wI(e);return function(){return t().dispatch}}const TI=aO();B2(L2.useSyncExternalStoreWithSelector);$2(ba.unstable_batchedUpdates);var lO="firebase",uO="10.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ks(lO,uO,"app");const cO={apiKey:"AIzaSyDYgbHcOme6RD1Vxbj9cHM-e1hKEhXdWyI",authDomain:"store-management-e8c6c.firebaseapp.com",projectId:"store-management-e8c6c",storageBucket:"store-management-e8c6c.appspot.com",messagingSenderId:"533231583994",appId:"1:533231583994:web:8fef0e8ab30d55c74f7f43",measurementId:"G-C5047V9P0V"},dO=Ww(cO),Et=n2(dO),fO=({customer:e})=>{const[t,n]=g.useState([]),[r,i]=g.useState(!0),s=To();g.useEffect(()=>{r?n([]):o()},[r]);const o=()=>{const a=Jn($n(Et,"purchases"),ai("customerID","==",e.id));zi(a).then(l=>{let u=[];const c=pO(l,u);zi(c).then(f=>{let d=[];f.forEach(y=>{d.push({id:y.id,...y.data()})});const h=hO(u,d);n(h)})})};return w.jsxs(w.Fragment,{children:[w.jsx("td",{children:`${e.firstName} ${e.lastName}`}),w.jsx("td",{children:e.city}),w.jsxs("td",{children:[t==null?void 0:t.map((a,l)=>w.jsxs("div",{className:"customer-bought-product-row",children:[w.jsx("div",{children:w.jsx(Ir,{to:`products/edit/${a.productID}/${a.name}/${a.price}/${a.quantity}`,children:a.name})}),w.jsx("div",{children:a.date})]},l)),r?w.jsx("button",{onClick:()=>i(!r),children:"Show Products"}):w.jsx("button",{onClick:()=>i(!r),children:"Hide Products"})]}),w.jsx("td",{children:w.jsx("button",{onClick:()=>s(`add/${e.id}/${e.firstName+" "+e.lastName}`),style:{marginLeft:"auto"},children:"Add"})})]})};function hO(e,t){return e.map(n=>{const r=t.find(i=>i.id===n.productID);return r?{...n,name:r.name,quantity:r.quantity}:n})}function pO(e,t){return e.forEach(r=>{const i={...r.data()};t.push(i)}),Jn($n(Et,"products"),ai("id","in",t.map(r=>r.productID)))}const mO=()=>{const e=li(n=>n.customersReducer.customers),t=wo();return w.jsxs("div",{children:[w.jsxs("table",{style:{float:"left"},children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{id:"name",children:"Name"}),w.jsx("th",{id:"city",children:"City"}),w.jsx("th",{id:"productsList",children:"List of Bought Products"}),w.jsx("th",{id:"action",children:"Action"})]})}),w.jsx("tbody",{children:e==null?void 0:e.map(n=>w.jsx("tr",{children:w.jsx(fO,{customer:n})},n.id))})]}),w.jsx("div",{className:"customers-page-outlet-box",children:w.jsx(bw,{},t.pathname)})]})},gO=()=>{const e=TI();g.useEffect(()=>{t(),r(),n()},[]);const t=()=>{const l=Jn($n(Et,"products"));Iu(l,u=>{i(u.docs.map(c=>({id:c.id,...c.data()})))})},n=()=>{const l=Jn($n(Et,"customers"));Iu(l,u=>{s(u.docs.map(c=>({id:c.id,...c.data()})))})},r=()=>{const l=Jn($n(Et,"purchases"));Iu(l,u=>{let c=0;o(u.docs.map(f=>(c+=+f.data().price,{id:f.id,...f.data()}))),a(c)})},i=l=>{e({type:"init-products",payload:{productsData:l}})},s=l=>{e({type:"init-customers",payload:{customersData:l}})},o=l=>{e({type:"set-purchased-products",payload:{purchasedProduct:l}})},a=l=>{e({type:"add-purchase",payload:{totalPurchases:l}})};return w.jsxs("div",{style:{display:"flex"},children:[w.jsxs("div",{style:{marginTop:"40px"},children:[w.jsx("div",{className:"menu-box",children:w.jsx(Ir,{to:"/products",children:"Products"})}),w.jsx("div",{className:"menu-box",children:w.jsx(Ir,{to:"/purchases",children:"Purchases"})}),w.jsx("div",{className:"menu-box",children:w.jsx(Ir,{to:"/customers",children:"Customers"})})]}),w.jsxs("div",{style:{border:"1px solid",borderRadius:"25px",padding:"15px",margin:"0 auto"},children:[w.jsx("h2",{children:"Welcome to the store management system!"}),w.jsxs("h3",{children:["Here you'll be able to perform various actions on certain products,"," ",w.jsx("br",{}),"customers and purchases that were made."]})]})]})},yO=(e,t)=>{const n=new Set;return e.filter(r=>{const i=r[t];return n.has(i)?!1:(n.add(i),!0)})},vO=({product:e})=>{const t=To(),n=TI(),[r,i]=g.useState([]),[s,o]=g.useState([]),[a,l]=g.useState(!1),[u,c]=g.useState(!1);g.useEffect(()=>{const d=yO(s,"customerID");f(d)},[s,u]),g.useEffect(()=>{o([]),r==null||r.map(d=>{const h=Jn($n(Et,"customers"),ai("id","==",d.customerID));zi(h).then(y=>{o(_=>[..._,...y.docs.map(T=>({name:`${T.data().firstName} ${T.data().lastName}`,date:d.date,customerID:T.data().id,purchaseID:d.id,productDetails:d.productDetails}))])})})},[r]),g.useEffect(()=>{const d=Jn($n(Et,"purchases"),ai("productID","==",e.id));Iu(d,h=>{i(h.docs.map(y=>({id:y.id,...y.data(),productDetails:{...e}})))})},[]);const f=d=>{n({type:"set-purchasing-customers",payload:{buyingCustomers:d}})};return w.jsxs("div",{children:[w.jsxs("div",{children:["Name: ",w.jsx(Ir,{children:e.name})," ",w.jsx("br",{}),"Price: ",e.price," ",w.jsx("br",{}),"Quantity: ",e.quantity,w.jsx("br",{})]})," ",w.jsx("br",{}),w.jsxs("div",{children:[w.jsx("button",{onClick:()=>{c(!u),t(`edit/${e.id}/${e.name}/${e.price}/${e.quantity}`)},children:"Edit"})," ",w.jsx("button",{onClick:()=>l(!a),children:"Purchase History"}),w.jsx("br",{}),w.jsx("br",{}),w.jsx("div",{className:"products-history",children:a?s==null?void 0:s.map(d=>w.jsxs("div",{style:{display:"flex",borderBottom:"1px solid",padding:"15px"},children:[" ",w.jsxs("div",{style:{paddingRight:"50px"},children:["NAME:"," ",w.jsx(Ir,{to:`edit/${d.customerID}`,children:`${d.name}`})," ",w.jsx("br",{})," ",`DATE: ${d.date} `]})," ",w.jsx("button",{onClick:()=>t(`add/${d.customerID}/${d.name}`),style:{marginLeft:"auto"},children:"Add"})]},d.purchaseID)):null})]})]})},_O=()=>{const e=wo(),t=li(r=>r.purchasesReducer.totalPurchases),n=li(r=>r.productsReducer.products);return w.jsxs("div",{children:[w.jsx("div",{className:"products-box",children:n==null?void 0:n.map(r=>w.jsx("div",{className:"product",children:w.jsx(vO,{product:r})},r.id))}),w.jsx("div",{className:"products-page-outlet-box",children:w.jsx(bw,{},e.pathname)}),w.jsx("div",{className:"total-box",children:w.jsxs(w.Fragment,{children:[w.jsx("h2",{children:"Total Purchases"}),w.jsxs("h3",{children:[t," NIS"]})]})})]})};var II={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)t.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(II);var EO=II.exports;const ge=wc(EO);var SI={exports:{}},wO="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",TO=wO,IO=TO;function CI(){}function xI(){}xI.resetWarningCache=CI;var SO=function(){function e(r,i,s,o,a,l){if(l!==IO){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:xI,resetWarningCache:CI};return n.PropTypes=n,n};SI.exports=SO();var ie=SI.exports;const E=wc(ie);function K_(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function CO(e){var t=xO(e,"string");return typeof t=="symbol"?t:String(t)}function xO(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tn(e,t,n){var r=g.useRef(e!==void 0),i=g.useState(t),s=i[0],o=i[1],a=e!==void 0,l=r.current;return r.current=a,!a&&l&&s!==t&&o(t),[a?e:s,g.useCallback(function(u){for(var c=arguments.length,f=new Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];n&&n.apply(void 0,[u].concat(f)),o(u)},[n])]}function PI(e,t){return Object.keys(t).reduce(function(n,r){var i,s=n,o=s[K_(r)],a=s[r],l=mI(s,[K_(r),r].map(CO)),u=t[r],c=Tn(a,o,e[u]),f=c[0],d=c[1];return yp({},l,(i={},i[r]=f,i[u]=d,i))},e)}function vp(e,t){return vp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vp(e,t)}function PO(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,vp(e,t)}/*!
Font Awesome Free 5.2.0 by @fontawesome - https://fontawesome.com
License - https://fontawesome.com/license (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
*/const $d=g.createElement("svg",{height:"1em",fill:"currentcolor",viewBox:"0 0 320 512","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"}));/*!
Font Awesome Free 5.2.0 by @fontawesome - https://fontawesome.com
License - https://fontawesome.com/license (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
*/const RO=g.createElement("svg",{height:"1em",fill:"currentcolor",viewBox:"0 0 320 512","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{d:"M285.48 272.97L91.13 467.31a24 24 0 0 1-33.94 0l-22.67-22.66a24 24 0 0 1-.04-33.9L188.5 256 34.48 101.25a24 24 0 0 1 .04-33.9L57.2 44.7a24 24 0 0 1 33.94 0l194.35 194.34a24 24 0 0 1 0 33.94z"})),AO=g.createElement("svg",{height:"1em",fill:"currentcolor",viewBox:"0 0 320 512","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{d:"M34.52 239.03L228.87 44.69a24 24 0 0 1 33.94 0l22.67 22.67a24 24 0 0 1 .04 33.9L131.49 256l154.02 154.75a24 24 0 0 1-.04 33.9l-22.67 22.67a24 24 0 0 1-33.94 0L34.52 272.97a24 24 0 0 1 0-33.94z"}));/*!
Font Awesome Free 5.2.0 by @fontawesome - https://fontawesome.com
License - https://fontawesome.com/license (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
*/const DO=g.createElement("svg",{"aria-hidden":!0,height:"1em",fill:"currentcolor",viewBox:"0 0 448 512",className:"rw-i-calendar",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{d:"M148 288h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"})),RI=g.createElement("svg",{height:".8em",fill:"currentcolor",viewBox:"0 0 352 512","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})),ay=g.createElement("svg",{height:"1.4em",viewBox:"0 0 50 50",xmlSpace:"preserve","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{fill:"currentcolor",d:"M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z"},g.createElement("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 25 25",to:"360 25 25",dur:"0.6s",repeatCount:"indefinite"}))),kO=["className","disabled","label","icon","busy","children","spinner"];function _p(){return _p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_p.apply(this,arguments)}function NO(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function ly(e){let{className:t,disabled:n,label:r,icon:i,busy:s,children:o,spinner:a=ay}=e,l=NO(e,kO);return g.createElement("button",_p({tabIndex:-1},l,{title:r,type:"button",disabled:n,"aria-label":r,"aria-disabled":n,className:ge(t,"rw-btn")}),s?a:i,o)}const OO=["className"];function Ep(){return Ep=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ep.apply(this,arguments)}function VO(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function ru(e){let{className:t}=e,n=VO(e,OO);return g.createElement(ly,Ep({},n,{tabIndex:void 0,className:ge(t,"rw-calendar-btn")}))}function bO({localizer:e,label:t,labelId:n,onMoveRight:r,onMoveToday:i,onMoveLeft:s,onViewChange:o,prevDisabled:a,todayDisabled:l,upDisabled:u,nextDisabled:c,navigatePrevIcon:f=AO,navigateNextIcon:d=RO}){return S.createElement("div",{className:"rw-calendar-header"},S.createElement(ru,{id:n,onClick:o,className:"rw-calendar-btn-view",disabled:u,"aria-live":"polite","aria-atomic":"true"},t," ",$d),S.createElement(ru,{className:"rw-calendar-btn-left",onClick:s,disabled:a,label:e.messages.moveBack(),icon:f}),S.createElement(ru,{className:"rw-calendar-btn-today",disabled:l,onClick:i},e.messages.moveToday()),S.createElement(ru,{className:"rw-calendar-btn-right",onClick:r,disabled:c,label:e.messages.moveForward(),icon:d}))}var gc="milliseconds",Za="seconds",el="minutes",tl="hours",Zi="day",fo="week",nl="month",es="year",ts="decade",ns="century",AI={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},LO={month:1,year:12,decade:10*12,century:100*12};function MO(e){return[31,$O(e),31,30,31,30,31,31,30,31,30,31]}function $O(e){return e%4===0&&e%100!==0||e%400===0?29:28}function rs(e,t,n){switch(e=new Date(e),n){case gc:case Za:case el:case tl:case Zi:case fo:return FO(e,t*AI[n]);case nl:case es:case ts:case ns:return jO(e,t*LO[n])}throw new TypeError('Invalid units: "'+n+'"')}function FO(e,t){var n=new Date(+e+t);return UO(e,n)}function jO(e,t){var n=e.getFullYear(),r=e.getMonth(),i=e.getDate(),s=n*12+r+t,o=Math.trunc(s/12),a=s%12,l=Math.min(i,MO(o)[a]),u=new Date(e);return u.setFullYear(o),u.setDate(1),u.setMonth(a),u.setDate(l),u}function UO(e,t){var n=e.getTimezoneOffset(),r=t.getTimezoneOffset(),i=r-n;return new Date(+t+i*AI.minutes)}function rl(e,t,n){return rs(e,-t,n)}function ho(e,t,n){switch(e=new Date(e),t){case ns:case ts:case es:e=yc(e,0);case nl:e=MI(e,1);case fo:case Zi:e=bI(e,0);case tl:e=VI(e,0);case el:e=OI(e,0);case Za:e=NI(e,0)}return t===ts&&(e=rl(e,is(e)%10,"year")),t===ns&&(e=rl(e,is(e)%100,"year")),t===fo&&(e=$I(e,0,n)),e}function BO(e,t,n){switch(e=new Date(e),e=ho(e,t,n),t){case ns:case ts:case es:case nl:case fo:e=rs(e,1,t),e=rl(e,1,Zi),e.setHours(23,59,59,999);break;case Zi:e.setHours(23,59,59,999);break;case tl:case el:case Za:e=rs(e,1,t),e=rl(e,1,gc)}return e}var zO=Ao(function(e,t){return e===t}),WO=Ao(function(e,t){return e!==t}),KO=Ao(function(e,t){return e>t}),DI=Ao(function(e,t){return e>=t}),HO=Ao(function(e,t){return e<t}),kI=Ao(function(e,t){return e<=t});function qO(){return new Date(Math.min.apply(Math,arguments))}function QO(){return new Date(Math.max.apply(Math,arguments))}function GO(e,t,n,r){return r=r||"day",(!t||DI(e,t,r))&&(!n||kI(e,n,r))}var NI=Ii("Milliseconds"),OI=Ii("Seconds"),VI=Ii("Minutes"),bI=Ii("Hours"),LI=Ii("Day"),MI=Ii("Date"),yc=Ii("Month"),is=Ii("FullYear");function YO(e,t){return t===void 0?is(ho(e,ts)):rs(e,t+10,es)}function XO(e,t){return t===void 0?is(ho(e,ns)):rs(e,t+100,es)}function $I(e,t,n){var r=(LI(e)+7-(n||0))%7;return t===void 0?r:rs(e,t-r,Zi)}function JO(e,t,n,r){var i,s,o;switch(n){case gc:case Za:case el:case tl:case Zi:case fo:i=t.getTime()-e.getTime();break;case nl:case es:case ts:case ns:i=(is(t)-is(e))*12+yc(t)-yc(e);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case gc:s=1;break;case Za:s=1e3;break;case el:s=1e3*60;break;case tl:s=1e3*60*60;break;case Zi:s=1e3*60*60*24;break;case fo:s=1e3*60*60*24*7;break;case nl:s=1;break;case es:s=12;break;case ts:s=120;break;case ns:s=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return o=i/s,r?o:Math.round(o)}function Ii(e){var t=function(n){switch(n){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(n,r){if(r===void 0)return n["get"+e]();var i=new Date(n);return i["set"+e](r),t&&i["get"+e]()!=r&&(e==="Hours"||r>=t&&i.getHours()-n.getHours()<Math.floor(r/t))&&i["set"+e](r+t),i}}function Ao(e){return function(t,n,r){return e(+ho(t,r),+ho(n,r))}}const ZO=Object.freeze(Object.defineProperty({__proto__:null,add:rs,century:XO,date:MI,day:LI,decade:YO,diff:JO,endOf:BO,eq:zO,gt:KO,gte:DI,hours:bI,inRange:GO,lt:HO,lte:kI,max:QO,milliseconds:NI,min:qO,minutes:VI,month:yc,neq:WO,seconds:OI,startOf:ho,subtract:rl,weekday:$I,year:is},Symbol.toStringTag,{value:"Module"}));let ea=e=>e==null||isNaN(+e),z=Object.assign({},ZO,{merge(e,t,n){return ea(t)&&ea(e)==null?null:(ea(t)&&(t=n||new Date),ea(e)&&(e=n||new Date),e=z.startOf(e,"day"),e=z.hours(e,z.hours(t)),e=z.minutes(e,z.minutes(t)),e=z.seconds(e,z.seconds(t)),z.milliseconds(e,z.milliseconds(t)))}});function eV(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e},[e]),t}function vn(e){const t=eV(e);return g.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function Fd(){const e=g.useRef(!0),t=g.useRef(()=>e.current);return g.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function tV(e){const t=Fd(),n=g.useRef(),r=g.useRef(),i=vn(e.willHandle),s=vn(e.didHandle),o=vn(e.onChange),a=vn(e.isDisabled),l=g.useCallback((c,f)=>{c!==n.current&&(s==null||s(c,f),(t()||!c)&&(n.current=c,o==null||o(c,f)))},[t,s,o,n]),u=g.useCallback((c,f)=>{a()||(f&&f.persist&&f.persist(),(i==null?void 0:i(c,f))!==!1&&(clearTimeout(r.current),c?l(c,f):r.current=window.setTimeout(()=>l(c,f))))},[i,l]);return g.useMemo(()=>({onBlur:c=>{u(!1,c)},onFocus:c=>{u(!0,c)}}),[u])}var $f;function FI(e,t){if(!$f){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;$f=function(s,o){return r.call(s,o)}}return $f(e,t)}const nV=e=>!!e&&FI(e,"fieldset[disabled] *");function Si(e,t={},n={}){const r=Fd(),[i,s]=g.useState(!1),o=vn(()=>t.disabled===!0||nV(e.current));return[tV(Object.assign({},n,{isDisabled:o,onChange:l=>{r()&&s(l)},didHandle(l,u){let c=t[l?"onFocus":"onBlur"];c&&c(u),n.didHandle&&!u.isWidgetDefaultPrevented&&n.didHandle(l,u)}})),i,s]}function il(){return il=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},il.apply(this,arguments)}function rV(e,t,n){return z.max(z.min(e,n),t)}function lt({className:e,focusedItem:t,onKeyDown:n,children:r,"aria-labelledby":i}){const s=g.useRef(null),[o,a]=Si(s);return g.useEffect(()=>{var l;const u=s.current;!u||!a||(l=u.querySelector(".rw-cell[tabindex]"))==null||l.focus()},[t,a,s]),S.createElement("div",il({role:"grid",ref:s,tabIndex:-1},o,{onKeyDown:n,"aria-labelledby":i,className:ge(e,"rw-nav-view","rw-calendar-grid")}),r)}function iV({onChange:e,min:t,max:n,date:r,unit:i,disabled:s,selected:o,focusedItem:a,viewUnit:l,children:u,label:c}){const f=p=>z.eq(r,p,i),d=!z.inRange(r,t,n,i),h=s||d,y=!s&&!d&&f(a),_=o&&f(o),T=r&&a&&l&&z[l](r)!==z[l](a),m=()=>{e(rV(r,t,n))};return S.createElement("div",{role:"gridcell",title:c,"aria-label":c,"aria-readonly":s,"aria-selected":!!_,tabIndex:y?0:void 0,onClick:h?void 0:m,className:ge("rw-cell",h&&"rw-state-disabled",d&&"rw-cell-not-allowed",T&&"rw-cell-off-range",_&&"rw-state-selected")},S.createElement("span",{"aria-hidden":!0},u))}lt.Body=e=>S.createElement("div",il({role:"rowgroup",className:"rw-calendar-body"},e));lt.Row=e=>S.createElement("div",il({role:"row",className:"rw-calendar-row"},e));lt.Cell=iV;function sV(e){return Array.isArray(e)?e:[]}const jI=(e,t=!0)=>{const n=[];return t&&e==null?n:n.concat(e)},oV=(e,t)=>e?Object.prototype.hasOwnProperty.call(e,t):!1;function jd(e,t){let n=0,r=e?e.length:0,i=[];for(t=Math.max(+t||1,1);n<r;)i.push(e.slice(n,n+=t));return i}function aV(e,t,n=[]){const r=typeof e=="function"?e:s=>s[e];typeof e!="string"||!t.length||oV(t[0],e);const i=new Map;return t.forEach(s=>{let o=r(s);i.has(o)?i.get(o).push(s):i.set(o,[s])}),Array.from(i)}const lV=["focusedItem","disabled","onChange","value","localizer","min","max"];function wp(){return wp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wp.apply(this,arguments)}function uV(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function cV(e){let{focusedItem:t,disabled:n,onChange:r,value:i,localizer:s,min:o,max:a}=e,l=uV(e,lV);const u=g.useMemo(()=>jd(dV(t),4),[t]);return S.createElement(lt,wp({},l,{focusedItem:t}),S.createElement(lt.Body,null,u.map((c,f)=>S.createElement(lt.Row,{key:f},c.map((d,h)=>{let y=s.formatDate(z.startOf(d,"decade"),"decade");return S.createElement(lt.Cell,{key:h,unit:"decade",viewUnit:"century",label:y,date:d,min:o,max:a,onChange:r,focusedItem:t,selected:i,disabled:n},y)})))))}function dV(e){let t=[1,2,3,4,5,6,7,8,9,10,11,12],n=z.add(z.startOf(e,"century"),-20,"year");return t.map(()=>n=z.add(n,10,"year"))}const fV=["focusedItem","disabled","onChange","value","localizer","min","max"];function Tp(){return Tp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tp.apply(this,arguments)}function hV(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function pV(e){let{focusedItem:t,disabled:n,onChange:r,value:i,localizer:s,min:o,max:a}=e,l=hV(e,fV);const u=g.useMemo(()=>jd(mV(t),4),[t]);return S.createElement(lt,Tp({},l,{focusedItem:t}),S.createElement(lt.Body,null,u.map((c,f)=>S.createElement(lt.Row,{key:f},c.map((d,h)=>{let y=s.formatDate(d,"year");return S.createElement(lt.Cell,{key:h,unit:"year",viewUnit:"decade",label:y,date:d,min:o,max:a,onChange:r,focusedItem:t,selected:i,disabled:n},y)})))))}function mV(e){let t=[1,2,3,4,5,6,7,8,9,10,11,12],n=z.add(z.startOf(e,"decade"),-2,"year");return t.map(()=>n=z.add(n,1,"year"))}const H_={day:"numeric",month:"numeric",year:"numeric"},q_={hour:"numeric",minute:"numeric"},$r=(e,t)=>Intl.DateTimeFormat(e,t).format;class gV{constructor({culture:t=void 0,firstOfWeek:n=0}={}){this.culture=t,this.firstOfWeek=()=>n;function r(s,o){return typeof o=="function"?o(s,t):s.toLocaleString(t,o)}const i={date:$r(t,H_),time:$r(t,q_),datetime:$r(t,Object.assign({},H_,q_)),header:$r(t,{month:"short",year:"numeric"}),weekday:$r(t,{weekday:"narrow"}),dayOfMonth:$r(t,{day:"2-digit"}),month:$r(t,{month:"short"}),year:$r(t,{year:"numeric"}),decade:s=>`${this.year(s)} - ${this.year(z.endOf(s,"decade"))}`,century:s=>`${this.year(s)} - ${this.year(z.endOf(s,"century"))}`};Object.keys(i).forEach(s=>{this[s]=(o,a)=>a?r(o,a):i[s](o)})}toFormattedParts(t,n={dateStyle:"short",timeStyle:"short"}){return Intl.DateTimeFormat(this.culture,n).formatToParts(t).filter(r=>r.type!=="timeZoneName")}parse(t){const n=new Date(t);return isNaN(+n)?null:n}}class yV{constructor({culture:t=void 0}={}){var n;this.culture=t;const r="formatToParts"in Intl.NumberFormat(t)?Intl.NumberFormat(t).formatToParts(1.1)[1].value:((n=1.1.toLocaleString(t).match(/[^\d]/))==null?void 0:n[0])||".",i=Intl.NumberFormat(t).format;this.decimalCharacter=()=>r,this.format=(s,o)=>o?typeof o=="function"?o(s,t):s.toLocaleString(t,o):i(s)}parse(t){return parseFloat(t.replace(this.decimalCharacter(),"."))}}const Q_={moveToday:"Today",moveBack:"Navigate back",moveForward:"Navigate forward",dateButton:"Select date",openCombobox:"open combobox",emptyList:"There are no items in this list",emptyFilter:"The filter returned no results",createOption:(e,t)=>[" Create option",t&&" ",t&&g.createElement("strong",{key:"_"},`"${t}"`)],tagsLabel:"Selected items",removeLabel:"Remove selected item",noneSelected:"no selected items",selectedItems:e=>`Selected items: ${e.join(", ")}`,increment:"Increment value",decrement:"Decrement value"},vV={};function uy(e=vV){let t={};return Object.keys(Q_).forEach(n=>{let r=e[n];r==null&&(r=Q_[n]),t[n]=typeof r=="function"?r:()=>r}),t}const cy=e=>g.useMemo(()=>uy(e),[e]);function _V(e,t,n,r={}){if(!e&&!t)throw new Error("This component requires a Localizer but none was provided");return{formatOverrides:r,messages:uy(n),formatDate(i,s,o){return e[s](i,o??this.formatOverrides[s])},formatNumber(i,s){return t.format(i,s??this.formatOverrides.number)},parseDate:e.parse.bind(e),parseNumber:t.parse.bind(t),decimalCharacter:t.decimalCharacter.bind(t),firstOfWeek:e.firstOfWeek.bind(e)}}const EV=S.createContext(_V(new gV,new yV)),dy=(e,t)=>{const n=g.useContext(EV);return g.useMemo(()=>!e&&!t?n:Object.assign({},n,{messages:uy(Object.assign({},n.messages,e)),formatOverrides:Object.assign({},n.formatOverrides,t)}),[e,t,n])},wV=["className","focusedItem","disabled","onChange","value","min","max","localizer","renderDay"];function Ip(){return Ip=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ip.apply(this,arguments)}function TV(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function IV(e,t){let n=z.startOf(z.startOf(e,"month"),"week",t),r=z.endOf(z.endOf(e,"month"),"week",t),i=[];for(;z.lte(n,r,"day");)i.push(n),n=z.add(n,1,"day");return i}function SV(e){let{className:t,focusedItem:n,disabled:r,onChange:i,value:s,min:o,max:a,localizer:l,renderDay:u}=e,c=TV(e,wV),f=IV(n,l.firstOfWeek()),d=jd(f,7);return S.createElement(lt,Ip({},c,{focusedItem:n,className:ge(t,"rw-calendar-month")}),S.createElement("div",{role:"rowgroup",className:"rw-calendar-head"},S.createElement(lt.Row,{className:"rw-calendar-row"},d[0].map((h,y)=>S.createElement("div",{role:"columnheader",className:"rw-head-cell",key:y},l.formatDate(h,"weekday"))))),S.createElement(lt.Body,null,d.map((h,y)=>S.createElement(lt.Row,{key:y},h.map((_,T)=>{let m=l.formatDate(_,"dayOfMonth"),p=l.formatDate(_,"date");return S.createElement(lt.Cell,{key:T,label:p,date:_,min:o,max:a,unit:"day",viewUnit:"month",onChange:i,focusedItem:n,selected:s,disabled:r},u?u({date:_,label:m}):m)})))))}function fy(e){return e&&e.ownerDocument||document}function CV(e){var t=fy(e);return t&&t.defaultView||window}function xV(e,t){return CV(e).getComputedStyle(e,t)}var PV=/([A-Z])/g;function RV(e){return e.replace(PV,"-$1").toLowerCase()}var AV=/^ms-/;function iu(e){return RV(e).replace(AV,"-ms-")}var DV=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function kV(e){return!!(e&&DV.test(e))}function Sp(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(iu(t))||xV(e).getPropertyValue(iu(t));Object.keys(t).forEach(function(i){var s=t[i];!s&&s!==0?e.style.removeProperty(iu(i)):kV(i)?r+=i+"("+s+") ":n+=iu(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}const Cp=!!(typeof window<"u"&&window.document&&window.document.createElement);var xp=!1,Pp=!1;try{var Ff={get passive(){return xp=!0},get once(){return Pp=xp=!0}};Cp&&(window.addEventListener("test",Ff,Ff),window.removeEventListener("test",Ff,!0))}catch{}function NV(e,t,n,r){if(r&&typeof r!="boolean"&&!Pp){var i=r.once,s=r.capture,o=n;!Pp&&i&&(o=n.__once||function a(l){this.removeEventListener(t,a,s),n.call(this,l)},n.__once=o),e.addEventListener(t,o,xp?r:s)}e.addEventListener(t,n,r)}function OV(e,t,n,r){var i=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)}function UI(e,t,n,r){return NV(e,t,n,r),function(){OV(e,t,n,r)}}function VV(e,t,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}function bV(e){var t=Sp(e,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function LV(e,t,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||VV(e,"transitionend",!0)},t+n),s=UI(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function BI(e,t,n,r){n==null&&(n=bV(e)||0);var i=LV(e,n,r),s=UI(e,"transitionend",t);return function(){i(),s()}}const MV=["direction","children","onTransitionEnd"];function Rp(){return Rp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rp.apply(this,arguments)}function $V(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const FV=E.oneOf(["left","right","top","bottom"]),jV="rw-calendar-transition",UV="rw-calendar-transition-active",G_="rw-calendar-transition-next",BV="rw-calendar-transition-prev",Y_=(e,t)=>e&&S.cloneElement(e,{className:ge(e.props.className,jV,t)});class hy extends S.Component{constructor(t){super(t),this.handleTransitionEnd=n=>{this.isTransitioning=!1;let r=this.container.current.lastChild;this.props.onTransitionEnd&&this.props.onTransitionEnd(r,n)},this.current=this.props.children,this.container=S.createRef(),this.state={prevClasses:"",currentClasses:""}}componentDidUpdate(){if(!this.flush||this.isTransitioning)return;this.flush=!1,this.isTransitioning=!0;let t=this.container.current.firstChild;const n=document.activeElement&&t.contains(document.activeElement);this.setState({prevClasses:"",currentClasses:G_},()=>{let r=this.container.current.lastChild;r.clientHeight,this.setState({prevClasses:BV,currentClasses:ge(G_,UV)},()=>{BI(r,()=>{this.prev=null,this.current.key!==this.props.children.key&&(this.current=this.props.children),this.setState({prevClasses:"",currentClasses:""},()=>this.handleTransitionEnd(n))})})})}render(){let t=this.props,{direction:n,children:r}=t,i=$V(t,MV);this.isTransitioning||(this.current.key!==r.key&&(this.prev=this.current,this.flush=!0),this.current=r);let{prevClasses:s,currentClasses:o}=this.state;return S.createElement("div",Rp({},i,{ref:this.container,className:ge("rw-calendar-transition-group",n==="top"&&"rw-calendar-transition-top",n==="right"&&"rw-calendar-transition-right",n==="bottom"&&"rw-calendar-transition-bottom",n==="left"&&"rw-calendar-transition-left")}),Y_(this.prev,s),Y_(this.current,o))}}hy.defaultProps={direction:"left"};hy.propTypes={direction:FV,onTransitionEnd:E.func};function zI(e,t,n,r=!1){const i=vn(n);g.useEffect(()=>{const s=typeof e=="function"?e():e;return s.addEventListener(t,i,r),()=>s.removeEventListener(t,i,r)},[e])}function X_(e,t,n=!1){const r=g.useCallback(()=>document,[]);return zI(r,e,t,n)}const zV=["className","tabIndex","focused","open","dropUp","disabled","readOnly","autofilling"];function Ap(){return Ap=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ap.apply(this,arguments)}function WV(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function KV(){const[e,t]=g.useState(!1);return X_("keydown",({key:n})=>{(n==" "||n==="Tab"||n=="Enter"||n&&n.indexOf("Arrow")!==-1)&&t(!0)}),X_("mousedown",()=>{t(!1)}),e}function WI(e){const t=e.tabIndex!=null?e.tabIndex:-1,n=KV();return{tabIndex:t,"data-intent":n?"keyboard":"mouse",className:ge(e.className,"rw-widget",e.disabled&&"rw-state-disabled",e.readOnly&&"rw-state-readonly",e.focused&&"rw-state-focus",e.autofilling&&"rw-webkit-autofill",e.open&&`rw-open${e.dropUp?"-up":""}`)}}const ds=S.forwardRef((e,t)=>{let{className:n,tabIndex:r,focused:i,open:s,dropUp:o,disabled:a,readOnly:l,autofilling:u}=e,c=WV(e,zV);const f=WI({className:n,tabIndex:r,focused:i,open:s,dropUp:o,disabled:a,readOnly:l,autofilling:u});return S.createElement("div",Ap({ref:t},c,f))});ds.displayName="Widget";const HV=["focusedItem","disabled","onChange","value","min","localizer","max"];function Dp(){return Dp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dp.apply(this,arguments)}function qV(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const QV=[0,1,2,3,4,5,6,7,8,9,10,11];function GV(e){let t=new Date(e,0,1);return QV.map(n=>z.month(t,n))}function YV(e){let{focusedItem:t,disabled:n,onChange:r,value:i,min:s,localizer:o,max:a}=e,l=qV(e,HV),u=GV(z.year(t));return S.createElement(lt,Dp({},l,{focusedItem:t}),S.createElement(lt.Body,null,jd(u,4).map((c,f)=>S.createElement(lt.Row,{key:f},c.map((d,h)=>{let y=o.formatDate(d,"header");return S.createElement(lt.Cell,{key:h,label:y,date:d,min:s,max:a,unit:"month",viewUnit:"year",onChange:r,focusedItem:t,selected:i,disabled:n},o.formatDate(d,"month"))})))))}function KI(e,t){g.useEffect(()=>{e&&t.current&&t.current.focus()},[])}let XV=0;function JV(e){return""+((e??"")+ ++XV)}function Ke(e,t){e&&e.apply(null,t)}const At=(e,t="")=>{const n=g.useRef();return n.current||(n.current=JV("rw_")),(e||n.current)+t};function Ud(e,t){const n=g.useRef(!1);return n.current||(e||!!t)&&(n.current=!0)}const ZV=["id","autoFocus","bordered","views","tabIndex","disabled","readOnly","className","value","defaultValue","onChange","currentDate","defaultCurrentDate","onCurrentDateChange","min","max","view","defaultView","onViewChange","onKeyDown","onNavigate","renderDay","messages","formats"];function kp(){return kp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kp.apply(this,arguments)}function eb(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}let tb=e=>e[e.length-1];const nb="rw-cell",rb=`.${nb}[tabindex]`,ib=new Date(1900,0,1),sb=new Date(2099,11,31),Np=["month","year","decade","century"],ga={month:"day",year:"month",decade:"year",century:"decade"},ob={month:SV,year:YV,decade:pV,century:cV},ab={ArrowDown:"DOWN",ArrowUp:"UP",ArrowRight:"RIGHT",ArrowLeft:"LEFT"},J_={LEFT:"RIGHT",RIGHT:"LEFT"},lb={year:1,decade:10,century:100};function Z_(e,t,n){let r=Op(e);return r===null?r:z.max(z.min(r,n),t)}const ub={disabled:E.bool,readOnly:E.bool,onChange:E.func,value:E.instanceOf(Date),min:E.instanceOf(Date),max:E.instanceOf(Date),currentDate:E.instanceOf(Date),onCurrentDateChange:E.func,navigatePrevIcon:E.node,navigateNextIcon:E.node,view(e,...t){return E.oneOf(e.views||Np)(e,...t)},views:E.arrayOf(E.oneOf(Np)),onViewChange:E.func,onNavigate:E.func,culture:E.string,autoFocus:E.bool,footer:E.bool,renderDay:E.func,formats:E.shape({header:E.any,footer:E.any,day:E.any,date:E.any,month:E.any,year:E.any,decade:E.any,century:E.any}),messages:E.shape({moveBack:E.string,moveForward:E.string}),onKeyDown:E.func,tabIndex:E.any},cb=(e,t=e[0],n)=>{const r=g.useRef(t),i=g.useRef(n);let s;return t!==r.current?s=e.indexOf(r.current)>e.indexOf(t)?"top":"bottom":i.current!==n&&(s=z.gt(n,i.current)?"left":"right"),g.useEffect(()=>{i.current=n,r.current=t}),s};function gi(e){let{id:t,autoFocus:n,bordered:r=!0,views:i=Np,tabIndex:s=0,disabled:o,readOnly:a,className:l,value:u,defaultValue:c,onChange:f,currentDate:d,defaultCurrentDate:h,onCurrentDateChange:y,min:_=ib,max:T=sb,view:m,defaultView:p=i[0],onViewChange:v,onKeyDown:I,onNavigate:C,renderDay:x,messages:D,formats:N}=e,H=eb(e,ZV);const[V,_e]=Tn(u,c,f),[ne,ke]=Tn(d,h||V||new Date,y),[q,re]=Tn(m,p,v),ae=dy(D,N),Pe=g.useRef(null),R=At(t,"_calendar"),L=At(t,"_calendar_label");KI(!!n,Pe);const B=cb(i,q,ne),[,se]=Si(Pe,{disabled:o},{willHandle(){if(s==-1)return!1}}),fe=g.useRef(V);g.useEffect(()=>{const M=Z_(V,_,T),ye=fe.current;fe.current=V,z.eq(M,Op(ye),ga[q])||Te(M)});const rt=o||a,ct=()=>{J("UP")},Kt=()=>{J("LEFT")},je=()=>{J("RIGHT")},Ue=M=>{if(i[0]===q){Te(M),Ke(_e,[M]),te();return}J("DOWN",M)},hn=()=>{let M=new Date,ye=i[0];Ke(f,[M]),z.inRange(M,_,T,ye)&&(te(),Te(M),Ke(re,[ye]))},F=M=>{let ye=M.ctrlKey||M.metaKey,oe=M.key,Re=ab[oe],dt=ga[q];if(oe==="Enter")return M.preventDefault(),Ue(ne);if(Re)if(ye)M.preventDefault(),J(Re);else{getComputedStyle(M.currentTarget).getPropertyValue("direction")==="rtl"&&Re in J_&&(Re=J_[Re]);let tt=gi.move(ne,_,T,q,Re);z.eq(ne,tt,dt)||(M.preventDefault(),z.gt(tt,ne,q)?J("RIGHT",tt):z.lt(tt,ne,q)?J("LEFT",tt):Te(tt))}Ke(I,[M])};function J(M,ye){let oe=q,Re=M==="LEFT"||M==="UP"?"right":"left";M==="UP"&&(oe=i[i.indexOf(q)+1]||oe),M==="DOWN"&&(oe=i[i.indexOf(q)-1]||oe),ye||(ye=["LEFT","RIGHT"].indexOf(M)!==-1?Ie(M):ne),z.inRange(ye,_,T,oe)&&(Ke(C,[ye,Re,oe]),Te(ye),Ke(re,[oe]))}const te=()=>{var M;const ye=(M=Pe.current)==null?void 0:M.querySelector(rb);ye==null||ye.focus()},le=(M,ye)=>{let oe=document.activeElement;ye&&(!oe||!M.contains(oe))&&M.focus()};function Te(M){let ye=Z_(M?new Date(M):ne,_,T);M===ne||z.eq(ye,Op(ne),ga[q])||Ke(ke,[ye])}function Ie(M){let ye=M==="LEFT"?"subtract":"add",oe=q==="month"?q:"year",Re=lb[q]||1;return z[ye](ne,1*Re,oe)}function qe(){switch(q){case"month":return ae.formatDate(ne,"header");case"year":return ae.formatDate(ne,"year");case"decade":return ae.formatDate(z.startOf(ne,"decade"),"decade");case"century":return ae.formatDate(z.startOf(ne,"century"),"century")}}let De=ob[q],Je=!z.inRange(new Date,_,T,q),Ht=q+"_"+z[q](ne);const Q=rt||!z.inRange(Ie("LEFT"),_,T,q),nr=rt||!z.inRange(Ie("RIGHT"),_,T,q);return S.createElement(ds,kp({},H,{role:"group",ref:Pe,focused:se,disabled:o,readOnly:a,tabIndex:s,className:ge(l,"rw-calendar",r&&"rw-calendar-contained")}),S.createElement(bO,{label:qe(),labelId:L,localizer:ae,upDisabled:rt||q===tb(i),prevDisabled:Q,todayDisabled:rt||Je,nextDisabled:nr,onViewChange:ct,onMoveLeft:Kt,onMoveRight:je,onMoveToday:hn}),S.createElement(gi.Transition,{direction:B,onTransitionEnd:le},S.createElement(De,{key:Ht,min:_,max:T,id:R,value:V,localizer:ae,disabled:rt,focusedItem:ne,onChange:Ue,onKeyDown:F,"aria-labelledby":L,renderDay:x})))}function Op(e){return e&&!isNaN(e.getTime())?e:null}gi.displayName="Calendar";gi.propTypes=ub;gi.Transition=hy;gi.move=(e,t,n,r,i)=>{let s=r==="month",o=i==="UP"||i==="DOWN",a=r&&ga[r],l=s&&o?"week":ga[r],u=s||!o?1:4,c;return(i==="UP"||i==="LEFT")&&(u*=-1),c=z.add(e,u,l),z.inRange(c,t,n,a)?c:e};const db=["className","disabled","readOnly","value","tabIndex","type","component"];function Vp(){return Vp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vp.apply(this,arguments)}function fb(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const Al=S.forwardRef((e,t)=>{let{className:n,disabled:r,readOnly:i,value:s,tabIndex:o,type:a="text",component:l="input"}=e,u=fb(e,db);return S.createElement(l,Vp({},u,{ref:t,type:a,tabIndex:o||0,autoComplete:"off",disabled:r,readOnly:i,"aria-disabled":r,"aria-readonly":i,value:s??"",className:ge(n,"rw-input")}))});Al.displayName="Input";Al.propTypes={disabled:E.bool,readOnly:E.bool,value:E.string,type:E.string,tabIndex:E.number,component:E.any};var hb=Function.prototype.bind.call(Function.prototype.call,[].slice);function HI(e,t){return hb(e.querySelectorAll(t))}const po=S.createContext(null),e0={behavior:"stop"};function qI(e){const t=g.useContext(po),n=g.useRef(null),r=g.useRef(null);g.useLayoutEffect(()=>()=>{t==null||t.map.delete(r.current)},[]),g.useLayoutEffect(()=>{n.current!==r.current&&(t==null||t.map.delete(n.current)),n.current=r.current,r.current&&(t==null?void 0:t.map.get(r.current))!==e&&(t==null||t.map.set(r.current,e))});const i=e===(t==null?void 0:t.focusedItem);return[r,i,i?t==null?void 0:t.activeId:void 0]}const sl=({scope:e,anchorItem:t,focusFirstItem:n=!1,scopeSelector:r="",activeId:i})=>{const s=g.useMemo(()=>new WeakMap,[]),[o,a]=g.useState(),l=`${r} [data-rw-focusable]`.trim(),u=()=>{const d=HI(e.current,l);return[d,d.find(h=>h.dataset.rwFocused==="")]},c=g.useMemo(()=>({size(){const[d]=u();return d.length},get:u,toDataItem:d=>s.get(d),first(){const[[d]]=u();return d},focus(d){(!d||s.has(d))&&a(d?s.get(d):void 0)},last(){const[d]=u();return d[d.length-1]},next({behavior:d}=e0){const[h,y]=u();let _=h.indexOf(y)+1;return _>=h.length?d==="loop"?h[0]:d==="clear"?void 0:y:h[_]},prev({behavior:d}=e0){const[h,y]=u();let _=Math.max(0,h.indexOf(y))-1;return _<0?d==="loop"?h[h.length-1]:d==="clear"?void 0:y:h[_]}}),[]);g.useLayoutEffect(()=>{if(!t){c.focus(null);return}const d=u()[0].find(h=>c.toDataItem(h)===t);c.focus(d)},[t]),g.useLayoutEffect(()=>{if(!e.current)return;const[,d]=u(),h=d!=null;(!h&&n||h&&!e.current.contains(d))&&(n?c.focus(c.first()):c.focus(null))});const f=g.useMemo(()=>({map:s,focusedItem:o,activeId:i}),[o,i]);return c.context=f,c.getFocused=g.useCallback(()=>o,[o]),c.hasFocused=()=>o!==void 0,c},pb=["className","children","dataItem","selected","disabled","onSelect","searchTerm"];function bp(){return bp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bp.apply(this,arguments)}function mb(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const gb={activeId:E.string,dataItem:E.any,selected:E.bool.isRequired,onSelect:E.func.isRequired,component:E.any};function py(e){let{className:t,children:n,dataItem:r,selected:i,disabled:s,onSelect:o}=e,a=mb(e,pb);const[l,u,c]=qI(r),f=h=>{o&&!s&&o(r,h)};let d={"rw-state-focus":u,"rw-state-selected":i,"rw-state-disabled":s};return S.createElement("div",bp({id:c,ref:l,role:"option","data-rw-option":"","data-rw-focused":u?"":void 0,"data-rw-focusable":s?void 0:"",tabIndex:-1,"aria-selected":!!i,className:ge("rw-list-option",t,d),onClick:f},a),n)}py.propTypes=gb;const yb={className:E.string,component:E.string};function QI({children:e,className:t,component:n="div"}){let r=n;return S.createElement(r,{tabIndex:"-1",role:"separator",className:ge(t,"rw-list-optgroup")},e)}QI.propTypes=yb;const jf=ie.elementType;let fn=Object.assign((...e)=>ie.bool(...e),{acceptsArray:ie.oneOfType([ie.bool,ie.array])});const In=ie.oneOfType([ie.string,ie.func]),sn=ie.oneOfType([ie.node,ie.string,ie.func]);function vb(e,t,n){const r=Fd(),{isEqual:i,effectHook:s=g.useEffect}=typeof n=="function"?{isEqual:n}:n,o=g.useRef();o.current=t;const a=g.useRef(null);s(()=>{if(a.current===null){const l=e();a.current=()=>{r()&&i(o.current,t)||(a.current=null,l&&l())}}return a.current}),g.useDebugValue(e)}var t0=Object.prototype.hasOwnProperty;function n0(e,t,n){for(n of e.keys())if(ya(n,t))return n}function ya(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&ya(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=n0(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=n0(t,i),!i)||!ya(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(t0.call(e,n)&&++r&&!t0.call(t,n)||!(n in t)||!ya(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function _b(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Eb(e,t){let n=!0;const r=g.useRef();r.current?n=!!(t&&r.current.deps&&_b(t,r.current.deps)):r.current={deps:t,result:e()};const i=n?r.current:{deps:t,result:e()};return r.current=i,i.result}function wb(e){const t=g.useRef(e);return t.current=e,t}function GI(e){const t=wb(e);g.useEffect(()=>()=>t.current(),[])}function Tb(e,t){const n=g.useRef(!0),r=g.useRef();GI(()=>{r.current&&r.current()}),Eb(()=>{if(n.current){n.current=!1;return}r.current&&r.current(),r.current=e()},t)}function Ib([e,t],[n,r]){return e===n&&ya(t,r)}function Sb(e,t,n){const[r,i]=g.useState(null),s=vn(n||i);return vb(()=>{if(!e)return;const o=new MutationObserver(s);return o.observe(e,t),()=>{o.disconnect()}},[e,t],{isEqual:Ib,effectHook:Tb}),n?void 0:r||[]}function Cb(){return g.useState(null)}const r0=e=>!e||typeof e=="function"?e:t=>{e.current=t};function xb(e,t){const n=r0(e),r=r0(t);return i=>{n&&n(i),r&&r(i)}}function Pb(e,t){return g.useMemo(()=>xb(e,t),[e,t])}const Rb=["multiple","data","value","onChange","accessors","className","messages","disabled","renderItem","renderGroup","searchTerm","groupBy","elementRef","optionComponent","renderList"];function Ab(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const Db=["style","className","role","id","autocomplete","size","tabIndex","maxLength","name"],kb=[/^aria-/,/^data-/,/^on[A-Z]\w+/];function Nb(e){const t={};return Object.keys(e).forEach(n=>{(Db.indexOf(n)!==-1||kb.some(r=>!!n.match(r)))&&(t[n]=e[n])}),t}const Ob={data:E.array,dataKey:In,textField:In,onSelect:E.func,onMove:E.func,onHoverOption:E.func,optionComponent:E.elementType,renderItem:E.func,renderGroup:E.func,focusedItem:E.any,selectedItem:E.any,searchTerm:E.string,disabled:fn.acceptsArray,messages:E.shape({emptyList:E.func.isRequired})},Vb=(e,t=!1)=>{const n=g.useCallback(()=>{if(!e)return;let r=e.querySelector("[data-rw-focused]");r&&r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"})},[e]);return Sb(t?e:null,{subtree:!0,attributes:!0,attributeFilter:["data-rw-focused"]},n),n};function YI(e,t,n){return(r,i)=>{if(e===!1){n(r,{dataItem:r,lastValue:t[0],originalEvent:i});return}const s=t.includes(r);n(s?t.filter(o=>o!==r):[...t,r],{dataItem:r,lastValue:t,action:s?"remove":"insert",originalEvent:i})}}const Do=S.forwardRef(function(t,n){var r;let{multiple:i=!1,data:s=[],value:o,onChange:a,accessors:l,className:u,messages:c,disabled:f,renderItem:d,renderGroup:h,searchTerm:y,groupBy:_,elementRef:T,optionComponent:m=py,renderList:p}=t,v=Ab(t,Rb);const I=At(),C=jI(o,i),x=g.useMemo(()=>_?aV(_,s):void 0,[s,_]),[D,N]=Cb(),H=sV(f),{emptyList:V}=cy(c),_e=Pb(N,T),ne=YI(i,C,a),ke=Vb(D,!0);let q=Nb(v);g.useImperativeHandle(n,()=>({scrollIntoView:ke}),[ke]);function re(R,L){const B=l.text(R),se=H.includes(R),fe=C.includes(R);return S.createElement(m,{dataItem:R,key:`item_${L}`,searchTerm:y,onSelect:ne,disabled:se,selected:fe},d?d({item:R,searchTerm:y,index:L,text:B,value:l.value(R),disabled:se}):B)}const ae=x?x.map(([R,L],B)=>S.createElement("div",{role:"group",key:`group_${B}`},S.createElement(QI,null,h?h({group:R}):R),L.map(re))):s.map(re),Pe=Object.assign({id:I,tabIndex:0,ref:_e},q,{"aria-multiselectable":!!i,className:ge(u,"rw-list"),role:(r=q.role)!=null?r:"listbox",children:S.Children.count(ae)?ae:S.createElement("div",{className:"rw-list-empty"},V())});return p?p(Pe):S.createElement("div",Pe)});Do.displayName="List";Do.propTypes=Ob;function bb(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function XI(e){return"window"in e&&e.window===e?e:bb(e)&&e.defaultView||!1}function Lb(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function JI(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function n(r,i){var s=XI(r);if(i===void 0)return s?s[e]:r[t];s?s.scrollTo(s[e],i):r[t]=i}return n}const Mb=JI("pageXOffset"),$b=JI("pageYOffset");function Fb(e){var t=fy(e),n={top:0,left:0,height:0,width:0},r=t&&t.documentElement;return!r||!Lb(r,e)||(e.getBoundingClientRect!==void 0&&(n=e.getBoundingClientRect()),n={top:n.top+$b(r)-(r.clientTop||0),left:n.left+Mb(r)-(r.clientLeft||0),width:n.width,height:n.height}),n}function jb(e,t){var n=XI(e);return n?n.innerHeight:t?e.clientHeight:Fb(e).height}const i0={disabled:!1},ZI=S.createContext(null);var Ub=function(t){return t.scrollTop},ta="unmounted",Ur="exited",Br="entering",Ts="entered",vc="exiting",Vr=function(e){PO(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Ur,s.appearStatus=Br):l=Ts:r.unmountOnExit||r.mountOnEnter?l=ta:l=Ur,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===ta?{status:Ur}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Br&&o!==Ts&&(s=Br):(o===Br||o===Ts)&&(s=vc)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Br){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Ql.findDOMNode(this);o&&Ub(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ur&&this.setState({status:ta})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Ql.findDOMNode(this),a],u=l[0],c=l[1],f=this.getTimeouts(),d=a?f.appear:f.enter;if(!i&&!o||i0.disabled){this.safeSetState({status:Ts},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Br},function(){s.props.onEntering(u,c),s.onTransitionEnd(d,function(){s.safeSetState({status:Ts},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Ql.findDOMNode(this);if(!s||i0.disabled){this.safeSetState({status:Ur},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:vc},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Ur},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Ql.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===ta)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=mI(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return S.createElement(ZI.Provider,{value:null},typeof o=="function"?o(i,a):S.cloneElement(S.Children.only(o),a))},t}(S.Component);Vr.contextType=ZI;Vr.propTypes={};function vs(){}Vr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:vs,onEntering:vs,onEntered:vs,onExit:vs,onExiting:vs,onExited:vs};Vr.UNMOUNTED=ta;Vr.EXITED=Ur;Vr.ENTERING=Br;Vr.ENTERED=Ts;Vr.EXITING=vc;const Bb=Vr,zb=["children","className","dropUp"];function _c(){return _c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_c.apply(this,arguments)}function Wb(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const Kb={[Br]:"rw-slide-transition-entering",[vc]:"rw-slide-transition-exiting",[Ur]:"rw-slide-transition-exited"};class eS extends S.Component{constructor(...t){super(...t),this.setContainerHeight=n=>{n.style.height=this.getHeight(n)+"px"},this.clearContainerHeight=n=>{n.style.height=""},this.handleEntered=n=>{this.clearContainerHeight(n),this.props.onEntered&&this.props.onEntered()},this.handleEntering=()=>{this.props.onEntering&&this.props.onEntering()},this.handleExit=n=>{this.setContainerHeight(n),this.props.onExit&&this.props.onExit()},this.handleExited=n=>{this.clearContainerHeight(n),this.props.onExited&&this.props.onExited()},this.handleTransitionEnd=(n,r)=>{BI(n.firstChild,r)}}getHeight(t){let n=t.firstChild,r=parseInt(Sp(n,"margin-top"),10)+parseInt(Sp(n,"margin-bottom"),10),i=t.style.display,s;return t.style.display="block",s=(jb(n)||0)+(isNaN(r)?0:r),t.style.display=i,s}render(){const t=this.props,{children:n,className:r,dropUp:i}=t,s=Wb(t,zb);return S.createElement(Bb,_c({},s,{appear:!0,in:this.props.in,onEnter:this.setContainerHeight,onEntering:this.handleEntering,onEntered:this.handleEntered,onExit:this.handleExit,onExited:this.handleExited,addEndListener:this.handleTransitionEnd,timeout:void 0}),(o,a)=>S.createElement("div",_c({},a,{className:ge(r,i&&"rw-dropup",Kb[o])}),S.cloneElement(n,{className:ge("rw-slide-transition",n.props.className)})))}}eS.propTypes={in:E.bool.isRequired,innerClassName:E.string,dropUp:E.bool,onExit:E.func,onExited:E.func,onEntering:E.func,onEntered:E.func};const Hb=["id","role","dropUp","className","children","open","transition"];function Lp(){return Lp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lp.apply(this,arguments)}function qb(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const Qb=S.memo(({children:e})=>e,(e,{shouldUpdate:t})=>!t),Dl=S.forwardRef((e,t)=>{let{id:n,role:r,dropUp:i,className:s,children:o,open:a=!1,transition:l=eS}=e,u=qb(e,Hb);const c=l;return S.createElement(c,Lp({},u,{in:a,dropUp:i,timeout:void 0,className:ge("rw-popup-container",s)}),S.createElement("div",{id:n,className:"rw-popup",ref:t,role:r},S.createElement(Qb,{shouldUpdate:a},o)))});Dl.displayName="Popup";const Gb=["className"];function Mp(){return Mp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mp.apply(this,arguments)}function Yb(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function tS(e){let{className:t}=e,n=Yb(e,Gb);return S.createElement(ly,Mp({},n,{className:ge(t,"rw-input-addon rw-picker-btn")}))}const Xb=["className"];function $p(){return $p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$p.apply(this,arguments)}function Jb(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Bd(e){let{className:t}=e,n=Jb(e,Xb);return S.createElement("div",$p({},n,{className:ge(t,"rw-widget-picker","rw-widget-container")}))}const Fp=(e,t)=>{e&&(e.removeAttribute("aria-activedescendant"),t&&e.setAttribute("aria-activedescendant",t))},nS=(e,t,n,r)=>{g.useEffect(()=>{Fp(e.current,n?t:"")},[e,t,n,...r])},mo=(e,t)=>typeof t=="function"?t(e):e==null?e:typeof t=="string"&&typeof e=="object"&&t in e?e[t]:e,rS=(e,t)=>{const n=mo(e,t);return n==null?"":String(n)};function Zb(e,t,n){return mo(e,n)===mo(t,n)}function jp(e,t,n){const r=mo(t,n);let i=-1;for(;++i<e.length;){const s=e[i];if(s===t||mo(s,n)===r)return i}return-1}function e4(e,t,n){const r=jp(e,t,n);return r!==-1?e[r]:t}const zd=(e,t)=>g.useMemo(()=>({text:n=>rS(n,e),value:n=>mo(n,t),indexOf:(n,r)=>jp(n,r,t),matches:(n,r)=>Zb(n,r,t),findOrSelf:(n,r)=>e4(n,r,t),includes:(n,r)=>jp(n,r,t)!==-1}),[e,t]),iS={eq:(e,t)=>e===t,contains:(e,t)=>e.indexOf(t)!==-1,startsWith:(e,t)=>e.lastIndexOf(t,0)===0};function t4(e,t){if(e===!1)return null;if(typeof e=="function")return e;const n=iS[e===!0?"startsWith":e||"eq"];return(r,i)=>{let s=rS(r,t);return n(s.toLowerCase(),i.toLowerCase())}}function my(e,t,n="",r){return g.useMemo(()=>{const i=t4(t,r);return!i||!n.trim()?e:e.filter((s,o)=>i(s,n,o))},[e,t,n,r])}function Wd(e,t){function n(){e||Ke(t,[!0])}function r(){e&&Ke(t,[!1])}function i(){e?r():n()}return i.open=n,i.close=r,i}const n4=["id","className","containerClassName","placeholder","autoFocus","textField","dataKey","autoSelectMatches","focusFirstItem","value","defaultValue","onChange","open","defaultOpen","onToggle","filter","busy","disabled","readOnly","selectIcon","hideCaret","hideEmptyPopup","busySpinner","dropUp","tabIndex","popupTransition","name","onSelect","onKeyDown","onBlur","onFocus","inputProps","listProps","popupProps","groupBy","renderListItem","renderListGroup","optionComponent","listComponent","popupComponent","data","messages"];function Ls(){return Ls=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ls.apply(this,arguments)}function r4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function i4(e,t,n){if(!t.trim())return-1;for(let r=0;r<e.length;r++)if(n(e[r]).toLowerCase()===t)return r;return-1}let s4={value:ie.any,onChange:ie.func,open:ie.bool,onToggle:ie.func,renderListItem:ie.func,listComponent:ie.elementType,renderListGroup:ie.func,groupBy:In,data:ie.array,dataKey:In,textField:In,name:ie.string,hideEmptyPopup:ie.bool,hideCaret:ie.bool,onSelect:ie.func,autoFocus:ie.bool,disabled:fn.acceptsArray,readOnly:fn,busy:ie.bool,selectIcon:ie.node,busySpinner:ie.node,dropUp:ie.bool,popupTransition:ie.elementType,placeholder:ie.string,containerClassName:ie.string,inputProps:ie.object,listProps:ie.object,messages:ie.shape({openCombobox:sn,emptyList:sn,emptyFilter:sn})};const ol=g.forwardRef(function(t,n){let{id:r,className:i,containerClassName:s,placeholder:o,autoFocus:a,textField:l,dataKey:u,autoSelectMatches:c,focusFirstItem:f=!1,value:d,defaultValue:h="",onChange:y,open:_,defaultOpen:T=!1,onToggle:m,filter:p=!0,busy:v,disabled:I,readOnly:C,selectIcon:x=$d,hideCaret:D,hideEmptyPopup:N,busySpinner:H,dropUp:V,tabIndex:_e,popupTransition:ne,name:ke,onSelect:q,onKeyDown:re,onBlur:ae,onFocus:Pe,inputProps:R,listProps:L,popupProps:B,groupBy:se,renderListItem:fe,renderListGroup:rt,optionComponent:ct,listComponent:Kt=Do,popupComponent:je=Dl,data:Ue=[],messages:hn}=t,F=r4(t,n4),[J,te]=Tn(d,h,y);const[le,Te]=Tn(_,T,m),Ie=g.useRef(null),qe=g.useRef(null),De=g.useRef(null),[Je,Ht]=g.useState(null),Q=g.useRef(!1),nr=At(r,"_input"),M=At(r,"_listbox"),ye=At(r,"_listbox_active_option"),oe=zd(l,u),Re=cy(hn),dt=Wd(le,Te),pn=I===!0,tt=!!C,qt=my(Ue,p,Q.current?oe.text(J):void 0,oe.text),ft=g.useMemo(()=>qt[oe.indexOf(qt,J)],[qt,J,oe]),j=sl({activeId:ye,scope:Ie,focusFirstItem:f,anchorItem:le?ft:void 0}),[Ne,Oe]=Si(Ie,{disabled:pn,onBlur:ae,onFocus:Pe},{didHandle(ue){ue?Be({preventScroll:!0}):(Q.current=!1,dt.close(),Ht(null),j.focus(void 0))}});nS(Ie,ye,le,[j.getFocused()]);const Qt=ue=>{C||pn||(ue.preventDefault(),Be(),dt())},mn=(ue,We)=>{dt.close(),Q.current=!1,Ht(null),Ke(q,[ue,{originalEvent:We}]),rn(ue,We,!0),Be({preventScroll:!0})},Bn=({key:ue})=>{(ue==="Backspace"||ue==="Delete")&&j.focus(null)},An=ue=>{let We=c?i4(Ue,ue.target.value.toLowerCase(),oe.text):-1;Q.current=!0,Ht(null);const rr=We===-1?ue.target.value:Ue[We];rn(rr,ue),rr?dt.open():dt.close()},fs=ue=>{if(C)return;let{key:We,altKey:rr,shiftKey:ps}=ue;if(Ke(re,[ue]),ue.defaultPrevented)return;const Pi=gn=>gn!=null&&mn(gn,ue),Gt=gn=>{gn&&(Ht(j.toDataItem(gn)),j.focus(gn))};if(We==="End"&&le&&!ps)ue.preventDefault(),Gt(j.last());else if(We==="Home"&&le&&!ps)ue.preventDefault(),Gt(j.first());else if(We==="Escape"&&le)ue.preventDefault(),Ht(null),dt.close();else if(We==="Enter"&&le)ue.preventDefault(),Pi(j.getFocused());else if(We==="ArrowDown")if(ue.preventDefault(),le)Gt(j.next());else return dt.open();else if(We==="ArrowUp"){if(ue.preventDefault(),rr)return dt.close();le&&Gt(j.prev())}};function Be(ue){qe.current&&qe.current.focus(ue)}function rn(ue,We,rr=!1){te(ue,{lastValue:J,originalEvent:We,source:rr?"listbox":"input"})}g.useImperativeHandle(n,()=>({focus:Be}));let hs=Ud(Oe,le),Ci=oe.findOrSelf(qt,J),yt=oe.text(Je||Ci),ze=p?"list":"none",zn=le&&(!N||!!qt.length),xi=(R==null?void 0:R.readOnly)!=null?R==null?void 0:R.readOnly:C,br=!1;return D?v&&(br=g.createElement("span",{"aria-hidden":"true",className:"rw-btn rw-picker-caret"},H||ay)):br=g.createElement(tS,{busy:v,icon:x,spinner:H,onClick:Qt,disabled:!!pn||tt,label:Re.openCombobox()}),g.createElement(ds,Ls({},F,{ref:Ie,open:le,dropUp:V,focused:Oe,disabled:pn,readOnly:tt},Ne,{onKeyDown:fs,className:ge(i,"rw-combobox")}),g.createElement(Bd,{className:ge(s,D&&"rw-widget-input",D&&!v&&"rw-hide-caret")},g.createElement(Al,Ls({},R,{role:"combobox",name:ke,id:nr,className:ge(R&&R.className,"rw-combobox-input",!D&&"rw-widget-input"),autoFocus:a,tabIndex:_e,disabled:pn,readOnly:xi,"aria-busy":!!v,"aria-owns":M,"aria-autocomplete":ze,"aria-expanded":le,"aria-haspopup":!0,placeholder:o,value:yt,onChange:An,onKeyDown:Bn,ref:qe})),br),g.createElement(po.Provider,{value:j.context},hs&&g.createElement(je,Ls({},B,{dropUp:V,open:zn,transition:ne,onEntering:()=>De.current.scrollIntoView()}),g.createElement(Kt,Ls({},L,{id:M,tabIndex:-1,data:qt,groupBy:se,disabled:I,accessors:oe,renderItem:fe,renderGroup:rt,optionComponent:ct,value:ft,searchTerm:Ci&&oe.text(Ci)||"","aria-hidden":!zn,"aria-labelledby":nr,"aria-live":zn?"polite":void 0,onChange:(ue,We)=>mn(ue,We.originalEvent),ref:De,messages:{emptyList:Ue.length?Re.emptyFilter:Re.emptyList}})))))});ol.displayName="Combobox";ol.propTypes=s4;const o4=["value","formatter","editing","editFormat","displayFormat","localizer","parse","onChange","onBlur","disabled","readOnly"];function Up(){return Up=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Up.apply(this,arguments)}function a4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const sS=S.forwardRef((e,t)=>{let{value:n,formatter:r,editing:i,editFormat:s,displayFormat:o,localizer:a,parse:l,onChange:u,onBlur:c,disabled:f,readOnly:d}=e,h=a4(e,o4);const y=g.useRef(!1),_=g.useMemo(()=>n instanceof Date&&l4(n)?a.formatDate(n,r,i?s:o):"",[n,r,a,o,i,s]),[T,m]=g.useState(_),[p,v]=g.useState(_);T!==_&&(m(_),v(_));const I=x=>{if(c&&c(x),y.current){let D=l(x.target.value);x.target.value!=""&&ea(D)&&v(""),y.current=!1,m(null),u(D,x.target.value)}},C=({target:x})=>{y.current=!0,v(x.value)};return S.createElement(Al,Up({},h,{type:"text",ref:t,className:"rw-widget-input",value:p,disabled:f,readOnly:d,onChange:C,onBlur:I}))});sS.displayName="DatePickerInput";function l4(e){return!isNaN(e.getTime())}const u4=["value","valueText","pad","placeholder","min","max","emptyChar"];function Bp(){return Bp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bp.apply(this,arguments)}function c4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const d4=(e,t,n)=>{let r=String(e??"");for(;r.length<t;)r=n+r;return r},su=S.forwardRef((e,t)=>{let{value:n,valueText:r=String(n??""),pad:i,placeholder:s,min:o,max:a,emptyChar:l}=e,u=c4(e,u4);return S.createElement("input",Bp({},u,{ref:t,"data-focusable":!0,autoComplete:"off",role:"spinbutton","aria-valuenow":n??void 0,"aria-valuemin":o,"aria-valuemax":a,"aria-valuetext":r,"aria-disabled":u.disabled||u.readOnly,"arai-placeholder":s,placeholder:s,className:"rw-time-part-input",value:s&&!n?"":d4(n,i||0,n==null?l:"0")}))}),f4=["value","use12HourClock","padValues","emptyCharacter","precision","noClearButton","hoursAddon","minutesAddon","secondsAddon","millisecondsAddon","className","disabled","readOnly","datePart","onChange","onBlur","onFocus"];function zp(){return zp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zp.apply(this,arguments)}function h4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const p4=e=>{if(e instanceof HTMLInputElement)return e.select();const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n&&(n.removeAllRanges(),n.addRange(t))},s0=(e,t)=>e.hours==null&&e.minutes==null&&(t!="seconds"&&t!=="milliseconds"||e.seconds==null)&&(t!=="milliseconds"||e.milliseconds==null),m4=(e,t)=>e.hours==null||e.minutes==null||(t==="seconds"||t==="milliseconds")&&e.seconds==null||t==="milliseconds"&&e.milliseconds==null,Wp=(e,t)=>{let n,r,i,s,o="AM";return e&&(n=e.getHours(),t&&(o=n<12?"AM":"PM",n=n%12||12),r=e.getMinutes(),i=e.getSeconds(),s=e.getMilliseconds()),{hours:n,minutes:r,seconds:i,milliseconds:s,meridiem:o}},g4={hours:/^([1]?[0-9]|2[0-3])$/,hours12:/^(1[0-2]|0?[1-9])$/,minutes:/^([0-5]?\d)$/,seconds:/^([0-5]?\d)$/,milliseconds:/^(\d{1,3})$/},y4={hours:/^([3-9]|\d{2})$/,hours12:/^(\d{2}|[2-9])$/,minutes:/^(d{2}|[6-9])$/,seconds:/^(d{2}|[6-9])$/,milliseconds:/^(\d{3})$/};function oS(e,t,n,r){return r[t==="hours"&&n?"hours12":t].test(e)}const Uf=(e,t,n)=>oS(e,t,n,g4),v4=(e,t,n)=>oS(e,t,n,y4),_4={value:E.instanceOf(Date),onChange:E.func,datePart:E.instanceOf(Date),use12HourClock:E.bool,padValues:E.bool,emptyCharacter:E.string,noClearButton:E.bool,disabled:E.bool,readOnly:E.bool,precision:E.oneOf(["minutes","seconds","milliseconds"]).isRequired,hoursAddon:E.node,minutesAddon:E.node,secondsAddon:E.node,millisecondsAddon:E.node},E4={hoursAddon:":",padValues:!0,precision:"minutes",emptyCharacter:"-"};function w4(e,t){const[n,r]=g.useState(()=>({value:e,use12HourClock:t,timeParts:Wp(e,t)})),i=g.useCallback(s=>r(o=>Object.assign({},o,{timeParts:s})),[r]);return(n.value!==e||n.use12HourClock!==t)&&r({value:e,use12HourClock:t,timeParts:Wp(e,t)}),[n.timeParts,i]}function gy(e){const t=PI(e,{value:"onChange"}),{value:n,use12HourClock:r,padValues:i,emptyCharacter:s,precision:o,noClearButton:a,hoursAddon:l,minutesAddon:u,secondsAddon:c,millisecondsAddon:f,className:d,disabled:h,readOnly:y,datePart:_,onChange:T,onBlur:m,onFocus:p}=t,v=h4(t,f4);let I=u!==void 0?u:o==="seconds"||o==="milliseconds"?":":"",C=c!==void 0?c:o==="milliseconds"?":":"";const x=g.useRef(null),D=g.useRef(null),[N,H]=Si(x,{disabled:h,onBlur:m,onFocus:p},{didHandle:(F,J)=>{var te;F&&(J.target.dataset.focusable?re(J.target):(te=D.current)==null||te.focus())}}),[V,_e]=w4(n??null,r??!1);function ne(){return z.startOf(_||new Date,"day")}const ke=F=>F==="hours"?1:0,q=F=>F==="hours"?r?12:23:F==="milliseconds"?999:59;function re(F=document.activeElement){window.Promise.resolve().then(()=>{H&&p4(F)})}const ae=()=>{var F;(F=D.current)==null||F.focus(),n?T(null):_e(Wp(null))},Pe=(F,J)=>{const te=V[F],{target:le}=J,Te=le.value;let Ie=`${te||""}${Te}`,qe=+Ie;if(isNaN(qe)||Ie&&!Uf(Ie,F,r??!1))if(Uf(Te,F,r??!1)&&!isNaN(+Te))Ie=Te,qe=+Te;else return J.preventDefault();const De=le.value?qe:null;se({[F]:De}),De!=null&&v4(Ie,F,r??!1)?fe(J.currentTarget,1):re(le)},R=({target:F})=>{re(F)},L=(F,J)=>{const{key:te}=J,le=J.currentTarget,{selectionStart:Te,selectionEnd:Ie}=le,qe=getComputedStyle(le).getPropertyValue("direction")==="rtl",De=F==="meridiem",Je=te===(qe?"ArrowLeft":"ArrowRight"),Ht=te===(qe?"ArrowRight":"ArrowLeft");te==="ArrowUp"&&(J.preventDefault(),B(F,1)),te==="ArrowDown"&&(J.preventDefault(),B(F,-1)),Ht&&(De||Te-1<0)&&(J.preventDefault(),fe(le,-1)),Je&&(De||le.value.length<=Ie+1)&&(J.preventDefault(),fe(le,1)),y&&te!=="Tab"&&J.preventDefault(),De&&((te==="a"||te==="A")&&se({meridiem:"AM"}),(te==="p"||te==="P")&&se({meridiem:"PM"}))},B=(F,J)=>{let te=V[F];if(F==="meridiem")te=te==="AM"?"PM":"AM";else if(te=(te||0)+J,!Uf(String(te),F,r??!1))return;se({[F]:te}),re()};function se(F){const J=Object.assign({},V,F);if(n&&s0(J,o))return T(null);if(m4(J,o))return _e(J);let{hours:te,minutes:le,seconds:Te,milliseconds:Ie,meridiem:qe}=J,De=new Date(n||ne());r&&(te===12&&(te=0),te+=qe==="PM"?12:0),De.setHours(te),De.setMinutes(le),Te!=null&&De.setSeconds(Te),Ie!=null&&De.setMilliseconds(Ie),T(De,{lastValue:n,timeParts:V})}function fe(F,J){let te=HI(x.current,"* [data-focusable]"),le=te[te.indexOf(F)+J];le==null||le.focus(),re(le)}const{hours:rt,minutes:ct,seconds:Kt,milliseconds:je,meridiem:Ue}=V,hn=!s0(V,o);return S.createElement(ds,zp({},v,{role:"group",ref:x},N,{focused:H,disabled:h,readOnly:y,className:ge(d,"rw-time-input rw-widget-input")}),S.createElement(su,{size:2,pad:i?2:void 0,value:rt,disabled:h,readOnly:y,"aria-label":"hours",min:ke("hours"),max:q("hours"),ref:D,emptyChar:s,onSelect:R,onChange:F=>Pe("hours",F),onKeyDown:F=>L("hours",F)}),l&&S.createElement("span",null,l),S.createElement(su,{size:2,pad:i?2:void 0,value:ct,disabled:h,readOnly:y,"aria-label":"minutes",min:ke("minutes"),max:q("minutes"),emptyChar:s,onSelect:R,onChange:F=>Pe("minutes",F),onKeyDown:F=>L("minutes",F)}),I&&S.createElement("span",null,I),(o==="seconds"||o==="milliseconds")&&S.createElement(S.Fragment,null,S.createElement(su,{size:2,pad:i?2:void 0,value:Kt,disabled:h,readOnly:y,"aria-label":"seconds",min:ke("seconds"),max:q("seconds"),emptyChar:s,onSelect:R,onChange:F=>Pe("seconds",F),onKeyDown:F=>L("seconds",F)}),C&&S.createElement("span",null,C)),o==="milliseconds"&&S.createElement(S.Fragment,null,S.createElement(su,{size:3,pad:i?3:void 0,value:je,disabled:h,readOnly:y,"aria-label":"milliseconds",min:ke("milliseconds"),max:q("milliseconds"),emptyChar:s,onSelect:R,onChange:F=>Pe("milliseconds",F),onKeyDown:F=>L("milliseconds",F)}),f&&S.createElement("span",null,f)),r&&S.createElement("div",{role:"listbox","aria-label":"AM/PM","aria-disabled":h,"aria-readonly":y,className:"rw-time-part-meridiem"},S.createElement("div",{"data-focusable":!0,role:"option","aria-atomic":!0,"aria-selected":!0,"aria-setsize":2,"aria-live":"assertive","aria-disabled":h,"aria-readonly":y,"aria-posinset":Ue==="AM"?1:2,tabIndex:h?void 0:0,onFocus:R,onSelect:R,onKeyDown:F=>L("meridiem",F)},S.createElement("abbr",null,Ue))),!a&&S.createElement(ly,{label:"clear input",onClick:ae,disabled:h||y,className:ge("rw-time-input-clear",hn&&"rw-show")},RI))}gy.propTypes=_4;gy.defaultProps=E4;const T4=["input","textarea","select",'button:not([tabindex="-1"])','[tabindex="0"]'].join(","),I4=()=>document;function S4(e,t=T4){const n=g.useRef(!1);return zI(I4,"keydown",r=>{if(!n.current||!e.current||r.key!=="Tab")return;const i=e.current.querySelectorAll(t);r.shiftKey&&r.target===i[0]?(i[i.length-1].focus(),r.preventDefault()):(!r.shiftKey&&r.target===i[i.length-1]||!e.current.contains(r.target))&&(i[0].focus(),r.preventDefault())}),g.useMemo(()=>({focus(){const i=e.current.querySelectorAll(t)[0];i&&i.focus()},start(){n.current=!0},stop(){n.current=!1}}),[e,t])}const C4=["id","value","onChange","onSelect","onToggle","onKeyDown","onKeyPress","onCurrentDateChange","inputProps","calendarProps","timeInputProps","popupProps","autoFocus","tabIndex","disabled","readOnly","className","valueFormat","valueDisplayFormat","valueEditFormat","containerClassName","name","selectIcon","placeholder","includeTime","min","max","open","dropUp","parse","messages","formats","currentDate","popupTransition","popupComponent","timePrecision","aria-labelledby","aria-describedby"];function Ni(){return Ni=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ni.apply(this,arguments)}function x4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}let P4={value:E.instanceOf(Date),onChange:E.func,open:E.bool,onToggle:E.func,currentDate:E.instanceOf(Date),onCurrentDateChange:E.func,onSelect:E.func,min:E.instanceOf(Date),max:E.instanceOf(Date),valueFormat:E.any,valueDisplayFormat:E.any,valueEditFormat:E.any,includeTime:E.bool,timePrecision:E.oneOf(["minutes","seconds","milliseconds"]),timeInputProps:E.object,selectIcon:E.node,dropUp:E.bool,popupTransition:E.elementType,placeholder:E.string,name:E.string,autoFocus:E.bool,disabled:E.bool,readOnly:E.bool,parse:E.oneOfType([E.any,E.func]),tabIndex:E.any,"aria-labelledby":E.string,"aria-describedby":E.string,localizer:E.any,onKeyDown:E.func,onKeyPress:E.func,onBlur:E.func,onFocus:E.func,containerClassName:E.string,calendarProps:E.object,inputProps:E.object,messages:E.shape({dateButton:E.string})};const R4=Object.assign({},gi.defaultProps,{min:new Date(1900,0,1),max:new Date(2099,11,31),selectIcon:DO,formats:{}}),Kd=S.forwardRef((e,t)=>{const n=PI(e,{open:"onToggle",value:"onChange",currentDate:"onCurrentDateChange"}),{id:r,value:i,onChange:s,onSelect:o,onToggle:a,onKeyDown:l,onKeyPress:u,onCurrentDateChange:c,inputProps:f,calendarProps:d,timeInputProps:h,popupProps:y,autoFocus:_,tabIndex:T,disabled:m,readOnly:p,className:v,valueFormat:I,valueDisplayFormat:C=I,valueEditFormat:x=I,containerClassName:D,name:N,selectIcon:H,placeholder:V,includeTime:_e=!1,min:ne,max:ke,open:q,dropUp:re,parse:ae,messages:Pe,formats:R,currentDate:L,popupTransition:B,popupComponent:se=Dl,timePrecision:fe,"aria-labelledby":rt,"aria-describedby":ct}=n,Kt=x4(n,C4),je=dy(Pe,R),Ue=g.useRef(null),hn=g.useRef(null),F=S4(hn),J=At(r,"_input"),te=At(r,"_date"),le=_e?"datetime":"date",Te=Wd(q,a),[Ie,qe]=Si(Ue,e,{didHandle(j){j?q&&F.focus():(Te.close(),F.stop())}}),De=g.useCallback(j=>{var Ne,Oe;if(typeof ae=="function"){var Qt;return(Qt=ae(j,je))!=null?Qt:null}return(Ne=je.parseDate(j,(Oe=ae??x)!=null?Oe:C))!=null?Ne:null},[je,ae,C,x]),Je=vn((j,Ne,Oe)=>{p||m||(Oe&&(j=pn(j)),s&&(j==null||i==null?j!=i&&s(j,Ne):z.eq(j,i)||s(j,Ne)))}),Ht=vn(j=>{p||(Ke(l,[j]),!j.defaultPrevented&&(j.key==="Escape"&&q?Te.close():j.altKey&&(j.key==="ArrowDown"?(j.preventDefault(),Te.open()):j.key==="ArrowUp"&&(j.preventDefault(),Te.close()))))}),Q=vn(j=>{Ke(u,[j]),j.defaultPrevented}),nr=vn(j=>{var Ne;let Oe=z.merge(j,i,L),Qt=tt(j);_e||Te.close(),Ke(o,[Oe,Qt]),Je(Oe,Qt,!0),(Ne=Ue.current)==null||Ne.focus()}),M=vn(j=>{Je(j,tt(j),!0)}),ye=vn(j=>{p||m||(j.preventDefault(),Te())}),oe=()=>{F.start(),requestAnimationFrame(()=>{F.focus()})},Re=()=>{F.stop(),qe&&dt()};function dt(){var j,Ne;q?(j=hn.current)==null||j.focus():(Ne=Ue.current)==null||Ne.focus()}function pn(j){return j==null?j:z.max(z.min(j,ke),ne)}function tt(j){return j instanceof Date&&!isNaN(j.getTime())?je.formatDate(j,le):""}g.useImperativeHandle(t,()=>({focus:dt}));let qt=Ud(qe,q);const ft=(f==null?void 0:f.readOnly)!=null?f==null?void 0:f.readOnly:p;return S.createElement(ds,Ni({},Kt,{defaultValue:void 0,open:!!q,dropUp:re,focused:qe,disabled:m,readOnly:p,onKeyDown:Ht,onKeyPress:Q},Ie,{className:ge(v,"rw-date-picker")}),S.createElement(Bd,{className:D},S.createElement(sS,Ni({},f,{id:J,ref:Ue,role:"combobox",name:N,value:i,tabIndex:T,autoFocus:_,placeholder:V,disabled:m,readOnly:ft,formatter:le,displayFormat:C,editFormat:x,editing:qe,localizer:je,parse:De,onChange:Je,"aria-haspopup":!0,"aria-labelledby":rt,"aria-describedby":ct,"aria-expanded":!!q,"aria-owns":te})),S.createElement(tS,{icon:H,label:je.messages.dateButton(),disabled:m||p,onClick:ye})),!!qt&&S.createElement(se,Ni({},y,{dropUp:re,open:q,role:"dialog",ref:hn,id:te,className:"rw-calendar-popup",transition:B,onEntering:oe,onExited:Re}),S.createElement(gi,Ni({min:ne,max:ke,bordered:!1},d,{messages:Object.assign({},Pe,d==null?void 0:d.messages),tabIndex:-1,value:i,autoFocus:!1,onChange:nr,currentDate:L,onCurrentDateChange:c,"aria-hidden":!q,"aria-live":"polite","aria-labelledby":J})),_e&&S.createElement(gy,Ni({},h,{value:i,precision:fe,onChange:M,datePart:L}))))});Kd.displayName="DatePicker";Kd.propTypes=P4;Kd.defaultProps=R4;const Kp=2**31-1;function aS(e,t,n){const r=n-Date.now();e.current=r<=Kp?setTimeout(t,r):setTimeout(()=>aS(e,t,n),Kp)}function A4(){const e=Fd(),t=g.useRef();return GI(()=>clearTimeout(t.current)),g.useMemo(()=>{const n=()=>clearTimeout(t.current);function r(i,s=0){e()&&(n(),s<=Kp?t.current=setTimeout(i,s):aS(t,i,Date.now()+s))}return{set:r,clear:n,handleRef:t}},[])}const D4=["children"];function Hp(){return Hp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hp.apply(this,arguments)}function k4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const yy={},N4={searchTerm:ie.string,focused:ie.bool,onSelect:ie.func.isRequired,activeId:ie.string};function vy(e){let{children:t}=e,n=k4(e,D4);return S.createElement(py,Hp({},n,{dataItem:yy,className:"rw-list-option-create",selected:!1}),t)}vy.propTypes=N4;const lS=S.forwardRef(function({name:e,autoComplete:t,value:n,allowSearch:r,placeholder:i,textAccessor:s,dataKeyAccessor:o,searchTerm:a,onSearch:l,onAutofill:u,onAutofillChange:c,renderValue:f,disabled:d,readOnly:h},y){const[_,T]=g.useState(!1),m=g.useRef(null),p=({animationName:H})=>{let V;if(H==="react-widgets-autofill-start")V=!0;else if(H==="react-widgets-autofill-cancel")V=!1;else return;T(V),u(V)},v=H=>{T(!1),c(H)};let I=o(n),C=n==null?"":s(n),x=String(I??"");x===String({})&&(x="");const D=!n&&i?S.createElement("span",{className:"rw-placeholder"},i):f?f({item:n,dataKey:I,text:C}):C;g.useImperativeHandle(y,()=>({focus(){m.current&&m.current.focus()}}));const N=_?{display:"none"}:void 0;return S.createElement("div",{className:"rw-dropdown-list-input"},t!=="off"&&S.createElement("input",{name:e,tabIndex:-1,disabled:d,readOnly:h,value:x??"",autoComplete:t,onChange:v,onAnimationStart:p,"aria-hidden":!_,className:ge("rw-detect-autofill",!_&&"rw-sr")}),S.createElement(S.Fragment,null,r&&S.createElement("input",{ref:m,disabled:d,readOnly:h,style:N,className:"rw-dropdownlist-search",autoComplete:"off",value:a||"",size:(a||"").length+2,onChange:l}),!a&&S.createElement("span",{className:"rw-dropdown-list-value",style:N},D)))});lS.displayName="DropdownListInput";function uS(e,{searchTerm:t="",data:n,dataItems:r,accessors:i}){const s=a=>i.text(a).toLowerCase()===t.toLowerCase();return!!((e===!0||e==="onFilter"&&t)&&!(r&&r.some(s)||n.some(s)))}const O4=["className","busy","visible","icon","spinner"];function qp(){return qp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qp.apply(this,arguments)}function V4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const cS=e=>{let{className:t,busy:n,visible:r,icon:i=$d,spinner:s=ay}=e,o=V4(e,O4);return g.createElement("span",qp({},o,{"aria-hidden":"true",className:ge(t,"rw-btn rw-picker-caret")}),n?s:r?i:null)},b4=["id","autoFocus","textField","dataKey","value","defaultValue","onChange","open","defaultOpen","onToggle","searchTerm","defaultSearchTerm","onSearch","filter","allowCreate","delay","focusFirstItem","className","containerClassName","placeholder","busy","disabled","readOnly","selectIcon","busySpinner","dropUp","tabIndex","popupTransition","name","autoComplete","onSelect","onCreate","onKeyPress","onKeyDown","onClick","inputProps","listProps","popupProps","renderListItem","renderListGroup","optionComponent","renderValue","groupBy","onBlur","onFocus","listComponent","popupComponent","data","messages"];function Ms(){return Ms=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ms.apply(this,arguments)}function L4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const M4={value:E.any,onChange:E.func,open:E.bool,onToggle:E.func,data:E.array,dataKey:In,textField:In,allowCreate:E.oneOf([!0,!1,"onFilter"]),renderValue:E.func,renderListItem:E.func,listComponent:jf,optionComponent:jf,renderPopup:E.func,renderListGroup:E.func,groupBy:In,onSelect:E.func,onCreate:E.func,onSearch:E.func,searchTerm:E.string,busy:E.bool,selectIcon:E.node,busySpinner:E.node,placeholder:E.string,dropUp:E.bool,popupTransition:jf,disabled:fn.acceptsArray,readOnly:fn,containerClassName:E.string,inputProps:E.object,listProps:E.object,messages:E.shape({open:E.string,emptyList:sn,emptyFilter:sn,createOption:sn})};function $4(e){const t=A4(),n=g.useRef("");function r(i,s){let o=(n.current+i).toLowerCase();i&&(n.current=o,t.set(()=>{n.current="",s(o)},e))}return r}const dS=S.forwardRef(function(t,n){let{id:r,autoFocus:i,textField:s,dataKey:o,value:a,defaultValue:l,onChange:u,open:c,defaultOpen:f=!1,onToggle:d,searchTerm:h,defaultSearchTerm:y="",onSearch:_,filter:T=!0,allowCreate:m=!1,delay:p=500,focusFirstItem:v,className:I,containerClassName:C,placeholder:x,busy:D,disabled:N,readOnly:H,selectIcon:V=$d,busySpinner:_e,dropUp:ne,tabIndex:ke,popupTransition:q,name:re,autoComplete:ae,onSelect:Pe,onCreate:R,onKeyPress:L,onKeyDown:B,onClick:se,inputProps:fe,listProps:rt,popupProps:ct,renderListItem:Kt,renderListGroup:je,optionComponent:Ue,renderValue:hn,groupBy:F,onBlur:J,onFocus:te,listComponent:le=Do,popupComponent:Te=Dl,data:Ie=[],messages:qe}=t,De=L4(t,b4);const[Je,Ht]=Tn(a,l,u),[Q,nr]=Tn(c,f,d),[M,ye]=Tn(h,y,_),oe=g.useRef(null),Re=g.useRef(null),dt=g.useRef(null),pn=At(r,"_input"),tt=At(r,"_listbox"),qt=At(r,"_listbox_active_option"),ft=zd(s,o),j=dy(qe);KI(!!i,oe);const Ne=Wd(Q,nr),Oe=N===!0,Qt=!!H,[mn,Bn]=Si(oe,{disabled:Oe,onBlur:J,onFocus:te},{didHandle(G){if(G){T&&Gt();return}Ne.close(),gn()}}),An=my(Ie,Q?T:!1,M,ft.text),fs=g.useMemo(()=>An[ft.indexOf(An,Je)],[An,Je,ft]),Be=sl({activeId:qt,scope:oe,focusFirstItem:v,anchorItem:Q?fs:void 0}),[rn,hs]=g.useState(!1),Ci=$4(p),yt=Be.getFocused();nS(oe,qt,yt&&Q,[yt]);const ze=uS(m,{searchTerm:M,data:An,accessors:ft}),zn=G=>{Ke(R,[M]),gn(G),Ne.close(),Gt()},xi=(G,Ee)=>{if(!(H||Oe)&&G!==void 0){if(Ee==null||Ee.preventDefault(),G===yy){zn(Ee);return}Ke(Pe,[G,{originalEvent:Ee}]),Pi(G,Ee,!0),Ne.close(),Gt()}},br=G=>{H||Oe||(G.preventDefault(),Gt(),Ne(),Ke(se,[G]))},ue=G=>{if(H||Oe)return;let{key:Ee,altKey:ht,ctrlKey:Lr,shiftKey:ms}=G;Ke(B,[G]);let gr=()=>{gn(),Ne.close(),Q&&setTimeout(Gt)};if(!G.defaultPrevented){if(Ee==="End"&&Q&&!ms)G.preventDefault(),Be.focus(Be.last());else if(Ee==="Home"&&Q&&!ms)G.preventDefault(),Be.focus(Be.first());else if(Ee==="Escape"&&(Q||M))G.preventDefault(),gr();else if(Ee==="Enter"&&Q&&Lr&&ze)G.preventDefault(),zn(G);else if((Ee==="Enter"||Ee===" "&&!T)&&Q)G.preventDefault(),Be.hasFocused()&&xi(Be.getFocused(),G);else if(Ee==="ArrowDown"){if(G.preventDefault(),!Q){Ne.open();return}Be.focus(Be.next())}else if(Ee==="ArrowUp"){if(G.preventDefault(),ht)return gr();Be.focus(Be.prev())}}},We=G=>{H||Oe||(Ke(L,[G]),!(G.defaultPrevented||T)&&Ci(String.fromCharCode(G.which),Ee=>{if(!Q)return;let ht=Ri=>iS.startsWith(ft.text(Ri).toLowerCase(),Ee.toLowerCase());const[Lr,ms]=Be.get(),gr=Lr.length,W=Lr.indexOf(ms)+1,we=W>=gr?0:W;let Wn=0,Dn=we;for(;Wn<gr;){Dn=(Wn+we)%gr;let Ri=Lr[Dn];if(ht(Be.toDataItem(Ri)))break;Wn++}Wn!==gr&&Be.focus(Lr[Dn])}))},rr=G=>{!Q&&!G.target.value.trim()?G.preventDefault():ko(G.target.value,G,"input"),Ne.open()},ps=G=>{let Ee=G.target.value.toLowerCase();if(Ee==="")return void Pi(null);for(const ht of Ie)if(String(ft.value(ht)).toLowerCase()===Ee||ft.text(ht).toLowerCase()===Ee){Pi(ht,G);break}};function Pi(G,Ee,ht=!1){ft.matches(G,Je)||(Ke(Ht,[G,{originalEvent:Ee,source:ht?"listbox":"input",lastValue:Je,searchTerm:M}]),gn(Ee),Ne.close())}function Gt(){T?Re.current.focus():oe.current.focus()}function gn(G){ko("",G,"clear")}function ko(G,Ee,ht="input"){M!==G&&ye(G,{action:ht,originalEvent:Ee,lastSearchTerm:M})}g.useImperativeHandle(n,()=>({focus:Gt}));let No=ft.findOrSelf(An,Je),Hd=Ud(Bn,Q);const Oo=Object.assign({},De,{role:"combobox",id:pn,tabIndex:T?-1:ke||0,"aria-owns":De["aria-owns"]?`${tt} ${De["aria-owns"]}`:tt,"aria-controls":De["aria-controls"]?`${tt} ${De["aria-controls"]}`:tt,"aria-expanded":!!Q,"aria-haspopup":"listbox","aria-busy":!!D,"aria-live":Q?"polite":void 0,"aria-autocomplete":"list","aria-disabled":Oe,"aria-readonly":Qt});return S.createElement(po.Provider,{value:Be.context},S.createElement(ds,Ms({},Oo,{open:!!Q,dropUp:!!ne,focused:!!Bn,disabled:Oe,readOnly:Qt,autofilling:rn},mn,{onKeyDown:ue,onKeyPress:We,className:ge(I,"rw-dropdown-list"),ref:oe}),S.createElement(Bd,{onClick:br,tabIndex:T?-1:0,className:ge(C,"rw-widget-input")},S.createElement(lS,Ms({},fe,{value:No,dataKeyAccessor:ft.value,textAccessor:ft.text,name:re,readOnly:H,disabled:Oe,allowSearch:!!T,searchTerm:M,ref:Re,autoComplete:ae,onSearch:rr,onAutofill:hs,onAutofillChange:ps,placeholder:x,renderValue:hn})),S.createElement(cS,{visible:!0,busy:D,icon:V,spinner:_e})),Hd&&S.createElement(Te,Ms({},ct,{dropUp:ne,open:Q,transition:q,onEntered:Gt,onEntering:()=>dt.current.scrollIntoView()}),S.createElement(le,Ms({},rt,{id:tt,data:An,tabIndex:-1,disabled:N,groupBy:F,searchTerm:M,accessors:ft,renderItem:Kt,renderGroup:je,optionComponent:Ue,value:fs,onChange:(G,Ee)=>xi(G,Ee.originalEvent),"aria-live":Q?"polite":void 0,"aria-labelledby":pn,"aria-hidden":!Q,ref:dt,messages:{emptyList:Ie.length?j.messages.emptyFilter:j.messages.emptyList}})),ze&&S.createElement(vy,{onSelect:zn},j.messages.createOption(Je,M||"")))))});dS.displayName="DropdownList";dS.propTypes=M4;const F4=["defaultValue","value","onChange","textField","dataKey","data","onKeyDown","disabled","readOnly","onBlur","onFocus","multiple"];function Qp(){return Qp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qp.apply(this,arguments)}function j4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const U4={data:E.array,dataKey:In,textField:In,onSelect:E.func,onMove:E.func,onHoverOption:E.func,optionComponent:E.elementType,renderItem:E.func,renderGroup:E.func,focusedItem:E.any,selectedItem:E.any,searchTerm:E.string,disabled:fn.acceptsArray,messages:E.shape({emptyList:E.func.isRequired})},fS=S.forwardRef(function(t,n){let{defaultValue:r,value:i,onChange:s,textField:o,dataKey:a,data:l,onKeyDown:u,disabled:c,readOnly:f,onBlur:d,onFocus:h,multiple:y}=t,_=j4(t,F4);const[T,m]=Tn(i,r,s),p=zd(o,a),v=g.useMemo(()=>jI(T,y).map(re=>p.findOrSelf(l,re)),[T,y,p,l]),I=g.useRef(null),C=g.useRef(v[v.length-1]),x=sl({scope:I,anchorItem:C.current}),D=c===!0,N=(re,ae)=>{D||f||(C.current=ae.dataItem,m(re,ae))},H=YI(!!y,v,N),[V,_e]=Si(I,{disabled:D,onBlur:d,onFocus:h},{didHandle(re){re?ne({preventScroll:!0}):x.focus(void 0)}});function ne(re){I.current&&I.current.focus(re)}const ke=re=>{if(D||f)return;let{key:ae,shiftKey:Pe}=re;Ke(u,[re]),!re.defaultPrevented&&(ae==="End"&&!Pe?(re.preventDefault(),x.focus(x.last())):ae==="Home"&&!Pe?(re.preventDefault(),x.focus(x.first())):ae==="Enter"||ae===" "?(re.preventDefault(),x.getFocused()&&H(x.getFocused(),re)):ae==="ArrowDown"?(re.preventDefault(),x.focus(x.next())):ae==="ArrowUp"&&(re.preventDefault(),x.focus(x.prev())))},q=WI({focused:_e,readOnly:f,disabled:D,className:ge(_.className,"rw-listbox rw-widget-input rw-widget")});return S.createElement(po.Provider,{value:x.context},S.createElement(Do,Qp({},_,q,{disabled:c,tabIndex:D?-1:0,data:l,elementRef:I,value:v,multiple:y,accessors:p},V,{onChange:N,onKeyDown:ke})))});fS.displayName="Listbox";fS.propTypes=U4;function B4(e,t,n){e.closest&&!n&&e.closest(t);var r=e;do{if(FI(r,t))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}const z4=["disabled","readOnly"];function Gp(){return Gp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gp.apply(this,arguments)}function W4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const K4={value:E.string,placeholder:E.string,maxLength:E.number,onChange:E.func.isRequired,disabled:fn,readOnly:fn},_y=S.forwardRef((e,t)=>{let{disabled:n,readOnly:r}=e,i=W4(e,z4),s=Math.max(String(i.value||i.placeholder||"").length,1)+1;return S.createElement("input",Gp({spellCheck:"false",autoCapitalize:"off"},i,{size:s,ref:t,autoComplete:"off",className:"rw-multiselect-input","aria-disabled":n,"aria-readonly":r,disabled:n,readOnly:r}))});_y.displayName="MultiselectInput";_y.propTypes=K4;function H4({className:e,children:t,style:n,label:r,disabled:i,readOnly:s,onRemove:o,clearTagIcon:a,dataItem:l}){const[u,c,f]=qI(l),d=h=>{i||o(l,h)};return S.createElement("div",{ref:u,role:"option",id:f,"data-rw-option":"","data-rw-focusable":i?void 0:"","data-rw-focused":c?"":void 0,className:ge(e,"rw-multiselect-tag",i&&"rw-state-disabled",c&&!i&&"rw-state-focus"),style:n},S.createElement("span",{className:"rw-multiselect-tag-label"},t),S.createElement("button",{type:"button",tabIndex:-1,onClick:d,onTouchEnd:d,disabled:i||s,className:"rw-multiselect-tag-btn","aria-label":r||"Remove item"},a))}function q4({id:e,value:t,textAccessor:n,label:r,disabled:i,readOnly:s,onDelete:o,children:a,clearTagIcon:l,renderTagValue:u,tagOptionComponent:c=H4}){return S.createElement("div",{id:e,role:"listbox","aria-label":r,"aria-multiselectable":"true","aria-orientation":"horizontal",className:"rw-multiselect-taglist"},t.map((f,d)=>{const h=Array.isArray(i)?i.includes(f):!!i;return S.createElement(c,{key:d,dataItem:f,onRemove:o,clearTagIcon:l,disabled:h,readOnly:s},u?u({item:f}):n(f))}),a)}const Q4=["dataKey","textField","autoFocus","id","value","defaultValue","onChange","open","defaultOpen","onToggle","focusFirstItem","searchTerm","defaultSearchTerm","onSearch","filter","allowCreate","className","containerClassName","placeholder","busy","disabled","readOnly","selectIcon","clearTagIcon","busySpinner","dropUp","tabIndex","popupTransition","showPlaceholderWithValues","showSelectedItemsInList","onSelect","onCreate","onKeyDown","onBlur","onFocus","inputProps","listProps","popupProps","renderListItem","renderListGroup","renderTagValue","optionComponent","tagOptionComponent","groupBy","listComponent","popupComponent","tagListComponent","data","messages"];function $s(){return $s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$s.apply(this,arguments)}function G4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const Y4=13,o0="insert",Bf="remove";let X4={data:E.array,value:E.array,onChange:E.func,searchTerm:E.string,onSearch:E.func,open:E.bool,handleOpen:E.func,dataKey:In,textField:In,renderTagValue:E.func,renderListItem:E.func,renderListGroup:E.func,groupBy:In,allowCreate:E.oneOf([!0,!1,"onFilter"]),onSelect:E.func,onCreate:E.func,busy:E.bool,selectIcon:E.node,clearTagIcon:E.node,busySpinner:E.node,dropUp:E.bool,popupTransition:E.elementType,containerClassName:E.string,inputProps:E.object,listProps:E.object,autoFocus:E.bool,placeholder:E.string,showPlaceholderWithValues:E.bool,showSelectedItemsInList:E.bool,disabled:fn.acceptsArray,readOnly:fn,messages:E.shape({open:sn,emptyList:sn,emptyFilter:sn,createOption:sn,tagsLabel:sn,selectedItems:sn,noneSelected:sn,removeLabel:sn})};const J4=[];function Z4(e=J4,t,n,r,i,s){return t=g.useMemo(()=>s?t:t.filter(o=>!e.some(a=>n.matches(o,a))),[t,s,e,n]),[my(t,r||!1,i,n.text),t.length]}const hS=S.forwardRef(function(t,n){let{dataKey:r,textField:i,autoFocus:s,id:o,value:a,defaultValue:l=[],onChange:u,open:c,defaultOpen:f=!1,onToggle:d,focusFirstItem:h=!1,searchTerm:y,defaultSearchTerm:_="",onSearch:T,filter:m="startsWith",allowCreate:p=!1,className:v,containerClassName:I,placeholder:C,busy:x,disabled:D,readOnly:N,selectIcon:H,clearTagIcon:V=RI,busySpinner:_e,dropUp:ne,tabIndex:ke,popupTransition:q,showPlaceholderWithValues:re=!1,showSelectedItemsInList:ae=!1,onSelect:Pe,onCreate:R,onKeyDown:L,onBlur:B,onFocus:se,inputProps:fe,listProps:rt,popupProps:ct,renderListItem:Kt,renderListGroup:je,renderTagValue:Ue,optionComponent:hn,tagOptionComponent:F,groupBy:J,listComponent:te=Do,popupComponent:le=Dl,tagListComponent:Te=q4,data:Ie=[],messages:qe}=t,De=G4(t,Q4),[Je,Ht]=Tn(a,l,u);const[Q,nr]=Tn(c,f,d),[M,ye]=Tn(y,_,T),oe=g.useRef(null),Re=g.useRef(null),dt=g.useRef(null),pn=At(o,"_input"),tt=At(o,"_taglist"),qt=At(o,"_listbox"),ft=At(o,"_createlist_option"),j=At(o,"_taglist_active_tag"),Ne=At(o,"_listbox_active_option"),Oe=zd(i,r),Qt=cy(qe),mn=Wd(Q,nr),Bn=D===!0,An=!!N,[fs,Be]=Si(oe,{disabled:Bn,onBlur:B,onFocus:se},{didHandle(W,we){if(W)return ht();mn.close(),G(we),ze.focus(null)}}),rn=g.useMemo(()=>Je.map(W=>Oe.findOrSelf(Ie,W)),[Ie,Je,Oe]),[hs,Ci]=Z4(rn,Ie,Oe,Q?m:!1,M,ae),yt=sl({scope:oe,scopeSelector:".rw-popup",focusFirstItem:h,activeId:Ne,anchorItem:Q?rn[rn.length-1]:void 0}),ze=sl({scope:oe,scopeSelector:".rw-multiselect-taglist",activeId:j}),zn=uS(p,{searchTerm:M,data:hs,dataItems:rn,accessors:Oe}),xi=ze.getFocused();g.useEffect(()=>{Q||Fp(Re.current,xi?j:"")},[j,Q,xi]);const br=yt.getFocused();g.useEffect(()=>{Q&&Fp(Re.current,br?Ne:"")},[Ne,Q,br]);const ue=(W,we)=>{Bn||N||ze.size()===0||(ht(),Oo(W,we,Bf))},We=g.useRef(!1),rr=W=>{W.key==="Backspace"&&W.currentTarget.value&&!We.current&&(We.current=!0)},ps=W=>{W.key==="Backspace"&&We.current&&(We.current=!1)},Pi=W=>{Ee(W.target.value,W,"input"),mn.open()},Gt=W=>{Bn||N||(W.preventDefault(),ht(),B4(W.target,".rw-select")&&Q?mn.close():mn.open())},gn=()=>{Bn||!Re.current||(ht(),Re.current&&Re.current.select())},ko=(W,we)=>{if(W!==void 0){if(we.preventDefault(),W===yy){No(we);return}Ke(Pe,[W,{originalEvent:we}]),!ae||!rn.includes(W)?Oo(W,we,o0):Oo(W,we,Bf),ht()}},No=W=>{Ke(R,[M]),G(W),ht()},Hd=W=>{if(N){W.preventDefault();return}let{key:we,keyCode:Wn,altKey:Dn,ctrlKey:Ri}=W;if(Ke(L,[W]),!W.defaultPrevented)if(we==="ArrowDown"){if(W.preventDefault(),!Q){mn.open();return}yt.focus(yt.next()),ze.focus(null)}else if(we==="ArrowUp"&&(Q||Dn)){if(W.preventDefault(),Dn){mn.close();return}yt.focus(yt.prev()),ze.focus(null)}else if(we==="End")W.preventDefault(),Q?(yt.focus(yt.last()),ze.focus(null)):(ze.focus(ze.last()),yt.focus(null));else if(we==="Home")W.preventDefault(),Q?yt.focus(yt.first()):yt.focus(ze.first());else if(Q&&Wn===Y4){if(W.preventDefault(),Ri&&zn)return No(W);ko(yt.getFocused(),W)}else we==="Escape"?Q?mn.close():ze.focus(null):!M&&!We.current&&(we==="ArrowLeft"?ze.focus(ze.prev({behavior:"loop"})):we==="ArrowRight"?ze.focus(ze.next({behavior:"loop"})):we==="Delete"&&ze.getFocused()?ue(ze.getFocused(),W):we==="Backspace"?ue(ze.toDataItem(ze.last()),W):we===" "&&!Q&&(W.preventDefault(),mn.open()))};function Oo(W,we,Wn){let Dn=rn;switch(Wn){case o0:Dn=Dn.concat(W);break;case Bf:Dn=Dn.filter(Ri=>Ri!==W);break}Ht(Dn,{action:Wn,dataItem:W,originalEvent:we,searchTerm:M,lastValue:Je}),G(we)}function G(W){Ee("",W,"clear")}function Ee(W,we,Wn="input"){W!==M&&ye(W,{action:Wn,originalEvent:we,lastSearchTerm:M})}function ht(){Re.current&&Re.current.focus()}g.useImperativeHandle(n,()=>({focus:ht}));let Lr=Ud(Be,Q),ms=!!rn.length,gr=`${qt} `+(ms?tt:"")+(zn?ft:"");return S.createElement(ds,$s({},De,{ref:oe,open:Q,dropUp:ne,focused:Be,disabled:Bn,readOnly:An,onKeyDown:Hd},fs,{className:ge(v,"rw-multiselect")}),S.createElement(Bd,{onClick:Gt,onTouchEnd:Gt,onDoubleClick:gn,className:ge(I,"rw-widget-input")},S.createElement(po.Provider,{value:ze.context},S.createElement(Te,{id:tt,textAccessor:Oe.text,clearTagIcon:V,label:Qt.tagsLabel(),value:rn,readOnly:An,disabled:D,onDelete:ue,tagOptionComponent:F,renderTagValue:Ue},S.createElement(_y,$s({},fe,{role:"combobox",autoFocus:s,tabIndex:ke||0,"aria-expanded":!!Q,"aria-busy":!!x,"aria-owns":gr,"aria-controls":qt,"aria-haspopup":"listbox","aria-autocomplete":"list",value:M,disabled:Bn,readOnly:An,placeholder:(Je.length&&!re?"":C)||"",onKeyDown:rr,onKeyUp:ps,onChange:Pi,ref:Re})))),S.createElement(cS,{busy:x,spinner:_e,icon:H,visible:Be})),S.createElement(po.Provider,{value:yt.context},Lr&&S.createElement(le,$s({},ct,{dropUp:ne,open:Q,transition:q,onEntering:()=>dt.current.scrollIntoView()}),S.createElement(te,$s({},rt,{id:qt,data:hs,tabIndex:-1,disabled:D,searchTerm:M,accessors:Oe,renderItem:Kt,renderGroup:je,value:rn,groupBy:J,optionComponent:hn,onChange:(W,we)=>ko(W,we.originalEvent),"aria-live":"polite","aria-labelledby":pn,"aria-hidden":!Q,ref:dt,messages:{emptyList:Ci?Qt.emptyFilter:Qt.emptyList}})),zn&&S.createElement(vy,{onSelect:No},Qt.createOption(Je,M)))))});hS.displayName="Multiselect";hS.propTypes=X4;function eL(e){e===void 0&&(e=fy());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}const tL=["disabled","readOnly","placeholder","innerRef","min","max","localizer","editing"];function Yp(){return Yp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yp.apply(this,arguments)}function nL(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}let rL=e=>(e||"").trim()==="-";function iL(e,t){let n=t.decimalCharacter(),[r,i]=e.split(n);return!!(i&&i.match(/0+$/))}function sL(e,t){let n=t.decimalCharacter(),r=e.length-1;if(e.length<1)return!1;let i=e[r];return i===n&&e.indexOf(i)===r}class pS extends S.Component{constructor(...t){super(...t),this.state={},this.handleBlur=n=>{let r=this.state.stringValue,i=this.parseNumber(r);this.isIntermediateValue(i,r)&&(isNaN(i)&&(i=null),this.props.onChange(i,n))},this.handleChange=n=>{let{value:r,onChange:i}=this.props,s=n.target.value,o=this.parseNumber(s),a=this.isIntermediateValue(o,s);if(s==null||s.trim()===""){this.setStringValue(""),i(null,n);return}a?this.setStringValue(s):o!==r?i(o,n):s!=this.state.stringValue&&this.setStringValue(s)}}getSnapshotBeforeUpdate({editing:t}){return{reselectText:!t&&this.props.editing&&this.isSelectingAllText()}}static getDerivedStateFromProps(t,n){let{value:r,editing:i,localizer:s}=t,o=s.decimalCharacter();const a=r==null||isNaN(r)?"":i?(""+r).replace(".",o):s.formatNumber(r);return n.lastValueFromProps!==a?{stringValue:a,lastValueFromProps:a}:null}componentDidUpdate(t,n,{reselectText:r}){r&&ba.findDOMNode(this).select()}setStringValue(t){this.setState({stringValue:t})}isIntermediateValue(t,n){let{localizer:r,min:i}=this.props;return!!(t<i||rL(n)||sL(n,r)||iL(n,r))}isSelectingAllText(){const t=Cp&&ba.findDOMNode(this);return Cp&&eL()===t&&t.selectionStart===0&&t.selectionEnd===t.value.length}parseNumber(t){let{localizer:n,parse:r}=this.props;return r?r(t,n):n.parseNumber(t)}render(){let t=this.props,{disabled:n,readOnly:r,placeholder:i,innerRef:s,min:o,max:a}=t,l=nL(t,tL),u=this.state.stringValue;return S.createElement(Al,Yp({},l,{ref:s,inputMode:"numeric",className:"rw-widget-input",onChange:this.handleChange,onBlur:this.handleBlur,"aria-valuenow":u,"aria-valuemin":isFinite(o)?o:void 0,"aria-valuemax":isFinite(a)?a:void 0,disabled:n,readOnly:r,placeholder:i,value:u}))}}pS.defaultProps={value:null,editing:!1};pS.propTypes={value:E.number,editing:E.bool,placeholder:E.string,localizer:E.object.isRequired,parse:E.func,min:E.number,max:E.number,disabled:fn,readOnly:fn,onChange:E.func.isRequired};E.number,E.func,E.number,E.number,E.number,E.oneOfType([E.number,E.oneOf(["auto"])]),E.any,E.func,E.node,E.node,E.any,E.string,E.string,E.func,E.func,E.func,E.bool,E.string,E.object,E.shape({increment:E.string,decrement:E.string}),E.object;let ou;const oL=new Uint8Array(16);function aL(){if(!ou&&(ou=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ou))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ou(oL)}const Ct=[];for(let e=0;e<256;++e)Ct.push((e+256).toString(16).slice(1));function lL(e,t=0){return Ct[e[t+0]]+Ct[e[t+1]]+Ct[e[t+2]]+Ct[e[t+3]]+"-"+Ct[e[t+4]]+Ct[e[t+5]]+"-"+Ct[e[t+6]]+Ct[e[t+7]]+"-"+Ct[e[t+8]]+Ct[e[t+9]]+"-"+Ct[e[t+10]]+Ct[e[t+11]]+Ct[e[t+12]]+Ct[e[t+13]]+Ct[e[t+14]]+Ct[e[t+15]]}const uL=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),a0={randomUUID:uL};function cL(e,t,n){if(a0.randomUUID&&!t&&!e)return a0.randomUUID();e=e||{};const r=e.random||(e.rng||aL)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return lL(r)}const mS=({searchResultData:e})=>w.jsxs("table",{style:{margin:"0 auto"},children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{children:"Customer Name"}),w.jsx("th",{children:"Product Name"}),w.jsx("th",{children:"Purchase Date"})]})}),w.jsx("tbody",{children:e==null?void 0:e.map(t=>w.jsxs("tr",{children:[w.jsx("th",{children:t.customerName}),w.jsx("th",{children:t.productName}),w.jsx("th",{children:t.date})]},cL()))})]}),dL=()=>{const e=li(m=>m.customersReducer.customers),t=li(m=>m.productsReducer.products),n=li(m=>m.purchasesReducer.purchasedProducts),[r,i]=g.useState([]),[s,o]=g.useState(),[a,l]=g.useState(),[u,c]=g.useState(),[f,d]=g.useState(!1),[h,y]=g.useState();g.useEffect(()=>{const m=e.map(p=>({...p,fullName:`${p.firstName} ${p.lastName}`}));i(m)},[e]);const _=m=>{const p=`${m.getDate().toString().padStart(2,"0")}/${(m.getMonth()+1).toString().padStart(2,"0")}/${m.getFullYear()}`;c(p)},T=m=>{if(!u)return!0;const p=m.split("/"),v=u==null?void 0:u.split("/"),I=p.map(Number),C=v==null?void 0:v.map(Number);return I[0]===C[0]&&I[1]===C[1]&&I[2]===C[2]};return g.useEffect(()=>{let p=n.map(v=>{if(!T(v.date))return;const I=a?a.id===v.customerID?a:null:e.find(x=>x.id===v.customerID),C=s?s.id===v.productID?s:null:t.find(x=>x.id===v.productID);if(I&&C)return{...v,customerName:I?I.firstName+" "+I.lastName:"Null",productName:C?C.name:"Null"}}).filter(v=>v!==void 0);y(p)},[f]),w.jsxs("div",{children:[w.jsxs("div",{style:{display:"flex"},children:[w.jsxs("div",{className:"purchases-combo-box",children:["Select Product:"," ",w.jsx(ol,{data:t,defaultValue:"",dataKey:"id",textField:"name",onChange:m=>o(m)})]}),w.jsxs("div",{className:"purchases-combo-box",children:["Select Customer:",w.jsx(ol,{data:r,defaultValue:"",dataKey:"id",textField:"fullName",onChange:m=>l(m)})]}),w.jsxs("div",{className:"purchases-combo-box",children:["Select Date:"," ",w.jsx(Kd,{valueEditFormat:{dateStyle:"short"},max:new Date,valueDisplayFormat:{dateStyle:"medium"},onChange:m=>_(m)})]}),w.jsx("div",{className:"purchases-combo-box",children:w.jsx("button",{style:{marginTop:"20px"},onClick:()=>d(!f),children:"Search"})})]}),w.jsx("br",{}),w.jsx(mS,{searchResultData:h})]})},l0=()=>{const e=li(d=>d.productsReducer.products),t=To(),{customerID:n,customerName:r}=Qm(),[i,s]=g.useState(""),[o,a]=g.useState(!1),[l,u]=g.useState("");g.useEffect(()=>{o&&t("..")},[o]);const c=async()=>{if(+i.quantity<=0){u("Not enough quantity! can't add the product.");return}const d=new Date,h=d.getFullYear(),y=d.getMonth()+1,_=d.getDate(),T={customerID:n,productID:i.id,date:`${_}/${y}/${h}`,price:i.price};await y2($n(Et,"purchases"),T).then(()=>{f()})},f=async()=>{const d=Bi(Et,"products",i.id);await Zg(d,{...i,quantity:+i.quantity-1}).then(()=>{console.log("New product added to customer successfully!"),u("New product added to customer successfully!")})};return w.jsxs("div",{style:{border:"1px solid"},children:[w.jsx("div",{style:{float:"right"},children:w.jsx("button",{onClick:()=>a(!0),children:"X"})}),w.jsx("h2",{children:"Add new product"}),"Name:",` ${r}`,w.jsx("br",{}),"ID:",` ${n}`,w.jsx("br",{}),w.jsx("div",{style:{width:"50%",margin:"20px auto"},children:w.jsx(ol,{data:e,defaultValue:"",dataKey:"id",textField:"name",onChange:d=>s(d)})}),w.jsx("button",{onClick:()=>{c()},children:"Save"}),w.jsx("br",{}),w.jsx("br",{}),w.jsx("p",{children:l})]})},u0=()=>{const e=li(p=>p.purchasesReducer.buyingCustomers),{productID:t,productName:n,productPrice:r,productQuantity:i}=Qm(),s=To(),[o,a]=g.useState(!1),[l,u]=g.useState(""),[c,f]=g.useState(n),[d,h]=g.useState(r),[y,_]=g.useState(i);g.useEffect(()=>{o&&s("..")},[o]);const T=async()=>{const p=Bi(Et,"products",t);await Zg(p,{name:c,price:d,quantity:y}).then(()=>{console.log("Product details updated successfully"),u("Product details updated successfully")})},m=async()=>{const p=Bi(Et,"products",t),v=$n(Et,"purchases");await mc(p).then(async()=>{(await zi(Jn(v,ai("productID","==",t)))).forEach(async C=>{await mc(C.ref)}),console.log("Product and references deleted successfully"),a(!0)})};return w.jsxs("div",{style:{border:"1px solid"},children:[w.jsx("div",{style:{float:"right"},children:w.jsx("button",{onClick:()=>a(!0),children:"X"})}),w.jsx("h2",{children:"Edit product details"}),w.jsx("b",{children:"ID:"})," ",t," ",w.jsx("br",{}),w.jsx("br",{}),w.jsx("b",{children:"Name:"})," ",w.jsx("input",{type:"text",defaultValue:c,onChange:p=>f(p.target.value)})," ",w.jsx("br",{}),w.jsx("br",{}),w.jsx("b",{children:"Price:"})," ",w.jsx("input",{type:"number",defaultValue:+d,onChange:p=>h(+p.target.value)})," ",w.jsx("br",{}),w.jsx("br",{}),w.jsx("b",{children:"Quantity:"})," ",w.jsx("input",{type:"number",defaultValue:+y,onChange:p=>_(+p.target.value)})," ",w.jsx("br",{}),w.jsx("br",{}),w.jsx("button",{onClick:T,children:"Save"}),w.jsx("button",{onClick:m,children:"Delete"}),w.jsx("p",{children:l}),w.jsx("h3",{children:"List of Buying Customers"}),e.map(p=>w.jsx("div",{children:w.jsx(Ir,{to:`/products/edit/${p.customerID}`,children:`${p.name}`})},p.customerID))]})},c0=()=>{const{customerID:e}=Qm(),t=To(),[n,r]=g.useState(""),[i,s]=g.useState(!1),[o,a]=g.useState({id:"",firstName:"",lastName:"",city:""}),[l,u]=g.useState([]);g.useEffect(()=>{i&&t("..")},[i]),g.useEffect(()=>{(async()=>{const y=Bi(Et,"customers",e);try{const _=await g2(y);_.exists()?a({..._.data()}):console.log("Document does not exist")}catch(_){console.error("Error getting document:",_)}})(),c()},[]);const c=()=>{const h=Jn($n(Et,"purchases"),ai("customerID","==",e));zi(h).then(y=>{let _=[];y.forEach(m=>{_.push(m.data().productID)}),_=Array.from(new Set(_));const T=Jn($n(Et,"products"),ai("id","in",_));zi(T).then(m=>{let p=[];m.forEach(v=>{p.push({id:v.id,...v.data()})}),u(p)})})},f=async()=>{const h=Bi(Et,"customers",o.id);await Zg(h,{firstName:o.firstName,lastName:o.lastName,city:o.city}).then(()=>{console.log("Customer information updated successfully"),r("Customer information updated successfully")})},d=async()=>{const h=Bi(Et,"customers",o.id),y=$n(Et,"purchases");await mc(h).then(async()=>{(await zi(Jn(y,ai("customerID","==",o.id)))).forEach(async T=>{await mc(T.ref)}),console.log("Product and references deleted successfully"),s(!0)})};return w.jsxs("div",{style:{border:"1px solid"},children:[w.jsx("div",{style:{float:"right"},children:w.jsx("button",{onClick:()=>s(!0),children:"X"})}),w.jsx("h2",{children:"Edit customer"}),w.jsx("b",{children:"ID:"})," ",o==null?void 0:o.id," ",w.jsx("br",{}),w.jsx("br",{}),w.jsx("b",{children:"First Name:"})," ",w.jsx("input",{type:"text",onChange:h=>{a(y=>({...y,firstName:h.target.value}))},defaultValue:`${o.firstName}`})," ",w.jsx("br",{}),w.jsx("br",{}),w.jsx("b",{children:"Last Name:"})," ",w.jsx("input",{type:"text",onChange:h=>{a(y=>({...y,lastName:h.target.value}))},defaultValue:`${o.lastName}`})," ",w.jsx("br",{}),w.jsx("br",{}),w.jsx("b",{children:"City:"})," ",w.jsx("input",{type:"text",onChange:h=>{a(y=>({...y,city:h.target.value}))},defaultValue:`${o.city}`})," ",w.jsx("br",{}),w.jsx("br",{}),w.jsx("button",{onClick:f,children:"Save"}),w.jsx("button",{onClick:d,children:"Delete"}),w.jsx("p",{children:n}),w.jsx("h2",{children:"List of bought products"}),l==null?void 0:l.map(h=>w.jsx("div",{children:w.jsx(Ir,{to:`/products/edit/${h.id}/${h.name}/${h.price}/${h.quantity}`,children:h.name})},h.id)),w.jsx("br",{})]})};function fL(){return w.jsxs(w.Fragment,{children:[w.jsx("h1",{style:{borderBottom:"1px solid"},children:"Store Management"}),w.jsx("div",{children:w.jsx("div",{style:{fontSize:"30px",marginBottom:"15px",textAlign:"left"},children:w.jsx(Ir,{to:"/store-management",children:"Main Menu"})})}),w.jsxs(OP,{children:[w.jsx(kn,{path:"/store-management",element:w.jsx(gO,{})}),w.jsxs(kn,{path:"/products",element:w.jsx(_O,{}),children:[w.jsx(kn,{path:"add/:customerID/:customerName",element:w.jsx(l0,{})}),w.jsx(kn,{path:"edit/:productID/:productName/:productPrice/:productQuantity",element:w.jsx(u0,{})}),w.jsx(kn,{path:"edit/:customerID",element:w.jsx(c0,{})})]}),w.jsxs(kn,{path:"/customers",element:w.jsx(mO,{}),children:[w.jsx(kn,{path:"edit/:customerID",element:w.jsx(c0,{})}),w.jsx(kn,{path:"products/edit/:productID/:productName/:productPrice/:productQuantity",element:w.jsx(u0,{})}),w.jsx(kn,{path:"add/:customerID/:customerName",element:w.jsx(l0,{})})]}),w.jsx(kn,{path:"/purchases",element:w.jsx(dL,{}),children:w.jsx(kn,{path:"purchase-table",element:w.jsx(mS,{})})})]})]})}function Yt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var d0=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),zf=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ec={INIT:"@@redux/INIT"+zf(),REPLACE:"@@redux/REPLACE"+zf(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+zf()}};function hL(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function gS(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Yt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Yt(1));return n(gS)(e,t)}if(typeof e!="function")throw new Error(Yt(2));var i=e,s=t,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(Yt(3));return s}function f(_){if(typeof _!="function")throw new Error(Yt(4));if(l)throw new Error(Yt(5));var T=!0;return u(),a.push(_),function(){if(T){if(l)throw new Error(Yt(6));T=!1,u();var p=a.indexOf(_);a.splice(p,1),o=null}}}function d(_){if(!hL(_))throw new Error(Yt(7));if(typeof _.type>"u")throw new Error(Yt(8));if(l)throw new Error(Yt(9));try{l=!0,s=i(s,_)}finally{l=!1}for(var T=o=a,m=0;m<T.length;m++){var p=T[m];p()}return _}function h(_){if(typeof _!="function")throw new Error(Yt(10));i=_,d({type:Ec.REPLACE})}function y(){var _,T=f;return _={subscribe:function(p){if(typeof p!="object"||p===null)throw new Error(Yt(11));function v(){p.next&&p.next(c())}v();var I=T(v);return{unsubscribe:I}}},_[d0]=function(){return this},_}return d({type:Ec.INIT}),r={dispatch:d,subscribe:f,getState:c,replaceReducer:h},r[d0]=y,r}var pL=gS;function mL(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:Ec.INIT});if(typeof r>"u")throw new Error(Yt(12));if(typeof n(void 0,{type:Ec.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Yt(13))})}function gL(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var s=Object.keys(n),o;try{mL(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,f={},d=0;d<s.length;d++){var h=s[d],y=n[h],_=l[h],T=y(_,u);if(typeof T>"u")throw u&&u.type,new Error(Yt(14));f[h]=T,c=c||T!==_}return c=c||s.length!==Object.keys(l).length,c?f:l}}const yL={products:[]},vL=(e=yL,t)=>{switch(t.type){case"init-products":return{...e,products:t.payload.productsData};case"reduce-product-quantity":return{...e,products:[e.products.map(n=>n.id===t.payload.productID?{...n,quantity:n.quantity-1}:n)]};default:return e}},_L={totalPurchases:0,purchasedProducts:[],buyingCustomers:[]},EL=(e=_L,t)=>{switch(t.type){case"add-purchase":return{...e,totalPurchases:t.payload.totalPurchases};case"set-purchased-products":return{...e,purchasedProducts:t.payload.purchasedProduct};case"set-purchasing-customers":return{...e,buyingCustomers:t.payload.buyingCustomers};default:return e}},wL={customers:[]},TL=(e=wL,t)=>{switch(t.type){case"init-customers":return{...e,customers:t.payload.customersData};case"add-customer":return{...e,customers:[...e.customers,t.payload.newCustomer]};default:return e}},IL=gL({productsReducer:vL,purchasesReducer:EL,customersReducer:TL}),SL=pL(IL,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());Wf.createRoot(document.getElementById("root")).render(w.jsx(sO,{store:SL,children:w.jsx(FP,{children:w.jsx(fL,{})})}));
