function cS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function mc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var a0={exports:{}},gc={},l0={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var el=Symbol.for("react.element"),fS=Symbol.for("react.portal"),hS=Symbol.for("react.fragment"),dS=Symbol.for("react.strict_mode"),pS=Symbol.for("react.profiler"),mS=Symbol.for("react.provider"),gS=Symbol.for("react.context"),yS=Symbol.for("react.forward_ref"),vS=Symbol.for("react.suspense"),_S=Symbol.for("react.memo"),ES=Symbol.for("react.lazy"),vy=Symbol.iterator;function wS(e){return e===null||typeof e!="object"?null:(e=vy&&e[vy]||e["@@iterator"],typeof e=="function"?e:null)}var u0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},c0=Object.assign,f0={};function fo(e,t,n){this.props=e,this.context=t,this.refs=f0,this.updater=n||u0}fo.prototype.isReactComponent={};fo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function h0(){}h0.prototype=fo.prototype;function Hp(e,t,n){this.props=e,this.context=t,this.refs=f0,this.updater=n||u0}var qp=Hp.prototype=new h0;qp.constructor=Hp;c0(qp,fo.prototype);qp.isPureReactComponent=!0;var _y=Array.isArray,d0=Object.prototype.hasOwnProperty,Qp={current:null},p0={key:!0,ref:!0,__self:!0,__source:!0};function m0(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)d0.call(t,r)&&!p0.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:el,type:e,key:s,ref:o,props:i,_owner:Qp.current}}function TS(e,t){return{$$typeof:el,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gp(e){return typeof e=="object"&&e!==null&&e.$$typeof===el}function IS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ey=/\/+/g;function zf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?IS(""+e.key):t.toString(36)}function eu(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case el:case fS:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+zf(o,0):r,_y(i)?(n="",e!=null&&(n=e.replace(Ey,"$&/")+"/"),eu(i,t,n,"",function(u){return u})):i!=null&&(Gp(i)&&(i=TS(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ey,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",_y(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+zf(s,a);o+=eu(s,t,n,l,i)}else if(l=wS(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+zf(s,a++),o+=eu(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Cl(e,t,n){if(e==null)return e;var r=[],i=0;return eu(e,r,"","",function(s){return t.call(n,s,i++)}),r}function SS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Zt={current:null},tu={transition:null},CS={ReactCurrentDispatcher:Zt,ReactCurrentBatchConfig:tu,ReactCurrentOwner:Qp};fe.Children={map:Cl,forEach:function(e,t,n){Cl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Cl(e,function(){t++}),t},toArray:function(e){return Cl(e,function(t){return t})||[]},only:function(e){if(!Gp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=fo;fe.Fragment=hS;fe.Profiler=pS;fe.PureComponent=Hp;fe.StrictMode=dS;fe.Suspense=vS;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CS;fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=c0({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Qp.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)d0.call(t,l)&&!p0.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:el,type:e.type,key:i,ref:s,props:r,_owner:o}};fe.createContext=function(e){return e={$$typeof:gS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mS,_context:e},e.Consumer=e};fe.createElement=m0;fe.createFactory=function(e){var t=m0.bind(null,e);return t.type=e,t};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:yS,render:e}};fe.isValidElement=Gp;fe.lazy=function(e){return{$$typeof:ES,_payload:{_status:-1,_result:e},_init:SS}};fe.memo=function(e,t){return{$$typeof:_S,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=tu.transition;tu.transition={};try{e()}finally{tu.transition=t}};fe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};fe.useCallback=function(e,t){return Zt.current.useCallback(e,t)};fe.useContext=function(e){return Zt.current.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e){return Zt.current.useDeferredValue(e)};fe.useEffect=function(e,t){return Zt.current.useEffect(e,t)};fe.useId=function(){return Zt.current.useId()};fe.useImperativeHandle=function(e,t,n){return Zt.current.useImperativeHandle(e,t,n)};fe.useInsertionEffect=function(e,t){return Zt.current.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return Zt.current.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return Zt.current.useMemo(e,t)};fe.useReducer=function(e,t,n){return Zt.current.useReducer(e,t,n)};fe.useRef=function(e){return Zt.current.useRef(e)};fe.useState=function(e){return Zt.current.useState(e)};fe.useSyncExternalStore=function(e,t,n){return Zt.current.useSyncExternalStore(e,t,n)};fe.useTransition=function(){return Zt.current.useTransition()};fe.version="18.2.0";l0.exports=fe;var g=l0.exports;const I=mc(g),xS=cS({__proto__:null,default:I},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PS=g,RS=Symbol.for("react.element"),AS=Symbol.for("react.fragment"),kS=Object.prototype.hasOwnProperty,DS=PS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NS={key:!0,ref:!0,__self:!0,__source:!0};function g0(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)kS.call(t,r)&&!NS.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:RS,type:e,key:s,ref:o,props:i,_owner:DS.current}}gc.Fragment=AS;gc.jsx=g0;gc.jsxs=g0;a0.exports=gc;var S=a0.exports,$h={},y0={exports:{}},Cn={},v0={exports:{}},_0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,L){var z=R.length;R.push(L);e:for(;0<z;){var se=z-1>>>1,he=R[se];if(0<i(he,L))R[se]=L,R[z]=he,z=se;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var L=R[0],z=R.pop();if(z!==L){R[0]=z;e:for(var se=0,he=R.length,rt=he>>>1;se<rt;){var ct=2*(se+1)-1,Bt=R[ct],je=ct+1,Ue=R[je];if(0>i(Bt,z))je<he&&0>i(Ue,Bt)?(R[se]=Ue,R[je]=z,se=je):(R[se]=Bt,R[ct]=z,se=ct);else if(je<he&&0>i(Ue,z))R[se]=Ue,R[je]=z,se=je;else break e}}return L}function i(R,L){var z=R.sortIndex-L.sortIndex;return z!==0?z:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,d=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(R){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=R)r(u),L.sortIndex=L.expirationTime,t(l,L);else break;L=n(u)}}function T(R){if(v=!1,E(R),!y)if(n(l)!==null)y=!0,ae(P);else{var L=n(u);L!==null&&Pe(T,L.startTime-R)}}function P(R,L){y=!1,v&&(v=!1,m(N),N=-1),d=!0;var z=f;try{for(E(L),h=n(l);h!==null&&(!(h.expirationTime>L)||R&&!_e());){var se=h.callback;if(typeof se=="function"){h.callback=null,f=h.priorityLevel;var he=se(h.expirationTime<=L);L=e.unstable_now(),typeof he=="function"?h.callback=he:h===n(l)&&r(l),E(L)}else r(l);h=n(l)}if(h!==null)var rt=!0;else{var ct=n(u);ct!==null&&Pe(T,ct.startTime-L),rt=!1}return rt}finally{h=null,f=z,d=!1}}var C=!1,k=null,N=-1,H=5,V=-1;function _e(){return!(e.unstable_now()-V<H)}function ne(){if(k!==null){var R=e.unstable_now();V=R;var L=!0;try{L=k(!0,R)}finally{L?De():(C=!1,k=null)}}else C=!1}var De;if(typeof p=="function")De=function(){p(ne)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,re=q.port2;q.port1.onmessage=ne,De=function(){re.postMessage(null)}}else De=function(){w(ne,0)};function ae(R){k=R,C||(C=!0,De())}function Pe(R,L){N=w(function(){R(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){y||d||(y=!0,ae(P))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(R){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var z=f;f=L;try{return R()}finally{f=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var z=f;f=R;try{return L()}finally{f=z}},e.unstable_scheduleCallback=function(R,L,z){var se=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?se+z:se):z=se,R){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=z+he,R={id:c++,callback:L,priorityLevel:R,startTime:z,expirationTime:he,sortIndex:-1},z>se?(R.sortIndex=z,t(u,R),n(l)===null&&R===n(u)&&(v?(m(N),N=-1):v=!0,Pe(T,z-se))):(R.sortIndex=he,t(l,R),y||d||(y=!0,ae(P))),R},e.unstable_shouldYield=_e,e.unstable_wrapCallback=function(R){var L=f;return function(){var z=f;f=L;try{return R.apply(this,arguments)}finally{f=z}}}})(_0);v0.exports=_0;var OS=v0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0=g,In=OS;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w0=new Set,ha={};function es(e,t){Ws(e,t),Ws(e+"Capture",t)}function Ws(e,t){for(ha[e]=t,e=0;e<t.length;e++)w0.add(t[e])}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fh=Object.prototype.hasOwnProperty,VS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wy={},Ty={};function bS(e){return Fh.call(Ty,e)?!0:Fh.call(wy,e)?!1:VS.test(e)?Ty[e]=!0:(wy[e]=!0,!1)}function LS(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function MS(e,t,n,r){if(t===null||typeof t>"u"||LS(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function en(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Nt[e]=new en(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Nt[t]=new en(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Nt[e]=new en(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Nt[e]=new en(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Nt[e]=new en(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Nt[e]=new en(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Nt[e]=new en(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Nt[e]=new en(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Nt[e]=new en(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yp=/[\-:]([a-z])/g;function Xp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yp,Xp);Nt[t]=new en(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yp,Xp);Nt[t]=new en(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yp,Xp);Nt[t]=new en(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Nt[e]=new en(e,1,!1,e.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new en("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Nt[e]=new en(e,1,!1,e.toLowerCase(),null,!0,!0)});function Jp(e,t,n,r){var i=Nt.hasOwnProperty(t)?Nt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(MS(t,n,i,r)&&(n=null),r||i===null?bS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Rr=E0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xl=Symbol.for("react.element"),vs=Symbol.for("react.portal"),_s=Symbol.for("react.fragment"),Zp=Symbol.for("react.strict_mode"),jh=Symbol.for("react.profiler"),T0=Symbol.for("react.provider"),I0=Symbol.for("react.context"),em=Symbol.for("react.forward_ref"),Uh=Symbol.for("react.suspense"),zh=Symbol.for("react.suspense_list"),tm=Symbol.for("react.memo"),br=Symbol.for("react.lazy"),S0=Symbol.for("react.offscreen"),Iy=Symbol.iterator;function Ro(e){return e===null||typeof e!="object"?null:(e=Iy&&e[Iy]||e["@@iterator"],typeof e=="function"?e:null)}var Ye=Object.assign,Bf;function Fo(e){if(Bf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Bf=t&&t[1]||""}return`
`+Bf+e}var Wf=!1;function Kf(e,t){if(!e||Wf)return"";Wf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Wf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Fo(e):""}function $S(e){switch(e.tag){case 5:return Fo(e.type);case 16:return Fo("Lazy");case 13:return Fo("Suspense");case 19:return Fo("SuspenseList");case 0:case 2:case 15:return e=Kf(e.type,!1),e;case 11:return e=Kf(e.type.render,!1),e;case 1:return e=Kf(e.type,!0),e;default:return""}}function Bh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _s:return"Fragment";case vs:return"Portal";case jh:return"Profiler";case Zp:return"StrictMode";case Uh:return"Suspense";case zh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case I0:return(e.displayName||"Context")+".Consumer";case T0:return(e._context.displayName||"Context")+".Provider";case em:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case tm:return t=e.displayName||null,t!==null?t:Bh(e.type)||"Memo";case br:t=e._payload,e=e._init;try{return Bh(e(t))}catch{}}return null}function FS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bh(t);case 8:return t===Zp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ri(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function C0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jS(e){var t=C0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pl(e){e._valueTracker||(e._valueTracker=jS(e))}function x0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=C0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function gu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wh(e,t){var n=t.checked;return Ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Sy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ri(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function P0(e,t){t=t.checked,t!=null&&Jp(e,"checked",t,!1)}function Kh(e,t){P0(e,t);var n=ri(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hh(e,t.type,n):t.hasOwnProperty("defaultValue")&&Hh(e,t.type,ri(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Hh(e,t,n){(t!=="number"||gu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var jo=Array.isArray;function Vs(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ri(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function qh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return Ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(jo(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ri(n)}}function R0(e,t){var n=ri(t.value),r=ri(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Py(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function A0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?A0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rl,k0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rl=Rl||document.createElement("div"),Rl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function da(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Yo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},US=["Webkit","ms","Moz","O"];Object.keys(Yo).forEach(function(e){US.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yo[t]=Yo[e]})});function D0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Yo.hasOwnProperty(e)&&Yo[e]?(""+t).trim():t+"px"}function N0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=D0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var zS=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gh(e,t){if(t){if(zS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function Yh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xh=null;function nm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jh=null,bs=null,Ls=null;function Ry(e){if(e=rl(e)){if(typeof Jh!="function")throw Error(D(280));var t=e.stateNode;t&&(t=wc(t),Jh(e.stateNode,e.type,t))}}function O0(e){bs?Ls?Ls.push(e):Ls=[e]:bs=e}function V0(){if(bs){var e=bs,t=Ls;if(Ls=bs=null,Ry(e),t)for(e=0;e<t.length;e++)Ry(t[e])}}function b0(e,t){return e(t)}function L0(){}var Hf=!1;function M0(e,t,n){if(Hf)return e(t,n);Hf=!0;try{return b0(e,t,n)}finally{Hf=!1,(bs!==null||Ls!==null)&&(L0(),V0())}}function pa(e,t){var n=e.stateNode;if(n===null)return null;var r=wc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var Zh=!1;if(wr)try{var Ao={};Object.defineProperty(Ao,"passive",{get:function(){Zh=!0}}),window.addEventListener("test",Ao,Ao),window.removeEventListener("test",Ao,Ao)}catch{Zh=!1}function BS(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Xo=!1,yu=null,vu=!1,ed=null,WS={onError:function(e){Xo=!0,yu=e}};function KS(e,t,n,r,i,s,o,a,l){Xo=!1,yu=null,BS.apply(WS,arguments)}function HS(e,t,n,r,i,s,o,a,l){if(KS.apply(this,arguments),Xo){if(Xo){var u=yu;Xo=!1,yu=null}else throw Error(D(198));vu||(vu=!0,ed=u)}}function ts(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ay(e){if(ts(e)!==e)throw Error(D(188))}function qS(e){var t=e.alternate;if(!t){if(t=ts(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ay(i),e;if(s===r)return Ay(i),t;s=s.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function F0(e){return e=qS(e),e!==null?j0(e):null}function j0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=j0(e);if(t!==null)return t;e=e.sibling}return null}var U0=In.unstable_scheduleCallback,ky=In.unstable_cancelCallback,QS=In.unstable_shouldYield,GS=In.unstable_requestPaint,nt=In.unstable_now,YS=In.unstable_getCurrentPriorityLevel,rm=In.unstable_ImmediatePriority,z0=In.unstable_UserBlockingPriority,_u=In.unstable_NormalPriority,XS=In.unstable_LowPriority,B0=In.unstable_IdlePriority,yc=null,or=null;function JS(e){if(or&&typeof or.onCommitFiberRoot=="function")try{or.onCommitFiberRoot(yc,e,void 0,(e.current.flags&128)===128)}catch{}}var Hn=Math.clz32?Math.clz32:tC,ZS=Math.log,eC=Math.LN2;function tC(e){return e>>>=0,e===0?32:31-(ZS(e)/eC|0)|0}var Al=64,kl=4194304;function Uo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Eu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Uo(a):(s&=o,s!==0&&(r=Uo(s)))}else o=n&~i,o!==0?r=Uo(o):s!==0&&(r=Uo(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Hn(t),i=1<<n,r|=e[n],t&=~i;return r}function nC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rC(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Hn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=nC(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function td(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function W0(){var e=Al;return Al<<=1,!(Al&4194240)&&(Al=64),e}function qf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function tl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Hn(t),e[t]=n}function iC(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Hn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function im(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Hn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Se=0;function K0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var H0,sm,q0,Q0,G0,nd=!1,Dl=[],Kr=null,Hr=null,qr=null,ma=new Map,ga=new Map,Fr=[],sC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dy(e,t){switch(e){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":ma.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ga.delete(t.pointerId)}}function ko(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=rl(t),t!==null&&sm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function oC(e,t,n,r,i){switch(t){case"focusin":return Kr=ko(Kr,e,t,n,r,i),!0;case"dragenter":return Hr=ko(Hr,e,t,n,r,i),!0;case"mouseover":return qr=ko(qr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ma.set(s,ko(ma.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ga.set(s,ko(ga.get(s)||null,e,t,n,r,i)),!0}return!1}function Y0(e){var t=Pi(e.target);if(t!==null){var n=ts(t);if(n!==null){if(t=n.tag,t===13){if(t=$0(n),t!==null){e.blockedOn=t,G0(e.priority,function(){q0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=rd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Xh=r,n.target.dispatchEvent(r),Xh=null}else return t=rl(n),t!==null&&sm(t),e.blockedOn=n,!1;t.shift()}return!0}function Ny(e,t,n){nu(e)&&n.delete(t)}function aC(){nd=!1,Kr!==null&&nu(Kr)&&(Kr=null),Hr!==null&&nu(Hr)&&(Hr=null),qr!==null&&nu(qr)&&(qr=null),ma.forEach(Ny),ga.forEach(Ny)}function Do(e,t){e.blockedOn===t&&(e.blockedOn=null,nd||(nd=!0,In.unstable_scheduleCallback(In.unstable_NormalPriority,aC)))}function ya(e){function t(i){return Do(i,e)}if(0<Dl.length){Do(Dl[0],e);for(var n=1;n<Dl.length;n++){var r=Dl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Kr!==null&&Do(Kr,e),Hr!==null&&Do(Hr,e),qr!==null&&Do(qr,e),ma.forEach(t),ga.forEach(t),n=0;n<Fr.length;n++)r=Fr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Fr.length&&(n=Fr[0],n.blockedOn===null);)Y0(n),n.blockedOn===null&&Fr.shift()}var Ms=Rr.ReactCurrentBatchConfig,wu=!0;function lC(e,t,n,r){var i=Se,s=Ms.transition;Ms.transition=null;try{Se=1,om(e,t,n,r)}finally{Se=i,Ms.transition=s}}function uC(e,t,n,r){var i=Se,s=Ms.transition;Ms.transition=null;try{Se=4,om(e,t,n,r)}finally{Se=i,Ms.transition=s}}function om(e,t,n,r){if(wu){var i=rd(e,t,n,r);if(i===null)rh(e,t,r,Tu,n),Dy(e,r);else if(oC(i,e,t,n,r))r.stopPropagation();else if(Dy(e,r),t&4&&-1<sC.indexOf(e)){for(;i!==null;){var s=rl(i);if(s!==null&&H0(s),s=rd(e,t,n,r),s===null&&rh(e,t,r,Tu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else rh(e,t,r,null,n)}}var Tu=null;function rd(e,t,n,r){if(Tu=null,e=nm(r),e=Pi(e),e!==null)if(t=ts(e),t===null)e=null;else if(n=t.tag,n===13){if(e=$0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Tu=e,null}function X0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YS()){case rm:return 1;case z0:return 4;case _u:case XS:return 16;case B0:return 536870912;default:return 16}default:return 16}}var Ur=null,am=null,ru=null;function J0(){if(ru)return ru;var e,t=am,n=t.length,r,i="value"in Ur?Ur.value:Ur.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return ru=i.slice(e,1<r?1-r:void 0)}function iu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nl(){return!0}function Oy(){return!1}function xn(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Nl:Oy,this.isPropagationStopped=Oy,this}return Ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nl)},persist:function(){},isPersistent:Nl}),t}var ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lm=xn(ho),nl=Ye({},ho,{view:0,detail:0}),cC=xn(nl),Qf,Gf,No,vc=Ye({},nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:um,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==No&&(No&&e.type==="mousemove"?(Qf=e.screenX-No.screenX,Gf=e.screenY-No.screenY):Gf=Qf=0,No=e),Qf)},movementY:function(e){return"movementY"in e?e.movementY:Gf}}),Vy=xn(vc),fC=Ye({},vc,{dataTransfer:0}),hC=xn(fC),dC=Ye({},nl,{relatedTarget:0}),Yf=xn(dC),pC=Ye({},ho,{animationName:0,elapsedTime:0,pseudoElement:0}),mC=xn(pC),gC=Ye({},ho,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yC=xn(gC),vC=Ye({},ho,{data:0}),by=xn(vC),_C={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wC[e])?!!t[e]:!1}function um(){return TC}var IC=Ye({},nl,{key:function(e){if(e.key){var t=_C[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=iu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?EC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:um,charCode:function(e){return e.type==="keypress"?iu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?iu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),SC=xn(IC),CC=Ye({},vc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ly=xn(CC),xC=Ye({},nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:um}),PC=xn(xC),RC=Ye({},ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),AC=xn(RC),kC=Ye({},vc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),DC=xn(kC),NC=[9,13,27,32],cm=wr&&"CompositionEvent"in window,Jo=null;wr&&"documentMode"in document&&(Jo=document.documentMode);var OC=wr&&"TextEvent"in window&&!Jo,Z0=wr&&(!cm||Jo&&8<Jo&&11>=Jo),My=" ",$y=!1;function eE(e,t){switch(e){case"keyup":return NC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Es=!1;function VC(e,t){switch(e){case"compositionend":return tE(t);case"keypress":return t.which!==32?null:($y=!0,My);case"textInput":return e=t.data,e===My&&$y?null:e;default:return null}}function bC(e,t){if(Es)return e==="compositionend"||!cm&&eE(e,t)?(e=J0(),ru=am=Ur=null,Es=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Z0&&t.locale!=="ko"?null:t.data;default:return null}}var LC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!LC[e.type]:t==="textarea"}function nE(e,t,n,r){O0(r),t=Iu(t,"onChange"),0<t.length&&(n=new lm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Zo=null,va=null;function MC(e){dE(e,0)}function _c(e){var t=Is(e);if(x0(t))return e}function $C(e,t){if(e==="change")return t}var rE=!1;if(wr){var Xf;if(wr){var Jf="oninput"in document;if(!Jf){var jy=document.createElement("div");jy.setAttribute("oninput","return;"),Jf=typeof jy.oninput=="function"}Xf=Jf}else Xf=!1;rE=Xf&&(!document.documentMode||9<document.documentMode)}function Uy(){Zo&&(Zo.detachEvent("onpropertychange",iE),va=Zo=null)}function iE(e){if(e.propertyName==="value"&&_c(va)){var t=[];nE(t,va,e,nm(e)),M0(MC,t)}}function FC(e,t,n){e==="focusin"?(Uy(),Zo=t,va=n,Zo.attachEvent("onpropertychange",iE)):e==="focusout"&&Uy()}function jC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _c(va)}function UC(e,t){if(e==="click")return _c(t)}function zC(e,t){if(e==="input"||e==="change")return _c(t)}function BC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gn=typeof Object.is=="function"?Object.is:BC;function _a(e,t){if(Gn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Fh.call(t,i)||!Gn(e[i],t[i]))return!1}return!0}function zy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function By(e,t){var n=zy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zy(n)}}function sE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function oE(){for(var e=window,t=gu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=gu(e.document)}return t}function fm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function WC(e){var t=oE(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sE(n.ownerDocument.documentElement,n)){if(r!==null&&fm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=By(n,s);var o=By(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var KC=wr&&"documentMode"in document&&11>=document.documentMode,ws=null,id=null,ea=null,sd=!1;function Wy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sd||ws==null||ws!==gu(r)||(r=ws,"selectionStart"in r&&fm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ea&&_a(ea,r)||(ea=r,r=Iu(id,"onSelect"),0<r.length&&(t=new lm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ws)))}function Ol(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ts={animationend:Ol("Animation","AnimationEnd"),animationiteration:Ol("Animation","AnimationIteration"),animationstart:Ol("Animation","AnimationStart"),transitionend:Ol("Transition","TransitionEnd")},Zf={},aE={};wr&&(aE=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function Ec(e){if(Zf[e])return Zf[e];if(!Ts[e])return e;var t=Ts[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in aE)return Zf[e]=t[n];return e}var lE=Ec("animationend"),uE=Ec("animationiteration"),cE=Ec("animationstart"),fE=Ec("transitionend"),hE=new Map,Ky="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fi(e,t){hE.set(e,t),es(t,[e])}for(var eh=0;eh<Ky.length;eh++){var th=Ky[eh],HC=th.toLowerCase(),qC=th[0].toUpperCase()+th.slice(1);fi(HC,"on"+qC)}fi(lE,"onAnimationEnd");fi(uE,"onAnimationIteration");fi(cE,"onAnimationStart");fi("dblclick","onDoubleClick");fi("focusin","onFocus");fi("focusout","onBlur");fi(fE,"onTransitionEnd");Ws("onMouseEnter",["mouseout","mouseover"]);Ws("onMouseLeave",["mouseout","mouseover"]);Ws("onPointerEnter",["pointerout","pointerover"]);Ws("onPointerLeave",["pointerout","pointerover"]);es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));es("onBeforeInput",["compositionend","keypress","textInput","paste"]);es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QC=new Set("cancel close invalid load scroll toggle".split(" ").concat(zo));function Hy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,HS(r,t,void 0,e),e.currentTarget=null}function dE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Hy(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Hy(i,a,u),s=l}}}if(vu)throw e=ed,vu=!1,ed=null,e}function Le(e,t){var n=t[cd];n===void 0&&(n=t[cd]=new Set);var r=e+"__bubble";n.has(r)||(pE(t,e,2,!1),n.add(r))}function nh(e,t,n){var r=0;t&&(r|=4),pE(n,e,r,t)}var Vl="_reactListening"+Math.random().toString(36).slice(2);function Ea(e){if(!e[Vl]){e[Vl]=!0,w0.forEach(function(n){n!=="selectionchange"&&(QC.has(n)||nh(n,!1,e),nh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vl]||(t[Vl]=!0,nh("selectionchange",!1,t))}}function pE(e,t,n,r){switch(X0(t)){case 1:var i=lC;break;case 4:i=uC;break;default:i=om}n=i.bind(null,t,n,e),i=void 0,!Zh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function rh(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Pi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}M0(function(){var u=s,c=nm(n),h=[];e:{var f=hE.get(e);if(f!==void 0){var d=lm,y=e;switch(e){case"keypress":if(iu(n)===0)break e;case"keydown":case"keyup":d=SC;break;case"focusin":y="focus",d=Yf;break;case"focusout":y="blur",d=Yf;break;case"beforeblur":case"afterblur":d=Yf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Vy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=hC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=PC;break;case lE:case uE:case cE:d=mC;break;case fE:d=AC;break;case"scroll":d=cC;break;case"wheel":d=DC;break;case"copy":case"cut":case"paste":d=yC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Ly}var v=(t&4)!==0,w=!v&&e==="scroll",m=v?f!==null?f+"Capture":null:f;v=[];for(var p=u,E;p!==null;){E=p;var T=E.stateNode;if(E.tag===5&&T!==null&&(E=T,m!==null&&(T=pa(p,m),T!=null&&v.push(wa(p,T,E)))),w)break;p=p.return}0<v.length&&(f=new d(f,y,null,n,c),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",f&&n!==Xh&&(y=n.relatedTarget||n.fromElement)&&(Pi(y)||y[Tr]))break e;if((d||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,d?(y=n.relatedTarget||n.toElement,d=u,y=y?Pi(y):null,y!==null&&(w=ts(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(d=null,y=u),d!==y)){if(v=Vy,T="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(v=Ly,T="onPointerLeave",m="onPointerEnter",p="pointer"),w=d==null?f:Is(d),E=y==null?f:Is(y),f=new v(T,p+"leave",d,n,c),f.target=w,f.relatedTarget=E,T=null,Pi(c)===u&&(v=new v(m,p+"enter",y,n,c),v.target=E,v.relatedTarget=w,T=v),w=T,d&&y)t:{for(v=d,m=y,p=0,E=v;E;E=fs(E))p++;for(E=0,T=m;T;T=fs(T))E++;for(;0<p-E;)v=fs(v),p--;for(;0<E-p;)m=fs(m),E--;for(;p--;){if(v===m||m!==null&&v===m.alternate)break t;v=fs(v),m=fs(m)}v=null}else v=null;d!==null&&qy(h,f,d,v,!1),y!==null&&w!==null&&qy(h,w,y,v,!0)}}e:{if(f=u?Is(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var P=$C;else if(Fy(f))if(rE)P=zC;else{P=jC;var C=FC}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(P=UC);if(P&&(P=P(e,u))){nE(h,P,n,c);break e}C&&C(e,f,u),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Hh(f,"number",f.value)}switch(C=u?Is(u):window,e){case"focusin":(Fy(C)||C.contentEditable==="true")&&(ws=C,id=u,ea=null);break;case"focusout":ea=id=ws=null;break;case"mousedown":sd=!0;break;case"contextmenu":case"mouseup":case"dragend":sd=!1,Wy(h,n,c);break;case"selectionchange":if(KC)break;case"keydown":case"keyup":Wy(h,n,c)}var k;if(cm)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Es?eE(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Z0&&n.locale!=="ko"&&(Es||N!=="onCompositionStart"?N==="onCompositionEnd"&&Es&&(k=J0()):(Ur=c,am="value"in Ur?Ur.value:Ur.textContent,Es=!0)),C=Iu(u,N),0<C.length&&(N=new by(N,e,null,n,c),h.push({event:N,listeners:C}),k?N.data=k:(k=tE(n),k!==null&&(N.data=k)))),(k=OC?VC(e,n):bC(e,n))&&(u=Iu(u,"onBeforeInput"),0<u.length&&(c=new by("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=k))}dE(h,t)})}function wa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Iu(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=pa(e,n),s!=null&&r.unshift(wa(e,s,i)),s=pa(e,t),s!=null&&r.push(wa(e,s,i))),e=e.return}return r}function fs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qy(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=pa(n,s),l!=null&&o.unshift(wa(n,l,a))):i||(l=pa(n,s),l!=null&&o.push(wa(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var GC=/\r\n?/g,YC=/\u0000|\uFFFD/g;function Qy(e){return(typeof e=="string"?e:""+e).replace(GC,`
`).replace(YC,"")}function bl(e,t,n){if(t=Qy(t),Qy(e)!==t&&n)throw Error(D(425))}function Su(){}var od=null,ad=null;function ld(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ud=typeof setTimeout=="function"?setTimeout:void 0,XC=typeof clearTimeout=="function"?clearTimeout:void 0,Gy=typeof Promise=="function"?Promise:void 0,JC=typeof queueMicrotask=="function"?queueMicrotask:typeof Gy<"u"?function(e){return Gy.resolve(null).then(e).catch(ZC)}:ud;function ZC(e){setTimeout(function(){throw e})}function ih(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ya(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ya(t)}function Qr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var po=Math.random().toString(36).slice(2),nr="__reactFiber$"+po,Ta="__reactProps$"+po,Tr="__reactContainer$"+po,cd="__reactEvents$"+po,ex="__reactListeners$"+po,tx="__reactHandles$"+po;function Pi(e){var t=e[nr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Tr]||n[nr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Yy(e);e!==null;){if(n=e[nr])return n;e=Yy(e)}return t}e=n,n=e.parentNode}return null}function rl(e){return e=e[nr]||e[Tr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Is(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function wc(e){return e[Ta]||null}var fd=[],Ss=-1;function hi(e){return{current:e}}function Fe(e){0>Ss||(e.current=fd[Ss],fd[Ss]=null,Ss--)}function Ve(e,t){Ss++,fd[Ss]=e.current,e.current=t}var ii={},Ut=hi(ii),an=hi(!1),$i=ii;function Ks(e,t){var n=e.type.contextTypes;if(!n)return ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ln(e){return e=e.childContextTypes,e!=null}function Cu(){Fe(an),Fe(Ut)}function Xy(e,t,n){if(Ut.current!==ii)throw Error(D(168));Ve(Ut,t),Ve(an,n)}function mE(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(D(108,FS(e)||"Unknown",i));return Ye({},n,r)}function xu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ii,$i=Ut.current,Ve(Ut,e),Ve(an,an.current),!0}function Jy(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=mE(e,t,$i),r.__reactInternalMemoizedMergedChildContext=e,Fe(an),Fe(Ut),Ve(Ut,e)):Fe(an),Ve(an,n)}var mr=null,Tc=!1,sh=!1;function gE(e){mr===null?mr=[e]:mr.push(e)}function nx(e){Tc=!0,gE(e)}function di(){if(!sh&&mr!==null){sh=!0;var e=0,t=Se;try{var n=mr;for(Se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}mr=null,Tc=!1}catch(i){throw mr!==null&&(mr=mr.slice(e+1)),U0(rm,di),i}finally{Se=t,sh=!1}}return null}var Cs=[],xs=0,Pu=null,Ru=0,kn=[],Dn=0,Fi=null,gr=1,yr="";function Ii(e,t){Cs[xs++]=Ru,Cs[xs++]=Pu,Pu=e,Ru=t}function yE(e,t,n){kn[Dn++]=gr,kn[Dn++]=yr,kn[Dn++]=Fi,Fi=e;var r=gr;e=yr;var i=32-Hn(r)-1;r&=~(1<<i),n+=1;var s=32-Hn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,gr=1<<32-Hn(t)+i|n<<i|r,yr=s+e}else gr=1<<s|n<<i|r,yr=e}function hm(e){e.return!==null&&(Ii(e,1),yE(e,1,0))}function dm(e){for(;e===Pu;)Pu=Cs[--xs],Cs[xs]=null,Ru=Cs[--xs],Cs[xs]=null;for(;e===Fi;)Fi=kn[--Dn],kn[Dn]=null,yr=kn[--Dn],kn[Dn]=null,gr=kn[--Dn],kn[Dn]=null}var En=null,yn=null,He=!1,Kn=null;function vE(e,t){var n=On(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Zy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,En=e,yn=Qr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,En=e,yn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Fi!==null?{id:gr,overflow:yr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=On(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,En=e,yn=null,!0):!1;default:return!1}}function hd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dd(e){if(He){var t=yn;if(t){var n=t;if(!Zy(e,t)){if(hd(e))throw Error(D(418));t=Qr(n.nextSibling);var r=En;t&&Zy(e,t)?vE(r,n):(e.flags=e.flags&-4097|2,He=!1,En=e)}}else{if(hd(e))throw Error(D(418));e.flags=e.flags&-4097|2,He=!1,En=e}}}function ev(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;En=e}function Ll(e){if(e!==En)return!1;if(!He)return ev(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ld(e.type,e.memoizedProps)),t&&(t=yn)){if(hd(e))throw _E(),Error(D(418));for(;t;)vE(e,t),t=Qr(t.nextSibling)}if(ev(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){yn=Qr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}yn=null}}else yn=En?Qr(e.stateNode.nextSibling):null;return!0}function _E(){for(var e=yn;e;)e=Qr(e.nextSibling)}function Hs(){yn=En=null,He=!1}function pm(e){Kn===null?Kn=[e]:Kn.push(e)}var rx=Rr.ReactCurrentBatchConfig;function Bn(e,t){if(e&&e.defaultProps){t=Ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Au=hi(null),ku=null,Ps=null,mm=null;function gm(){mm=Ps=ku=null}function ym(e){var t=Au.current;Fe(Au),e._currentValue=t}function pd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $s(e,t){ku=e,mm=Ps=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(on=!0),e.firstContext=null)}function Ln(e){var t=e._currentValue;if(mm!==e)if(e={context:e,memoizedValue:t,next:null},Ps===null){if(ku===null)throw Error(D(308));Ps=e,ku.dependencies={lanes:0,firstContext:e}}else Ps=Ps.next=e;return t}var Ri=null;function vm(e){Ri===null?Ri=[e]:Ri.push(e)}function EE(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,vm(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ir(e,r)}function Ir(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Lr=!1;function _m(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _r(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ir(e,n)}return i=r.interleaved,i===null?(t.next=t,vm(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ir(e,n)}function su(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,im(e,n)}}function tv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Du(e,t,n,r){var i=e.updateQueue;Lr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,d=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,v=a;switch(f=t,d=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){h=y.call(d,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,f=typeof y=="function"?y.call(d,h,f):y,f==null)break e;h=Ye({},h,f);break e;case 2:Lr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=d,l=h):c=c.next=d,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Ui|=o,e.lanes=o,e.memoizedState=h}}function nv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(D(191,i));i.call(r)}}}var TE=new E0.Component().refs;function md(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ic={isMounted:function(e){return(e=e._reactInternals)?ts(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xt(),i=Xr(e),s=_r(r,i);s.payload=t,n!=null&&(s.callback=n),t=Gr(e,s,i),t!==null&&(qn(t,e,i,r),su(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xt(),i=Xr(e),s=_r(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Gr(e,s,i),t!==null&&(qn(t,e,i,r),su(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xt(),r=Xr(e),i=_r(n,r);i.tag=2,t!=null&&(i.callback=t),t=Gr(e,i,r),t!==null&&(qn(t,e,r,n),su(t,e,r))}};function rv(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!_a(n,r)||!_a(i,s):!0}function IE(e,t,n){var r=!1,i=ii,s=t.contextType;return typeof s=="object"&&s!==null?s=Ln(s):(i=ln(t)?$i:Ut.current,r=t.contextTypes,s=(r=r!=null)?Ks(e,i):ii),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ic,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function iv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ic.enqueueReplaceState(t,t.state,null)}function gd(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=TE,_m(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Ln(s):(s=ln(t)?$i:Ut.current,i.context=Ks(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(md(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ic.enqueueReplaceState(i,i.state,null),Du(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Oo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===TE&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function Ml(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sv(e){var t=e._init;return t(e._payload)}function SE(e){function t(m,p){if(e){var E=m.deletions;E===null?(m.deletions=[p],m.flags|=16):E.push(p)}}function n(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=Jr(m,p),m.index=0,m.sibling=null,m}function s(m,p,E){return m.index=E,e?(E=m.alternate,E!==null?(E=E.index,E<p?(m.flags|=2,p):E):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,p,E,T){return p===null||p.tag!==6?(p=hh(E,m.mode,T),p.return=m,p):(p=i(p,E),p.return=m,p)}function l(m,p,E,T){var P=E.type;return P===_s?c(m,p,E.props.children,T,E.key):p!==null&&(p.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===br&&sv(P)===p.type)?(T=i(p,E.props),T.ref=Oo(m,p,E),T.return=m,T):(T=fu(E.type,E.key,E.props,null,m.mode,T),T.ref=Oo(m,p,E),T.return=m,T)}function u(m,p,E,T){return p===null||p.tag!==4||p.stateNode.containerInfo!==E.containerInfo||p.stateNode.implementation!==E.implementation?(p=dh(E,m.mode,T),p.return=m,p):(p=i(p,E.children||[]),p.return=m,p)}function c(m,p,E,T,P){return p===null||p.tag!==7?(p=Vi(E,m.mode,T,P),p.return=m,p):(p=i(p,E),p.return=m,p)}function h(m,p,E){if(typeof p=="string"&&p!==""||typeof p=="number")return p=hh(""+p,m.mode,E),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case xl:return E=fu(p.type,p.key,p.props,null,m.mode,E),E.ref=Oo(m,null,p),E.return=m,E;case vs:return p=dh(p,m.mode,E),p.return=m,p;case br:var T=p._init;return h(m,T(p._payload),E)}if(jo(p)||Ro(p))return p=Vi(p,m.mode,E,null),p.return=m,p;Ml(m,p)}return null}function f(m,p,E,T){var P=p!==null?p.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return P!==null?null:a(m,p,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case xl:return E.key===P?l(m,p,E,T):null;case vs:return E.key===P?u(m,p,E,T):null;case br:return P=E._init,f(m,p,P(E._payload),T)}if(jo(E)||Ro(E))return P!==null?null:c(m,p,E,T,null);Ml(m,E)}return null}function d(m,p,E,T,P){if(typeof T=="string"&&T!==""||typeof T=="number")return m=m.get(E)||null,a(p,m,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case xl:return m=m.get(T.key===null?E:T.key)||null,l(p,m,T,P);case vs:return m=m.get(T.key===null?E:T.key)||null,u(p,m,T,P);case br:var C=T._init;return d(m,p,E,C(T._payload),P)}if(jo(T)||Ro(T))return m=m.get(E)||null,c(p,m,T,P,null);Ml(p,T)}return null}function y(m,p,E,T){for(var P=null,C=null,k=p,N=p=0,H=null;k!==null&&N<E.length;N++){k.index>N?(H=k,k=null):H=k.sibling;var V=f(m,k,E[N],T);if(V===null){k===null&&(k=H);break}e&&k&&V.alternate===null&&t(m,k),p=s(V,p,N),C===null?P=V:C.sibling=V,C=V,k=H}if(N===E.length)return n(m,k),He&&Ii(m,N),P;if(k===null){for(;N<E.length;N++)k=h(m,E[N],T),k!==null&&(p=s(k,p,N),C===null?P=k:C.sibling=k,C=k);return He&&Ii(m,N),P}for(k=r(m,k);N<E.length;N++)H=d(k,m,N,E[N],T),H!==null&&(e&&H.alternate!==null&&k.delete(H.key===null?N:H.key),p=s(H,p,N),C===null?P=H:C.sibling=H,C=H);return e&&k.forEach(function(_e){return t(m,_e)}),He&&Ii(m,N),P}function v(m,p,E,T){var P=Ro(E);if(typeof P!="function")throw Error(D(150));if(E=P.call(E),E==null)throw Error(D(151));for(var C=P=null,k=p,N=p=0,H=null,V=E.next();k!==null&&!V.done;N++,V=E.next()){k.index>N?(H=k,k=null):H=k.sibling;var _e=f(m,k,V.value,T);if(_e===null){k===null&&(k=H);break}e&&k&&_e.alternate===null&&t(m,k),p=s(_e,p,N),C===null?P=_e:C.sibling=_e,C=_e,k=H}if(V.done)return n(m,k),He&&Ii(m,N),P;if(k===null){for(;!V.done;N++,V=E.next())V=h(m,V.value,T),V!==null&&(p=s(V,p,N),C===null?P=V:C.sibling=V,C=V);return He&&Ii(m,N),P}for(k=r(m,k);!V.done;N++,V=E.next())V=d(k,m,N,V.value,T),V!==null&&(e&&V.alternate!==null&&k.delete(V.key===null?N:V.key),p=s(V,p,N),C===null?P=V:C.sibling=V,C=V);return e&&k.forEach(function(ne){return t(m,ne)}),He&&Ii(m,N),P}function w(m,p,E,T){if(typeof E=="object"&&E!==null&&E.type===_s&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case xl:e:{for(var P=E.key,C=p;C!==null;){if(C.key===P){if(P=E.type,P===_s){if(C.tag===7){n(m,C.sibling),p=i(C,E.props.children),p.return=m,m=p;break e}}else if(C.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===br&&sv(P)===C.type){n(m,C.sibling),p=i(C,E.props),p.ref=Oo(m,C,E),p.return=m,m=p;break e}n(m,C);break}else t(m,C);C=C.sibling}E.type===_s?(p=Vi(E.props.children,m.mode,T,E.key),p.return=m,m=p):(T=fu(E.type,E.key,E.props,null,m.mode,T),T.ref=Oo(m,p,E),T.return=m,m=T)}return o(m);case vs:e:{for(C=E.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===E.containerInfo&&p.stateNode.implementation===E.implementation){n(m,p.sibling),p=i(p,E.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else t(m,p);p=p.sibling}p=dh(E,m.mode,T),p.return=m,m=p}return o(m);case br:return C=E._init,w(m,p,C(E._payload),T)}if(jo(E))return y(m,p,E,T);if(Ro(E))return v(m,p,E,T);Ml(m,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,E),p.return=m,m=p):(n(m,p),p=hh(E,m.mode,T),p.return=m,m=p),o(m)):n(m,p)}return w}var qs=SE(!0),CE=SE(!1),il={},ar=hi(il),Ia=hi(il),Sa=hi(il);function Ai(e){if(e===il)throw Error(D(174));return e}function Em(e,t){switch(Ve(Sa,t),Ve(Ia,e),Ve(ar,il),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qh(t,e)}Fe(ar),Ve(ar,t)}function Qs(){Fe(ar),Fe(Ia),Fe(Sa)}function xE(e){Ai(Sa.current);var t=Ai(ar.current),n=Qh(t,e.type);t!==n&&(Ve(Ia,e),Ve(ar,n))}function wm(e){Ia.current===e&&(Fe(ar),Fe(Ia))}var Qe=hi(0);function Nu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var oh=[];function Tm(){for(var e=0;e<oh.length;e++)oh[e]._workInProgressVersionPrimary=null;oh.length=0}var ou=Rr.ReactCurrentDispatcher,ah=Rr.ReactCurrentBatchConfig,ji=0,Ge=null,pt=null,_t=null,Ou=!1,ta=!1,Ca=0,ix=0;function Ot(){throw Error(D(321))}function Im(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gn(e[n],t[n]))return!1;return!0}function Sm(e,t,n,r,i,s){if(ji=s,Ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ou.current=e===null||e.memoizedState===null?lx:ux,e=n(r,i),ta){s=0;do{if(ta=!1,Ca=0,25<=s)throw Error(D(301));s+=1,_t=pt=null,t.updateQueue=null,ou.current=cx,e=n(r,i)}while(ta)}if(ou.current=Vu,t=pt!==null&&pt.next!==null,ji=0,_t=pt=Ge=null,Ou=!1,t)throw Error(D(300));return e}function Cm(){var e=Ca!==0;return Ca=0,e}function tr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ge.memoizedState=_t=e:_t=_t.next=e,_t}function Mn(){if(pt===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=_t===null?Ge.memoizedState:_t.next;if(t!==null)_t=t,pt=e;else{if(e===null)throw Error(D(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},_t===null?Ge.memoizedState=_t=e:_t=_t.next=e}return _t}function xa(e,t){return typeof t=="function"?t(e):t}function lh(e){var t=Mn(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=pt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((ji&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ge.lanes|=c,Ui|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Gn(r,t.memoizedState)||(on=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Ge.lanes|=s,Ui|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function uh(e){var t=Mn(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Gn(s,t.memoizedState)||(on=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function PE(){}function RE(e,t){var n=Ge,r=Mn(),i=t(),s=!Gn(r.memoizedState,i);if(s&&(r.memoizedState=i,on=!0),r=r.queue,xm(DE.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||_t!==null&&_t.memoizedState.tag&1){if(n.flags|=2048,Pa(9,kE.bind(null,n,r,i,t),void 0,null),Et===null)throw Error(D(349));ji&30||AE(n,t,i)}return i}function AE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function kE(e,t,n,r){t.value=n,t.getSnapshot=r,NE(t)&&OE(e)}function DE(e,t,n){return n(function(){NE(t)&&OE(e)})}function NE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gn(e,n)}catch{return!0}}function OE(e){var t=Ir(e,1);t!==null&&qn(t,e,1,-1)}function ov(e){var t=tr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=ax.bind(null,Ge,e),[t.memoizedState,e]}function Pa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function VE(){return Mn().memoizedState}function au(e,t,n,r){var i=tr();Ge.flags|=e,i.memoizedState=Pa(1|t,n,void 0,r===void 0?null:r)}function Sc(e,t,n,r){var i=Mn();r=r===void 0?null:r;var s=void 0;if(pt!==null){var o=pt.memoizedState;if(s=o.destroy,r!==null&&Im(r,o.deps)){i.memoizedState=Pa(t,n,s,r);return}}Ge.flags|=e,i.memoizedState=Pa(1|t,n,s,r)}function av(e,t){return au(8390656,8,e,t)}function xm(e,t){return Sc(2048,8,e,t)}function bE(e,t){return Sc(4,2,e,t)}function LE(e,t){return Sc(4,4,e,t)}function ME(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $E(e,t,n){return n=n!=null?n.concat([e]):null,Sc(4,4,ME.bind(null,t,e),n)}function Pm(){}function FE(e,t){var n=Mn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Im(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function jE(e,t){var n=Mn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Im(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function UE(e,t,n){return ji&21?(Gn(n,t)||(n=W0(),Ge.lanes|=n,Ui|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,on=!0),e.memoizedState=n)}function sx(e,t){var n=Se;Se=n!==0&&4>n?n:4,e(!0);var r=ah.transition;ah.transition={};try{e(!1),t()}finally{Se=n,ah.transition=r}}function zE(){return Mn().memoizedState}function ox(e,t,n){var r=Xr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},BE(e))WE(t,n);else if(n=EE(e,t,n,r),n!==null){var i=Xt();qn(n,e,r,i),KE(n,t,r)}}function ax(e,t,n){var r=Xr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(BE(e))WE(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Gn(a,o)){var l=t.interleaved;l===null?(i.next=i,vm(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=EE(e,t,i,r),n!==null&&(i=Xt(),qn(n,e,r,i),KE(n,t,r))}}function BE(e){var t=e.alternate;return e===Ge||t!==null&&t===Ge}function WE(e,t){ta=Ou=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function KE(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,im(e,n)}}var Vu={readContext:Ln,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},lx={readContext:Ln,useCallback:function(e,t){return tr().memoizedState=[e,t===void 0?null:t],e},useContext:Ln,useEffect:av,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,au(4194308,4,ME.bind(null,t,e),n)},useLayoutEffect:function(e,t){return au(4194308,4,e,t)},useInsertionEffect:function(e,t){return au(4,2,e,t)},useMemo:function(e,t){var n=tr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=tr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ox.bind(null,Ge,e),[r.memoizedState,e]},useRef:function(e){var t=tr();return e={current:e},t.memoizedState=e},useState:ov,useDebugValue:Pm,useDeferredValue:function(e){return tr().memoizedState=e},useTransition:function(){var e=ov(!1),t=e[0];return e=sx.bind(null,e[1]),tr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ge,i=tr();if(He){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),Et===null)throw Error(D(349));ji&30||AE(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,av(DE.bind(null,r,s,e),[e]),r.flags|=2048,Pa(9,kE.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=tr(),t=Et.identifierPrefix;if(He){var n=yr,r=gr;n=(r&~(1<<32-Hn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ca++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ix++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ux={readContext:Ln,useCallback:FE,useContext:Ln,useEffect:xm,useImperativeHandle:$E,useInsertionEffect:bE,useLayoutEffect:LE,useMemo:jE,useReducer:lh,useRef:VE,useState:function(){return lh(xa)},useDebugValue:Pm,useDeferredValue:function(e){var t=Mn();return UE(t,pt.memoizedState,e)},useTransition:function(){var e=lh(xa)[0],t=Mn().memoizedState;return[e,t]},useMutableSource:PE,useSyncExternalStore:RE,useId:zE,unstable_isNewReconciler:!1},cx={readContext:Ln,useCallback:FE,useContext:Ln,useEffect:xm,useImperativeHandle:$E,useInsertionEffect:bE,useLayoutEffect:LE,useMemo:jE,useReducer:uh,useRef:VE,useState:function(){return uh(xa)},useDebugValue:Pm,useDeferredValue:function(e){var t=Mn();return pt===null?t.memoizedState=e:UE(t,pt.memoizedState,e)},useTransition:function(){var e=uh(xa)[0],t=Mn().memoizedState;return[e,t]},useMutableSource:PE,useSyncExternalStore:RE,useId:zE,unstable_isNewReconciler:!1};function Gs(e,t){try{var n="",r=t;do n+=$S(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function ch(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function yd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fx=typeof WeakMap=="function"?WeakMap:Map;function HE(e,t,n){n=_r(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Lu||(Lu=!0,Pd=r),yd(e,t)},n}function qE(e,t,n){n=_r(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){yd(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){yd(e,t),typeof r!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function lv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new fx;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cx.bind(null,e,t,n),t.then(e,e))}function uv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cv(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_r(-1,1),t.tag=2,Gr(n,t,1))),n.lanes|=1),e)}var hx=Rr.ReactCurrentOwner,on=!1;function Gt(e,t,n,r){t.child=e===null?CE(t,null,n,r):qs(t,e.child,n,r)}function fv(e,t,n,r,i){n=n.render;var s=t.ref;return $s(t,i),r=Sm(e,t,n,r,s,i),n=Cm(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Sr(e,t,i)):(He&&n&&hm(t),t.flags|=1,Gt(e,t,r,i),t.child)}function hv(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!bm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,QE(e,t,s,r,i)):(e=fu(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:_a,n(o,r)&&e.ref===t.ref)return Sr(e,t,i)}return t.flags|=1,e=Jr(s,r),e.ref=t.ref,e.return=t,t.child=e}function QE(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(_a(s,r)&&e.ref===t.ref)if(on=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(on=!0);else return t.lanes=e.lanes,Sr(e,t,i)}return vd(e,t,n,r,i)}function GE(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(As,mn),mn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ve(As,mn),mn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ve(As,mn),mn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ve(As,mn),mn|=r;return Gt(e,t,i,n),t.child}function YE(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function vd(e,t,n,r,i){var s=ln(n)?$i:Ut.current;return s=Ks(t,s),$s(t,i),n=Sm(e,t,n,r,s,i),r=Cm(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Sr(e,t,i)):(He&&r&&hm(t),t.flags|=1,Gt(e,t,n,i),t.child)}function dv(e,t,n,r,i){if(ln(n)){var s=!0;xu(t)}else s=!1;if($s(t,i),t.stateNode===null)lu(e,t),IE(t,n,r),gd(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ln(u):(u=ln(n)?$i:Ut.current,u=Ks(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&iv(t,o,r,u),Lr=!1;var f=t.memoizedState;o.state=f,Du(t,r,o,i),l=t.memoizedState,a!==r||f!==l||an.current||Lr?(typeof c=="function"&&(md(t,n,c,r),l=t.memoizedState),(a=Lr||rv(t,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,wE(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Bn(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ln(l):(l=ln(n)?$i:Ut.current,l=Ks(t,l));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&iv(t,o,r,l),Lr=!1,f=t.memoizedState,o.state=f,Du(t,r,o,i);var y=t.memoizedState;a!==h||f!==y||an.current||Lr?(typeof d=="function"&&(md(t,n,d,r),y=t.memoizedState),(u=Lr||rv(t,n,u,r,f,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return _d(e,t,n,r,s,i)}function _d(e,t,n,r,i,s){YE(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Jy(t,n,!1),Sr(e,t,s);r=t.stateNode,hx.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=qs(t,e.child,null,s),t.child=qs(t,null,a,s)):Gt(e,t,a,s),t.memoizedState=r.state,i&&Jy(t,n,!0),t.child}function XE(e){var t=e.stateNode;t.pendingContext?Xy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xy(e,t.context,!1),Em(e,t.containerInfo)}function pv(e,t,n,r,i){return Hs(),pm(i),t.flags|=256,Gt(e,t,n,r),t.child}var Ed={dehydrated:null,treeContext:null,retryLane:0};function wd(e){return{baseLanes:e,cachePool:null,transitions:null}}function JE(e,t,n){var r=t.pendingProps,i=Qe.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ve(Qe,i&1),e===null)return dd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Pc(o,r,0,null),e=Vi(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=wd(n),t.memoizedState=Ed,e):Rm(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return dx(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Jr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Jr(a,s):(s=Vi(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?wd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Ed,r}return s=e.child,e=s.sibling,r=Jr(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Rm(e,t){return t=Pc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $l(e,t,n,r){return r!==null&&pm(r),qs(t,e.child,null,n),e=Rm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dx(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=ch(Error(D(422))),$l(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Pc({mode:"visible",children:r.children},i,0,null),s=Vi(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&qs(t,e.child,null,o),t.child.memoizedState=wd(o),t.memoizedState=Ed,s);if(!(t.mode&1))return $l(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(D(419)),r=ch(s,r,void 0),$l(e,t,o,r)}if(a=(o&e.childLanes)!==0,on||a){if(r=Et,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ir(e,i),qn(r,e,i,-1))}return Vm(),r=ch(Error(D(421))),$l(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=xx.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,yn=Qr(i.nextSibling),En=t,He=!0,Kn=null,e!==null&&(kn[Dn++]=gr,kn[Dn++]=yr,kn[Dn++]=Fi,gr=e.id,yr=e.overflow,Fi=t),t=Rm(t,r.children),t.flags|=4096,t)}function mv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),pd(e.return,t,n)}function fh(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ZE(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Gt(e,t,r.children,n),r=Qe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mv(e,n,t);else if(e.tag===19)mv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ve(Qe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Nu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),fh(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Nu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}fh(t,!0,n,null,s);break;case"together":fh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function lu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ui|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=Jr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function px(e,t,n){switch(t.tag){case 3:XE(t),Hs();break;case 5:xE(t);break;case 1:ln(t.type)&&xu(t);break;case 4:Em(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ve(Au,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ve(Qe,Qe.current&1),t.flags|=128,null):n&t.child.childLanes?JE(e,t,n):(Ve(Qe,Qe.current&1),e=Sr(e,t,n),e!==null?e.sibling:null);Ve(Qe,Qe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ZE(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(Qe,Qe.current),r)break;return null;case 22:case 23:return t.lanes=0,GE(e,t,n)}return Sr(e,t,n)}var ew,Td,tw,nw;ew=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Td=function(){};tw=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ai(ar.current);var s=null;switch(n){case"input":i=Wh(e,i),r=Wh(e,r),s=[];break;case"select":i=Ye({},i,{value:void 0}),r=Ye({},r,{value:void 0}),s=[];break;case"textarea":i=qh(e,i),r=qh(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Su)}Gh(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ha.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ha.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Le("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};nw=function(e,t,n,r){n!==r&&(t.flags|=4)};function Vo(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function mx(e,t,n){var r=t.pendingProps;switch(dm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(t),null;case 1:return ln(t.type)&&Cu(),Vt(t),null;case 3:return r=t.stateNode,Qs(),Fe(an),Fe(Ut),Tm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ll(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Kn!==null&&(kd(Kn),Kn=null))),Td(e,t),Vt(t),null;case 5:wm(t);var i=Ai(Sa.current);if(n=t.type,e!==null&&t.stateNode!=null)tw(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return Vt(t),null}if(e=Ai(ar.current),Ll(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[nr]=t,r[Ta]=s,e=(t.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(i=0;i<zo.length;i++)Le(zo[i],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Sy(r,s),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Le("invalid",r);break;case"textarea":xy(r,s),Le("invalid",r)}Gh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&bl(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&bl(r.textContent,a,e),i=["children",""+a]):ha.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Le("scroll",r)}switch(n){case"input":Pl(r),Cy(r,s,!0);break;case"textarea":Pl(r),Py(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Su)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=A0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[nr]=t,e[Ta]=r,ew(e,t,!1,!1),t.stateNode=e;e:{switch(o=Yh(n,r),n){case"dialog":Le("cancel",e),Le("close",e),i=r;break;case"iframe":case"object":case"embed":Le("load",e),i=r;break;case"video":case"audio":for(i=0;i<zo.length;i++)Le(zo[i],e);i=r;break;case"source":Le("error",e),i=r;break;case"img":case"image":case"link":Le("error",e),Le("load",e),i=r;break;case"details":Le("toggle",e),i=r;break;case"input":Sy(e,r),i=Wh(e,r),Le("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ye({},r,{value:void 0}),Le("invalid",e);break;case"textarea":xy(e,r),i=qh(e,r),Le("invalid",e);break;default:i=r}Gh(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?N0(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&k0(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&da(e,l):typeof l=="number"&&da(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ha.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Le("scroll",e):l!=null&&Jp(e,s,l,o))}switch(n){case"input":Pl(e),Cy(e,r,!1);break;case"textarea":Pl(e),Py(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ri(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Vs(e,!!r.multiple,s,!1):r.defaultValue!=null&&Vs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Su)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Vt(t),null;case 6:if(e&&t.stateNode!=null)nw(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=Ai(Sa.current),Ai(ar.current),Ll(t)){if(r=t.stateNode,n=t.memoizedProps,r[nr]=t,(s=r.nodeValue!==n)&&(e=En,e!==null))switch(e.tag){case 3:bl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bl(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[nr]=t,t.stateNode=r}return Vt(t),null;case 13:if(Fe(Qe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&yn!==null&&t.mode&1&&!(t.flags&128))_E(),Hs(),t.flags|=98560,s=!1;else if(s=Ll(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(D(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(D(317));s[nr]=t}else Hs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vt(t),s=!1}else Kn!==null&&(kd(Kn),Kn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Qe.current&1?mt===0&&(mt=3):Vm())),t.updateQueue!==null&&(t.flags|=4),Vt(t),null);case 4:return Qs(),Td(e,t),e===null&&Ea(t.stateNode.containerInfo),Vt(t),null;case 10:return ym(t.type._context),Vt(t),null;case 17:return ln(t.type)&&Cu(),Vt(t),null;case 19:if(Fe(Qe),s=t.memoizedState,s===null)return Vt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Vo(s,!1);else{if(mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Nu(e),o!==null){for(t.flags|=128,Vo(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ve(Qe,Qe.current&1|2),t.child}e=e.sibling}s.tail!==null&&nt()>Ys&&(t.flags|=128,r=!0,Vo(s,!1),t.lanes=4194304)}else{if(!r)if(e=Nu(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Vo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!He)return Vt(t),null}else 2*nt()-s.renderingStartTime>Ys&&n!==1073741824&&(t.flags|=128,r=!0,Vo(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=nt(),t.sibling=null,n=Qe.current,Ve(Qe,r?n&1|2:n&1),t):(Vt(t),null);case 22:case 23:return Om(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?mn&1073741824&&(Vt(t),t.subtreeFlags&6&&(t.flags|=8192)):Vt(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function gx(e,t){switch(dm(t),t.tag){case 1:return ln(t.type)&&Cu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qs(),Fe(an),Fe(Ut),Tm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wm(t),null;case 13:if(Fe(Qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));Hs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fe(Qe),null;case 4:return Qs(),null;case 10:return ym(t.type._context),null;case 22:case 23:return Om(),null;case 24:return null;default:return null}}var Fl=!1,Mt=!1,yx=typeof WeakSet=="function"?WeakSet:Set,b=null;function Rs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(e,t,r)}else n.current=null}function Id(e,t,n){try{n()}catch(r){Ze(e,t,r)}}var gv=!1;function vx(e,t){if(od=wu,e=oE(),fm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=e,f=null;t:for(;;){for(var d;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===e)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ad={focusedElem:e,selectionRange:n},wu=!1,b=t;b!==null;)if(t=b,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,b=e;else for(;b!==null;){t=b;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,w=y.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:Bn(t.type,v),w);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(T){Ze(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,b=e;break}b=t.return}return y=gv,gv=!1,y}function na(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Id(t,n,s)}i=i.next}while(i!==r)}}function Cc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Sd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function rw(e){var t=e.alternate;t!==null&&(e.alternate=null,rw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nr],delete t[Ta],delete t[cd],delete t[ex],delete t[tx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function iw(e){return e.tag===5||e.tag===3||e.tag===4}function yv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||iw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Su));else if(r!==4&&(e=e.child,e!==null))for(Cd(e,t,n),e=e.sibling;e!==null;)Cd(e,t,n),e=e.sibling}function xd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(xd(e,t,n),e=e.sibling;e!==null;)xd(e,t,n),e=e.sibling}var St=null,Wn=!1;function Or(e,t,n){for(n=n.child;n!==null;)sw(e,t,n),n=n.sibling}function sw(e,t,n){if(or&&typeof or.onCommitFiberUnmount=="function")try{or.onCommitFiberUnmount(yc,n)}catch{}switch(n.tag){case 5:Mt||Rs(n,t);case 6:var r=St,i=Wn;St=null,Or(e,t,n),St=r,Wn=i,St!==null&&(Wn?(e=St,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(Wn?(e=St,n=n.stateNode,e.nodeType===8?ih(e.parentNode,n):e.nodeType===1&&ih(e,n),ya(e)):ih(St,n.stateNode));break;case 4:r=St,i=Wn,St=n.stateNode.containerInfo,Wn=!0,Or(e,t,n),St=r,Wn=i;break;case 0:case 11:case 14:case 15:if(!Mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Id(n,t,o),i=i.next}while(i!==r)}Or(e,t,n);break;case 1:if(!Mt&&(Rs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ze(n,t,a)}Or(e,t,n);break;case 21:Or(e,t,n);break;case 22:n.mode&1?(Mt=(r=Mt)||n.memoizedState!==null,Or(e,t,n),Mt=r):Or(e,t,n);break;default:Or(e,t,n)}}function vv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new yx),t.forEach(function(r){var i=Px.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function zn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:St=a.stateNode,Wn=!1;break e;case 3:St=a.stateNode.containerInfo,Wn=!0;break e;case 4:St=a.stateNode.containerInfo,Wn=!0;break e}a=a.return}if(St===null)throw Error(D(160));sw(s,o,i),St=null,Wn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ze(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ow(t,e),t=t.sibling}function ow(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zn(t,e),er(e),r&4){try{na(3,e,e.return),Cc(3,e)}catch(v){Ze(e,e.return,v)}try{na(5,e,e.return)}catch(v){Ze(e,e.return,v)}}break;case 1:zn(t,e),er(e),r&512&&n!==null&&Rs(n,n.return);break;case 5:if(zn(t,e),er(e),r&512&&n!==null&&Rs(n,n.return),e.flags&32){var i=e.stateNode;try{da(i,"")}catch(v){Ze(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&P0(i,s),Yh(a,o);var u=Yh(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?N0(i,h):c==="dangerouslySetInnerHTML"?k0(i,h):c==="children"?da(i,h):Jp(i,c,h,u)}switch(a){case"input":Kh(i,s);break;case"textarea":R0(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?Vs(i,!!s.multiple,d,!1):f!==!!s.multiple&&(s.defaultValue!=null?Vs(i,!!s.multiple,s.defaultValue,!0):Vs(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ta]=s}catch(v){Ze(e,e.return,v)}}break;case 6:if(zn(t,e),er(e),r&4){if(e.stateNode===null)throw Error(D(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(v){Ze(e,e.return,v)}}break;case 3:if(zn(t,e),er(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ya(t.containerInfo)}catch(v){Ze(e,e.return,v)}break;case 4:zn(t,e),er(e);break;case 13:zn(t,e),er(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Dm=nt())),r&4&&vv(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Mt=(u=Mt)||c,zn(t,e),Mt=u):zn(t,e),er(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(b=e,c=e.child;c!==null;){for(h=b=c;b!==null;){switch(f=b,d=f.child,f.tag){case 0:case 11:case 14:case 15:na(4,f,f.return);break;case 1:Rs(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){Ze(r,n,v)}}break;case 5:Rs(f,f.return);break;case 22:if(f.memoizedState!==null){Ev(h);continue}}d!==null?(d.return=f,b=d):Ev(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=D0("display",o))}catch(v){Ze(e,e.return,v)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Ze(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:zn(t,e),er(e),r&4&&vv(e);break;case 21:break;default:zn(t,e),er(e)}}function er(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(iw(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(da(i,""),r.flags&=-33);var s=yv(e);xd(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=yv(e);Cd(e,a,o);break;default:throw Error(D(161))}}catch(l){Ze(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _x(e,t,n){b=e,aw(e)}function aw(e,t,n){for(var r=(e.mode&1)!==0;b!==null;){var i=b,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Fl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Mt;a=Fl;var u=Mt;if(Fl=o,(Mt=l)&&!u)for(b=i;b!==null;)o=b,l=o.child,o.tag===22&&o.memoizedState!==null?wv(i):l!==null?(l.return=o,b=l):wv(i);for(;s!==null;)b=s,aw(s),s=s.sibling;b=i,Fl=a,Mt=u}_v(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,b=s):_v(e)}}function _v(e){for(;b!==null;){var t=b;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Mt||Cc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Mt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Bn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&nv(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}nv(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ya(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Mt||t.flags&512&&Sd(t)}catch(f){Ze(t,t.return,f)}}if(t===e){b=null;break}if(n=t.sibling,n!==null){n.return=t.return,b=n;break}b=t.return}}function Ev(e){for(;b!==null;){var t=b;if(t===e){b=null;break}var n=t.sibling;if(n!==null){n.return=t.return,b=n;break}b=t.return}}function wv(e){for(;b!==null;){var t=b;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Cc(4,t)}catch(l){Ze(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ze(t,i,l)}}var s=t.return;try{Sd(t)}catch(l){Ze(t,s,l)}break;case 5:var o=t.return;try{Sd(t)}catch(l){Ze(t,o,l)}}}catch(l){Ze(t,t.return,l)}if(t===e){b=null;break}var a=t.sibling;if(a!==null){a.return=t.return,b=a;break}b=t.return}}var Ex=Math.ceil,bu=Rr.ReactCurrentDispatcher,Am=Rr.ReactCurrentOwner,Vn=Rr.ReactCurrentBatchConfig,me=0,Et=null,ot=null,At=0,mn=0,As=hi(0),mt=0,Ra=null,Ui=0,xc=0,km=0,ra=null,rn=null,Dm=0,Ys=1/0,pr=null,Lu=!1,Pd=null,Yr=null,jl=!1,zr=null,Mu=0,ia=0,Rd=null,uu=-1,cu=0;function Xt(){return me&6?nt():uu!==-1?uu:uu=nt()}function Xr(e){return e.mode&1?me&2&&At!==0?At&-At:rx.transition!==null?(cu===0&&(cu=W0()),cu):(e=Se,e!==0||(e=window.event,e=e===void 0?16:X0(e.type)),e):1}function qn(e,t,n,r){if(50<ia)throw ia=0,Rd=null,Error(D(185));tl(e,n,r),(!(me&2)||e!==Et)&&(e===Et&&(!(me&2)&&(xc|=n),mt===4&&jr(e,At)),un(e,r),n===1&&me===0&&!(t.mode&1)&&(Ys=nt()+500,Tc&&di()))}function un(e,t){var n=e.callbackNode;rC(e,t);var r=Eu(e,e===Et?At:0);if(r===0)n!==null&&ky(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ky(n),t===1)e.tag===0?nx(Tv.bind(null,e)):gE(Tv.bind(null,e)),JC(function(){!(me&6)&&di()}),n=null;else{switch(K0(r)){case 1:n=rm;break;case 4:n=z0;break;case 16:n=_u;break;case 536870912:n=B0;break;default:n=_u}n=mw(n,lw.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function lw(e,t){if(uu=-1,cu=0,me&6)throw Error(D(327));var n=e.callbackNode;if(Fs()&&e.callbackNode!==n)return null;var r=Eu(e,e===Et?At:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=$u(e,r);else{t=r;var i=me;me|=2;var s=cw();(Et!==e||At!==t)&&(pr=null,Ys=nt()+500,Oi(e,t));do try{Ix();break}catch(a){uw(e,a)}while(!0);gm(),bu.current=s,me=i,ot!==null?t=0:(Et=null,At=0,t=mt)}if(t!==0){if(t===2&&(i=td(e),i!==0&&(r=i,t=Ad(e,i))),t===1)throw n=Ra,Oi(e,0),jr(e,r),un(e,nt()),n;if(t===6)jr(e,r);else{if(i=e.current.alternate,!(r&30)&&!wx(i)&&(t=$u(e,r),t===2&&(s=td(e),s!==0&&(r=s,t=Ad(e,s))),t===1))throw n=Ra,Oi(e,0),jr(e,r),un(e,nt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:Si(e,rn,pr);break;case 3:if(jr(e,r),(r&130023424)===r&&(t=Dm+500-nt(),10<t)){if(Eu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Xt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ud(Si.bind(null,e,rn,pr),t);break}Si(e,rn,pr);break;case 4:if(jr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Hn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ex(r/1960))-r,10<r){e.timeoutHandle=ud(Si.bind(null,e,rn,pr),r);break}Si(e,rn,pr);break;case 5:Si(e,rn,pr);break;default:throw Error(D(329))}}}return un(e,nt()),e.callbackNode===n?lw.bind(null,e):null}function Ad(e,t){var n=ra;return e.current.memoizedState.isDehydrated&&(Oi(e,t).flags|=256),e=$u(e,t),e!==2&&(t=rn,rn=n,t!==null&&kd(t)),e}function kd(e){rn===null?rn=e:rn.push.apply(rn,e)}function wx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Gn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jr(e,t){for(t&=~km,t&=~xc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Hn(t),r=1<<n;e[n]=-1,t&=~r}}function Tv(e){if(me&6)throw Error(D(327));Fs();var t=Eu(e,0);if(!(t&1))return un(e,nt()),null;var n=$u(e,t);if(e.tag!==0&&n===2){var r=td(e);r!==0&&(t=r,n=Ad(e,r))}if(n===1)throw n=Ra,Oi(e,0),jr(e,t),un(e,nt()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Si(e,rn,pr),un(e,nt()),null}function Nm(e,t){var n=me;me|=1;try{return e(t)}finally{me=n,me===0&&(Ys=nt()+500,Tc&&di())}}function zi(e){zr!==null&&zr.tag===0&&!(me&6)&&Fs();var t=me;me|=1;var n=Vn.transition,r=Se;try{if(Vn.transition=null,Se=1,e)return e()}finally{Se=r,Vn.transition=n,me=t,!(me&6)&&di()}}function Om(){mn=As.current,Fe(As)}function Oi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,XC(n)),ot!==null)for(n=ot.return;n!==null;){var r=n;switch(dm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cu();break;case 3:Qs(),Fe(an),Fe(Ut),Tm();break;case 5:wm(r);break;case 4:Qs();break;case 13:Fe(Qe);break;case 19:Fe(Qe);break;case 10:ym(r.type._context);break;case 22:case 23:Om()}n=n.return}if(Et=e,ot=e=Jr(e.current,null),At=mn=t,mt=0,Ra=null,km=xc=Ui=0,rn=ra=null,Ri!==null){for(t=0;t<Ri.length;t++)if(n=Ri[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ri=null}return e}function uw(e,t){do{var n=ot;try{if(gm(),ou.current=Vu,Ou){for(var r=Ge.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ou=!1}if(ji=0,_t=pt=Ge=null,ta=!1,Ca=0,Am.current=null,n===null||n.return===null){mt=1,Ra=t,ot=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=At,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=uv(o);if(d!==null){d.flags&=-257,cv(d,o,a,s,t),d.mode&1&&lv(s,u,t),t=d,l=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(l),t.updateQueue=v}else y.add(l);break e}else{if(!(t&1)){lv(s,u,t),Vm();break e}l=Error(D(426))}}else if(He&&a.mode&1){var w=uv(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),cv(w,o,a,s,t),pm(Gs(l,a));break e}}s=l=Gs(l,a),mt!==4&&(mt=2),ra===null?ra=[s]:ra.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=HE(s,l,t);tv(s,m);break e;case 1:a=l;var p=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Yr===null||!Yr.has(E)))){s.flags|=65536,t&=-t,s.lanes|=t;var T=qE(s,a,t);tv(s,T);break e}}s=s.return}while(s!==null)}hw(n)}catch(P){t=P,ot===n&&n!==null&&(ot=n=n.return);continue}break}while(!0)}function cw(){var e=bu.current;return bu.current=Vu,e===null?Vu:e}function Vm(){(mt===0||mt===3||mt===2)&&(mt=4),Et===null||!(Ui&268435455)&&!(xc&268435455)||jr(Et,At)}function $u(e,t){var n=me;me|=2;var r=cw();(Et!==e||At!==t)&&(pr=null,Oi(e,t));do try{Tx();break}catch(i){uw(e,i)}while(!0);if(gm(),me=n,bu.current=r,ot!==null)throw Error(D(261));return Et=null,At=0,mt}function Tx(){for(;ot!==null;)fw(ot)}function Ix(){for(;ot!==null&&!QS();)fw(ot)}function fw(e){var t=pw(e.alternate,e,mn);e.memoizedProps=e.pendingProps,t===null?hw(e):ot=t,Am.current=null}function hw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=gx(n,t),n!==null){n.flags&=32767,ot=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{mt=6,ot=null;return}}else if(n=mx(n,t,mn),n!==null){ot=n;return}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);mt===0&&(mt=5)}function Si(e,t,n){var r=Se,i=Vn.transition;try{Vn.transition=null,Se=1,Sx(e,t,n,r)}finally{Vn.transition=i,Se=r}return null}function Sx(e,t,n,r){do Fs();while(zr!==null);if(me&6)throw Error(D(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(iC(e,s),e===Et&&(ot=Et=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jl||(jl=!0,mw(_u,function(){return Fs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Vn.transition,Vn.transition=null;var o=Se;Se=1;var a=me;me|=4,Am.current=null,vx(e,n),ow(n,e),WC(ad),wu=!!od,ad=od=null,e.current=n,_x(n),GS(),me=a,Se=o,Vn.transition=s}else e.current=n;if(jl&&(jl=!1,zr=e,Mu=i),s=e.pendingLanes,s===0&&(Yr=null),JS(n.stateNode),un(e,nt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Lu)throw Lu=!1,e=Pd,Pd=null,e;return Mu&1&&e.tag!==0&&Fs(),s=e.pendingLanes,s&1?e===Rd?ia++:(ia=0,Rd=e):ia=0,di(),null}function Fs(){if(zr!==null){var e=K0(Mu),t=Vn.transition,n=Se;try{if(Vn.transition=null,Se=16>e?16:e,zr===null)var r=!1;else{if(e=zr,zr=null,Mu=0,me&6)throw Error(D(331));var i=me;for(me|=4,b=e.current;b!==null;){var s=b,o=s.child;if(b.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(b=u;b!==null;){var c=b;switch(c.tag){case 0:case 11:case 15:na(8,c,s)}var h=c.child;if(h!==null)h.return=c,b=h;else for(;b!==null;){c=b;var f=c.sibling,d=c.return;if(rw(c),c===u){b=null;break}if(f!==null){f.return=d,b=f;break}b=d}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}b=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,b=o;else e:for(;b!==null;){if(s=b,s.flags&2048)switch(s.tag){case 0:case 11:case 15:na(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,b=m;break e}b=s.return}}var p=e.current;for(b=p;b!==null;){o=b;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,b=E;else e:for(o=p;b!==null;){if(a=b,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Cc(9,a)}}catch(P){Ze(a,a.return,P)}if(a===o){b=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,b=T;break e}b=a.return}}if(me=i,di(),or&&typeof or.onPostCommitFiberRoot=="function")try{or.onPostCommitFiberRoot(yc,e)}catch{}r=!0}return r}finally{Se=n,Vn.transition=t}}return!1}function Iv(e,t,n){t=Gs(n,t),t=HE(e,t,1),e=Gr(e,t,1),t=Xt(),e!==null&&(tl(e,1,t),un(e,t))}function Ze(e,t,n){if(e.tag===3)Iv(e,e,n);else for(;t!==null;){if(t.tag===3){Iv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yr===null||!Yr.has(r))){e=Gs(n,e),e=qE(t,e,1),t=Gr(t,e,1),e=Xt(),t!==null&&(tl(t,1,e),un(t,e));break}}t=t.return}}function Cx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Xt(),e.pingedLanes|=e.suspendedLanes&n,Et===e&&(At&n)===n&&(mt===4||mt===3&&(At&130023424)===At&&500>nt()-Dm?Oi(e,0):km|=n),un(e,t)}function dw(e,t){t===0&&(e.mode&1?(t=kl,kl<<=1,!(kl&130023424)&&(kl=4194304)):t=1);var n=Xt();e=Ir(e,t),e!==null&&(tl(e,t,n),un(e,n))}function xx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),dw(e,n)}function Px(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),dw(e,n)}var pw;pw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||an.current)on=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return on=!1,px(e,t,n);on=!!(e.flags&131072)}else on=!1,He&&t.flags&1048576&&yE(t,Ru,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;lu(e,t),e=t.pendingProps;var i=Ks(t,Ut.current);$s(t,n),i=Sm(null,t,r,e,i,n);var s=Cm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ln(r)?(s=!0,xu(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_m(t),i.updater=Ic,t.stateNode=i,i._reactInternals=t,gd(t,r,e,n),t=_d(null,t,r,!0,s,n)):(t.tag=0,He&&s&&hm(t),Gt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(lu(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Ax(r),e=Bn(r,e),i){case 0:t=vd(null,t,r,e,n);break e;case 1:t=dv(null,t,r,e,n);break e;case 11:t=fv(null,t,r,e,n);break e;case 14:t=hv(null,t,r,Bn(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Bn(r,i),vd(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Bn(r,i),dv(e,t,r,i,n);case 3:e:{if(XE(t),e===null)throw Error(D(387));r=t.pendingProps,s=t.memoizedState,i=s.element,wE(e,t),Du(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Gs(Error(D(423)),t),t=pv(e,t,r,n,i);break e}else if(r!==i){i=Gs(Error(D(424)),t),t=pv(e,t,r,n,i);break e}else for(yn=Qr(t.stateNode.containerInfo.firstChild),En=t,He=!0,Kn=null,n=CE(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hs(),r===i){t=Sr(e,t,n);break e}Gt(e,t,r,n)}t=t.child}return t;case 5:return xE(t),e===null&&dd(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,ld(r,i)?o=null:s!==null&&ld(r,s)&&(t.flags|=32),YE(e,t),Gt(e,t,o,n),t.child;case 6:return e===null&&dd(t),null;case 13:return JE(e,t,n);case 4:return Em(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=qs(t,null,r,n):Gt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Bn(r,i),fv(e,t,r,i,n);case 7:return Gt(e,t,t.pendingProps,n),t.child;case 8:return Gt(e,t,t.pendingProps.children,n),t.child;case 12:return Gt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Ve(Au,r._currentValue),r._currentValue=o,s!==null)if(Gn(s.value,o)){if(s.children===i.children&&!an.current){t=Sr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=_r(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),pd(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),pd(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Gt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,$s(t,n),i=Ln(i),r=r(i),t.flags|=1,Gt(e,t,r,n),t.child;case 14:return r=t.type,i=Bn(r,t.pendingProps),i=Bn(r.type,i),hv(e,t,r,i,n);case 15:return QE(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Bn(r,i),lu(e,t),t.tag=1,ln(r)?(e=!0,xu(t)):e=!1,$s(t,n),IE(t,r,i),gd(t,r,i,n),_d(null,t,r,!0,e,n);case 19:return ZE(e,t,n);case 22:return GE(e,t,n)}throw Error(D(156,t.tag))};function mw(e,t){return U0(e,t)}function Rx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(e,t,n,r){return new Rx(e,t,n,r)}function bm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ax(e){if(typeof e=="function")return bm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===em)return 11;if(e===tm)return 14}return 2}function Jr(e,t){var n=e.alternate;return n===null?(n=On(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function fu(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")bm(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case _s:return Vi(n.children,i,s,t);case Zp:o=8,i|=8;break;case jh:return e=On(12,n,t,i|2),e.elementType=jh,e.lanes=s,e;case Uh:return e=On(13,n,t,i),e.elementType=Uh,e.lanes=s,e;case zh:return e=On(19,n,t,i),e.elementType=zh,e.lanes=s,e;case S0:return Pc(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T0:o=10;break e;case I0:o=9;break e;case em:o=11;break e;case tm:o=14;break e;case br:o=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=On(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Vi(e,t,n,r){return e=On(7,e,r,t),e.lanes=n,e}function Pc(e,t,n,r){return e=On(22,e,r,t),e.elementType=S0,e.lanes=n,e.stateNode={isHidden:!1},e}function hh(e,t,n){return e=On(6,e,null,t),e.lanes=n,e}function dh(e,t,n){return t=On(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kx(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qf(0),this.expirationTimes=qf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lm(e,t,n,r,i,s,o,a,l){return e=new kx(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=On(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_m(s),e}function Dx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function gw(e){if(!e)return ii;e=e._reactInternals;e:{if(ts(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ln(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(ln(n))return mE(e,n,t)}return t}function yw(e,t,n,r,i,s,o,a,l){return e=Lm(n,r,!0,e,i,s,o,a,l),e.context=gw(null),n=e.current,r=Xt(),i=Xr(n),s=_r(r,i),s.callback=t??null,Gr(n,s,i),e.current.lanes=i,tl(e,i,r),un(e,r),e}function Rc(e,t,n,r){var i=t.current,s=Xt(),o=Xr(i);return n=gw(n),t.context===null?t.context=n:t.pendingContext=n,t=_r(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Gr(i,t,o),e!==null&&(qn(e,i,o,s),su(e,i,o)),o}function Fu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Mm(e,t){Sv(e,t),(e=e.alternate)&&Sv(e,t)}function Nx(){return null}var vw=typeof reportError=="function"?reportError:function(e){console.error(e)};function $m(e){this._internalRoot=e}Ac.prototype.render=$m.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));Rc(e,t,null,null)};Ac.prototype.unmount=$m.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zi(function(){Rc(null,e,null,null)}),t[Tr]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var t=Q0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fr.length&&t!==0&&t<Fr[n].priority;n++);Fr.splice(n,0,e),n===0&&Y0(e)}};function Fm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function kc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cv(){}function Ox(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Fu(o);s.call(u)}}var o=yw(t,r,e,0,null,!1,!1,"",Cv);return e._reactRootContainer=o,e[Tr]=o.current,Ea(e.nodeType===8?e.parentNode:e),zi(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Fu(l);a.call(u)}}var l=Lm(e,0,!1,null,null,!1,!1,"",Cv);return e._reactRootContainer=l,e[Tr]=l.current,Ea(e.nodeType===8?e.parentNode:e),zi(function(){Rc(t,l,n,r)}),l}function Dc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Fu(o);a.call(l)}}Rc(t,o,e,i)}else o=Ox(n,t,e,i,r);return Fu(o)}H0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Uo(t.pendingLanes);n!==0&&(im(t,n|1),un(t,nt()),!(me&6)&&(Ys=nt()+500,di()))}break;case 13:zi(function(){var r=Ir(e,1);if(r!==null){var i=Xt();qn(r,e,1,i)}}),Mm(e,1)}};sm=function(e){if(e.tag===13){var t=Ir(e,134217728);if(t!==null){var n=Xt();qn(t,e,134217728,n)}Mm(e,134217728)}};q0=function(e){if(e.tag===13){var t=Xr(e),n=Ir(e,t);if(n!==null){var r=Xt();qn(n,e,t,r)}Mm(e,t)}};Q0=function(){return Se};G0=function(e,t){var n=Se;try{return Se=e,t()}finally{Se=n}};Jh=function(e,t,n){switch(t){case"input":if(Kh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wc(r);if(!i)throw Error(D(90));x0(r),Kh(r,i)}}}break;case"textarea":R0(e,n);break;case"select":t=n.value,t!=null&&Vs(e,!!n.multiple,t,!1)}};b0=Nm;L0=zi;var Vx={usingClientEntryPoint:!1,Events:[rl,Is,wc,O0,V0,Nm]},bo={findFiberByHostInstance:Pi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},bx={bundleType:bo.bundleType,version:bo.version,rendererPackageName:bo.rendererPackageName,rendererConfig:bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=F0(e),e===null?null:e.stateNode},findFiberByHostInstance:bo.findFiberByHostInstance||Nx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ul.isDisabled&&Ul.supportsFiber)try{yc=Ul.inject(bx),or=Ul}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vx;Cn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fm(t))throw Error(D(200));return Dx(e,t,null,n)};Cn.createRoot=function(e,t){if(!Fm(e))throw Error(D(299));var n=!1,r="",i=vw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Lm(e,1,!1,null,null,n,!1,r,i),e[Tr]=t.current,Ea(e.nodeType===8?e.parentNode:e),new $m(t)};Cn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=F0(t),e=e===null?null:e.stateNode,e};Cn.flushSync=function(e){return zi(e)};Cn.hydrate=function(e,t,n){if(!kc(t))throw Error(D(200));return Dc(null,e,t,!0,n)};Cn.hydrateRoot=function(e,t,n){if(!Fm(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=vw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=yw(t,null,e,1,n??null,i,!1,s,o),e[Tr]=t.current,Ea(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ac(t)};Cn.render=function(e,t,n){if(!kc(t))throw Error(D(200));return Dc(null,e,t,!1,n)};Cn.unmountComponentAtNode=function(e){if(!kc(e))throw Error(D(40));return e._reactRootContainer?(zi(function(){Dc(null,null,e,!1,function(){e._reactRootContainer=null,e[Tr]=null})}),!0):!1};Cn.unstable_batchedUpdates=Nm;Cn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!kc(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return Dc(e,t,n,!1,r)};Cn.version="18.2.0-next-9e3b772b8-20220608";function _w(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_w)}catch(e){console.error(e)}}_w(),y0.exports=Cn;var Aa=y0.exports;const zl=mc(Aa);var xv=Aa;$h.createRoot=xv.createRoot,$h.hydrateRoot=xv.hydrateRoot;/**
 * @remix-run/router v1.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ka(){return ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ka.apply(this,arguments)}var Br;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Br||(Br={}));const Pv="popstate";function Lx(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Dd("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ju(i)}return $x(t,n,null,e)}function ut(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Mx(){return Math.random().toString(36).substr(2,8)}function Rv(e,t){return{usr:e.state,key:e.key,idx:t}}function Dd(e,t,n,r){return n===void 0&&(n=null),ka({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?mo(t):t,{state:n,key:t&&t.key||r||Mx()})}function ju(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function mo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function $x(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Br.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(ka({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=Br.Pop;let w=c(),m=w==null?null:w-u;u=w,l&&l({action:a,location:v.location,delta:m})}function f(w,m){a=Br.Push;let p=Dd(v.location,w,m);n&&n(p,w),u=c()+1;let E=Rv(p,u),T=v.createHref(p);try{o.pushState(E,"",T)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(T)}s&&l&&l({action:a,location:v.location,delta:1})}function d(w,m){a=Br.Replace;let p=Dd(v.location,w,m);n&&n(p,w),u=c();let E=Rv(p,u),T=v.createHref(p);o.replaceState(E,"",T),s&&l&&l({action:a,location:v.location,delta:0})}function y(w){let m=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof w=="string"?w:ju(w);return ut(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let v={get action(){return a},get location(){return e(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Pv,h),l=w,()=>{i.removeEventListener(Pv,h),l=null}},createHref(w){return t(i,w)},createURL:y,encodeLocation(w){let m=y(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:d,go(w){return o.go(w)}};return v}var Av;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Av||(Av={}));function Fx(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?mo(t):t,i=Um(r.pathname||"/",n);if(i==null)return null;let s=Ew(e);jx(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=Gx(s[a],Jx(i));return o}function Ew(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ut(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Zr([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(ut(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ew(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:qx(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of ww(s.path))i(s,o,l)}),t}function ww(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=ww(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function jx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Qx(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Ux=/^:\w+$/,zx=3,Bx=2,Wx=1,Kx=10,Hx=-2,kv=e=>e==="*";function qx(e,t){let n=e.split("/"),r=n.length;return n.some(kv)&&(r+=Hx),t&&(r+=Bx),n.filter(i=>!kv(i)).reduce((i,s)=>i+(Ux.test(s)?zx:s===""?Wx:Kx),r)}function Qx(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Gx(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=Yx({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:Zr([i,c.pathname]),pathnameBase:rP(Zr([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=Zr([i,c.pathnameBase]))}return s}function Yx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Xx(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:f,isOptional:d}=c;if(f==="*"){let v=a[h]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const y=a[h];return d&&!y?u[f]=void 0:u[f]=Zx(y||"",f),u},{}),pathname:s,pathnameBase:o,pattern:e}}function Xx(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),jm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Jx(e){try{return decodeURI(e)}catch(t){return jm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Zx(e,t){try{return decodeURIComponent(e)}catch(n){return jm(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Um(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function eP(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?mo(e):e;return{pathname:n?n.startsWith("/")?n:tP(n,t):t,search:iP(r),hash:sP(i)}}function tP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ph(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nP(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Tw(e){return nP(e).map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function Iw(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=mo(e):(i=ka({},e),ut(!i.pathname||!i.pathname.includes("?"),ph("?","pathname","search",i)),ut(!i.pathname||!i.pathname.includes("#"),ph("#","pathname","hash",i)),ut(!i.search||!i.search.includes("#"),ph("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else if(r){let h=t[t.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h.pop();i.pathname=f.join("/")}a="/"+h.join("/")}else{let h=t.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=eP(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Zr=e=>e.join("/").replace(/\/\/+/g,"/"),rP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function oP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Sw=["post","put","patch","delete"];new Set(Sw);const aP=["get",...Sw];new Set(aP);/**
 * React Router v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uu(){return Uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uu.apply(this,arguments)}const zm=g.createContext(null),lP=g.createContext(null),go=g.createContext(null),Nc=g.createContext(null),Ar=g.createContext({outlet:null,matches:[],isDataRoute:!1}),Cw=g.createContext(null);function uP(e,t){let{relative:n}=t===void 0?{}:t;sl()||ut(!1);let{basename:r,navigator:i}=g.useContext(go),{hash:s,pathname:o,search:a}=Pw(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Zr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function sl(){return g.useContext(Nc)!=null}function Oc(){return sl()||ut(!1),g.useContext(Nc).location}function xw(e){g.useContext(go).static||g.useLayoutEffect(e)}function ol(){let{isDataRoute:e}=g.useContext(Ar);return e?SP():cP()}function cP(){sl()||ut(!1);let e=g.useContext(zm),{basename:t,navigator:n}=g.useContext(go),{matches:r}=g.useContext(Ar),{pathname:i}=Oc(),s=JSON.stringify(Tw(r)),o=g.useRef(!1);return xw(()=>{o.current=!0}),g.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=Iw(l,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Zr([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,s,i,e])}const fP=g.createContext(null);function hP(e){let t=g.useContext(Ar).outlet;return t&&g.createElement(fP.Provider,{value:e},t)}function Bm(){let{matches:e}=g.useContext(Ar),t=e[e.length-1];return t?t.params:{}}function Pw(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=g.useContext(Ar),{pathname:i}=Oc(),s=JSON.stringify(Tw(r));return g.useMemo(()=>Iw(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function dP(e,t){return pP(e,t)}function pP(e,t,n){sl()||ut(!1);let{navigator:r}=g.useContext(go),{matches:i}=g.useContext(Ar),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Oc(),u;if(t){var c;let v=typeof t=="string"?mo(t):t;a==="/"||(c=v.pathname)!=null&&c.startsWith(a)||ut(!1),u=v}else u=l;let h=u.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",d=Fx(e,{pathname:f}),y=_P(d&&d.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Zr([a,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:Zr([a,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n);return t&&y?g.createElement(Nc.Provider,{value:{location:Uu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Br.Pop}},y):y}function mP(){let e=IP(),t=oP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:i},n):null,s)}const gP=g.createElement(mP,null);class yP extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?g.createElement(Ar.Provider,{value:this.props.routeContext},g.createElement(Cw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vP(e){let{routeContext:t,match:n,children:r}=e,i=g.useContext(zm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Ar.Provider,{value:t},r)}function _P(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let s=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||ut(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||gP);let f=t.concat(s.slice(0,u+1)),d=()=>{let y;return c?y=h:l.route.Component?y=g.createElement(l.route.Component,null):l.route.element?y=l.route.element:y=a,g.createElement(vP,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:y})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?g.createElement(yP,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:d(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):d()},null)}var Rw=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Rw||{}),zu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(zu||{});function EP(e){let t=g.useContext(zm);return t||ut(!1),t}function wP(e){let t=g.useContext(lP);return t||ut(!1),t}function TP(e){let t=g.useContext(Ar);return t||ut(!1),t}function Aw(e){let t=TP(),n=t.matches[t.matches.length-1];return n.route.id||ut(!1),n.route.id}function IP(){var e;let t=g.useContext(Cw),n=wP(zu.UseRouteError),r=Aw(zu.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function SP(){let{router:e}=EP(Rw.UseNavigateStable),t=Aw(zu.UseNavigateStable),n=g.useRef(!1);return xw(()=>{n.current=!0}),g.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Uu({fromRouteId:t},s)))},[e,t])}function CP(e){return hP(e.context)}function dr(e){ut(!1)}function xP(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Br.Pop,navigator:s,static:o=!1}=e;sl()&&ut(!1);let a=t.replace(/^\/*/,"/"),l=g.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=mo(r));let{pathname:u="/",search:c="",hash:h="",state:f=null,key:d="default"}=r,y=g.useMemo(()=>{let v=Um(u,a);return v==null?null:{location:{pathname:v,search:c,hash:h,state:f,key:d},navigationType:i}},[a,u,c,h,f,d,i]);return y==null?null:g.createElement(go.Provider,{value:l},g.createElement(Nc.Provider,{children:n,value:y}))}function PP(e){let{children:t,location:n}=e;return dP(Nd(t),n)}new Promise(()=>{});function Nd(e,t){t===void 0&&(t=[]);let n=[];return g.Children.forEach(e,(r,i)=>{if(!g.isValidElement(r))return;let s=[...t,i];if(r.type===g.Fragment){n.push.apply(n,Nd(r.props.children,s));return}r.type!==dr&&ut(!1),!r.props.index||!r.props.children||ut(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Nd(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Od(){return Od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Od.apply(this,arguments)}function RP(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function AP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function kP(e,t){return e.button===0&&(!t||t==="_self")&&!AP(e)}const DP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],NP="startTransition",Dv=xS[NP];function OP(e){let{basename:t,children:n,future:r,window:i}=e,s=g.useRef();s.current==null&&(s.current=Lx({window:i,v5Compat:!0}));let o=s.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=g.useCallback(h=>{u&&Dv?Dv(()=>l(h)):l(h)},[l,u]);return g.useLayoutEffect(()=>o.listen(c),[o,c]),g.createElement(xP,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o})}const VP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bi=g.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:h}=t,f=RP(t,DP),{basename:d}=g.useContext(go),y,v=!1;if(typeof u=="string"&&bP.test(u)&&(y=u,VP))try{let E=new URL(window.location.href),T=u.startsWith("//")?new URL(E.protocol+u):new URL(u),P=Um(T.pathname,d);T.origin===E.origin&&P!=null?u=P+T.search+T.hash:v=!0}catch{}let w=uP(u,{relative:i}),m=LP(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:h});function p(E){r&&r(E),E.defaultPrevented||m(E)}return g.createElement("a",Od({},f,{href:y||w,onClick:v||s?r:p,ref:n,target:l}))});var Nv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Nv||(Nv={}));var Ov;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ov||(Ov={}));function LP(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=t===void 0?{}:t,l=ol(),u=Oc(),c=Pw(e,{relative:o});return g.useCallback(h=>{if(kP(h,n)){h.preventDefault();let f=r!==void 0?r:ju(u)===ju(c);l(e,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,e,s,o,a])}const MP=()=>S.jsx("div",{children:"Customers"}),$P=()=>S.jsxs("div",{style:{display:"flex"},children:[S.jsxs("div",{style:{marginTop:"40px"},children:[S.jsx("div",{className:"menu-box",children:S.jsx(bi,{to:"/products",children:"Products"})}),S.jsx("div",{className:"menu-box",children:S.jsx(bi,{to:"/purchases",children:"Purchases"})}),S.jsx("div",{className:"menu-box",children:S.jsx(bi,{to:"/customers",children:"Customers"})})]}),S.jsxs("div",{style:{border:"1px solid",borderRadius:"25px",padding:"15px",margin:"0 auto"},children:[S.jsx("h2",{children:"Welcome to the store management system!"}),S.jsxs("h3",{children:["Here you'll be able to perform various actions on certain products, ",S.jsx("br",{}),"customers and purchases that were made."]})]})]});var Vv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},FP=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Dw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,d=u&63;l||(d=64,o||(f=64)),r.push(n[c],n[h],n[f],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(kw(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):FP(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new jP;const f=s<<2|a>>4;if(r.push(f),u!==64){const d=a<<4&240|u>>2;if(r.push(d),h!==64){const y=u<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class jP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UP=function(e){const t=kw(e);return Dw.encodeByteArray(t,!0)},Bu=function(e){return UP(e).replace(/\./g,"")},zP=function(e){try{return Dw.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=()=>BP().__FIREBASE_DEFAULTS__,KP=()=>{if(typeof process>"u"||typeof Vv>"u")return;const e=Vv.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},HP=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&zP(e[1]);return t&&JSON.parse(t)},Nw=()=>{try{return WP()||KP()||HP()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},qP=e=>{var t,n;return(n=(t=Nw())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},QP=e=>{const t=qP(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ow=()=>{var e;return(e=Nw())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Bu(JSON.stringify(n)),Bu(JSON.stringify(o)),a].join(".")}function XP(){try{return typeof indexedDB=="object"}catch{return!1}}function JP(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="FirebaseError";class yo extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=ZP,Object.setPrototypeOf(this,yo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vw.prototype.create)}}class Vw{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?eR(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new yo(i,a,r)}}function eR(e,t){return e.replace(tR,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const tR=/\{\$([^}]+)}/g;function Vd(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(bv(s)&&bv(o)){if(!Vd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function bv(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(e){return e&&e._delegate?e._delegate:e}class Da{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nR=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new GP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(iR(t))try{this.getOrInitializeService({instanceIdentifier:Ci})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Ci){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ci){return this.instances.has(t)}getOptions(t=Ci){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rR(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ci){return this.component?this.component.multipleInstances?t:Ci:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function rR(e){return e===Ci?void 0:e}function iR(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new nR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(pe||(pe={}));const oR={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},aR=pe.INFO,lR={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},uR=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=lR[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class bw{constructor(t){this.name=t,this._logLevel=aR,this._logHandler=uR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in pe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?oR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...t),this._logHandler(this,pe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...t),this._logHandler(this,pe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...t),this._logHandler(this,pe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...t),this._logHandler(this,pe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...t),this._logHandler(this,pe.ERROR,...t)}}const cR=(e,t)=>t.some(n=>e instanceof n);let Lv,Mv;function fR(){return Lv||(Lv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hR(){return Mv||(Mv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lw=new WeakMap,bd=new WeakMap,Mw=new WeakMap,mh=new WeakMap,Wm=new WeakMap;function dR(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(ei(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Lw.set(n,e)}).catch(()=>{}),Wm.set(t,e),t}function pR(e){if(bd.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});bd.set(e,t)}let Ld={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return bd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Mw.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ei(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function mR(e){Ld=e(Ld)}function gR(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(gh(this),t,...n);return Mw.set(r,t.sort?t.sort():[t]),ei(r)}:hR().includes(e)?function(...t){return e.apply(gh(this),t),ei(Lw.get(this))}:function(...t){return ei(e.apply(gh(this),t))}}function yR(e){return typeof e=="function"?gR(e):(e instanceof IDBTransaction&&pR(e),cR(e,fR())?new Proxy(e,Ld):e)}function ei(e){if(e instanceof IDBRequest)return dR(e);if(mh.has(e))return mh.get(e);const t=yR(e);return t!==e&&(mh.set(e,t),Wm.set(t,e)),t}const gh=e=>Wm.get(e);function vR(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=ei(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ei(o.result),l.oldVersion,l.newVersion,ei(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const _R=["get","getKey","getAll","getAllKeys","count"],ER=["put","add","delete","clear"],yh=new Map;function $v(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(yh.get(t))return yh.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ER.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_R.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return yh.set(t,s),s}mR(e=>({...e,get:(t,n,r)=>$v(t,n)||e.get(t,n,r),has:(t,n)=>!!$v(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function TR(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Md="@firebase/app",Fv="0.9.24";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new bw("@firebase/app"),IR="@firebase/app-compat",SR="@firebase/analytics-compat",CR="@firebase/analytics",xR="@firebase/app-check-compat",PR="@firebase/app-check",RR="@firebase/auth",AR="@firebase/auth-compat",kR="@firebase/database",DR="@firebase/database-compat",NR="@firebase/functions",OR="@firebase/functions-compat",VR="@firebase/installations",bR="@firebase/installations-compat",LR="@firebase/messaging",MR="@firebase/messaging-compat",$R="@firebase/performance",FR="@firebase/performance-compat",jR="@firebase/remote-config",UR="@firebase/remote-config-compat",zR="@firebase/storage",BR="@firebase/storage-compat",WR="@firebase/firestore",KR="@firebase/firestore-compat",HR="firebase",qR="10.7.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="[DEFAULT]",QR={[Md]:"fire-core",[IR]:"fire-core-compat",[CR]:"fire-analytics",[SR]:"fire-analytics-compat",[PR]:"fire-app-check",[xR]:"fire-app-check-compat",[RR]:"fire-auth",[AR]:"fire-auth-compat",[kR]:"fire-rtdb",[DR]:"fire-rtdb-compat",[NR]:"fire-fn",[OR]:"fire-fn-compat",[VR]:"fire-iid",[bR]:"fire-iid-compat",[LR]:"fire-fcm",[MR]:"fire-fcm-compat",[$R]:"fire-perf",[FR]:"fire-perf-compat",[jR]:"fire-rc",[UR]:"fire-rc-compat",[zR]:"fire-gcs",[BR]:"fire-gcs-compat",[WR]:"fire-fst",[KR]:"fire-fst-compat","fire-js":"fire-js",[HR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=new Map,Fd=new Map;function GR(e,t){try{e.container.addComponent(t)}catch(n){Bi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ku(e){const t=e.name;if(Fd.has(t))return Bi.debug(`There were multiple attempts to register component ${t}.`),!1;Fd.set(t,e);for(const n of Wu.values())GR(n,e);return!0}function YR(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ti=new Vw("app","Firebase",XR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=qR;function $w(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:$d,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw ti.create("bad-app-name",{appName:String(i)});if(n||(n=Ow()),!n)throw ti.create("no-options");const s=Wu.get(i);if(s){if(Vd(n,s.options)&&Vd(r,s.config))return s;throw ti.create("duplicate-app",{appName:i})}const o=new sR(i);for(const l of Fd.values())o.addComponent(l);const a=new JR(n,r,o);return Wu.set(i,a),a}function eA(e=$d){const t=Wu.get(e);if(!t&&e===$d&&Ow())return $w();if(!t)throw ti.create("no-app",{appName:e});return t}function js(e,t,n){var r;let i=(r=QR[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Bi.warn(a.join(" "));return}Ku(new Da(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="firebase-heartbeat-database",nA=1,Na="firebase-heartbeat-store";let vh=null;function Fw(){return vh||(vh=vR(tA,nA,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Na)}}}).catch(e=>{throw ti.create("idb-open",{originalErrorMessage:e.message})})),vh}async function rA(e){try{return await(await Fw()).transaction(Na).objectStore(Na).get(jw(e))}catch(t){if(t instanceof yo)Bi.warn(t.message);else{const n=ti.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Bi.warn(n.message)}}}async function jv(e,t){try{const r=(await Fw()).transaction(Na,"readwrite");await r.objectStore(Na).put(t,jw(e)),await r.done}catch(n){if(n instanceof yo)Bi.warn(n.message);else{const r=ti.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Bi.warn(r.message)}}}function jw(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=1024,sA=30*24*60*60*1e3;class oA{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Uv();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=sA}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Uv(),{heartbeatsToSend:r,unsentEntries:i}=aA(this._heartbeatsCache.heartbeats),s=Bu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Uv(){return new Date().toISOString().substring(0,10)}function aA(e,t=iA){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),zv(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zv(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class lA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XP()?JP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function zv(e){return Bu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(e){Ku(new Da("platform-logger",t=>new wR(t),"PRIVATE")),Ku(new Da("heartbeat",t=>new oA(t),"PRIVATE")),js(Md,Fv,e),js(Md,Fv,"esm2017"),js("fire-js","")}uA("");var cA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},O,Km=Km||{},X=cA||self;function Vc(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function al(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function fA(e){return Object.prototype.hasOwnProperty.call(e,_h)&&e[_h]||(e[_h]=++hA)}var _h="closure_uid_"+(1e9*Math.random()>>>0),hA=0;function dA(e,t,n){return e.call.apply(e.bind,arguments)}function pA(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Ft(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ft=dA:Ft=pA,Ft.apply(null,arguments)}function Bl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Tt(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function pi(){this.s=this.s,this.o=this.o}var mA=0;pi.prototype.s=!1;pi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),mA!=0)&&fA(this)};pi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Uw=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Hm(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Bv(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Vc(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function jt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}jt.prototype.h=function(){this.defaultPrevented=!0};var gA=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};X.addEventListener("test",n,t),X.removeEventListener("test",n,t)}catch{}return e}();function Oa(e){return/^[\s\xa0]*$/.test(e)}function bc(){var e=X.navigator;return e&&(e=e.userAgent)?e:""}function rr(e){return bc().indexOf(e)!=-1}function qm(e){return qm[" "](e),e}qm[" "]=function(){};function yA(e,t){var n=uk;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var vA=rr("Opera"),Xs=rr("Trident")||rr("MSIE"),zw=rr("Edge"),jd=zw||Xs,Bw=rr("Gecko")&&!(bc().toLowerCase().indexOf("webkit")!=-1&&!rr("Edge"))&&!(rr("Trident")||rr("MSIE"))&&!rr("Edge"),_A=bc().toLowerCase().indexOf("webkit")!=-1&&!rr("Edge");function Ww(){var e=X.document;return e?e.documentMode:void 0}var Ud;e:{var Eh="",wh=function(){var e=bc();if(Bw)return/rv:([^\);]+)(\)|;)/.exec(e);if(zw)return/Edge\/([\d\.]+)/.exec(e);if(Xs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(_A)return/WebKit\/(\S+)/.exec(e);if(vA)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(wh&&(Eh=wh?wh[1]:""),Xs){var Th=Ww();if(Th!=null&&Th>parseFloat(Eh)){Ud=String(Th);break e}}Ud=Eh}var zd;if(X.document&&Xs){var Wv=Ww();zd=Wv||parseInt(Ud,10)||void 0}else zd=void 0;var EA=zd;function Va(e,t){if(jt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Bw){e:{try{qm(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:wA[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Va.$.h.call(this)}}Tt(Va,jt);var wA={2:"touch",3:"pen",4:"mouse"};Va.prototype.h=function(){Va.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ll="closure_listenable_"+(1e6*Math.random()|0),TA=0;function IA(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++TA,this.fa=this.ia=!1}function Lc(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Qm(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function SA(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function Kw(e){const t={};for(const n in e)t[n]=e[n];return t}const Kv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hw(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<Kv.length;s++)n=Kv[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Mc(e){this.src=e,this.g={},this.h=0}Mc.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=Wd(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new IA(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function Bd(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=Uw(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Lc(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Wd(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var Gm="closure_lm_"+(1e6*Math.random()|0),Ih={};function qw(e,t,n,r,i){if(r&&r.once)return Gw(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)qw(e,t[s],n,r,i);return null}return n=Jm(n),e&&e[ll]?e.O(t,n,al(r)?!!r.capture:!!r,i):Qw(e,t,n,!1,r,i)}function Qw(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=al(i)?!!i.capture:!!i,a=Xm(e);if(a||(e[Gm]=a=new Mc(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=CA(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)gA||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Xw(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function CA(){function e(n){return t.call(e.src,e.listener,n)}const t=xA;return e}function Gw(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Gw(e,t[s],n,r,i);return null}return n=Jm(n),e&&e[ll]?e.P(t,n,al(r)?!!r.capture:!!r,i):Qw(e,t,n,!0,r,i)}function Yw(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Yw(e,t[s],n,r,i);else r=al(r)?!!r.capture:!!r,n=Jm(n),e&&e[ll]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Wd(s,n,r,i),-1<n&&(Lc(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Xm(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Wd(t,n,r,i)),(n=-1<e?t[e]:null)&&Ym(n))}function Ym(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[ll])Bd(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Xw(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Xm(t))?(Bd(n,e),n.h==0&&(n.src=null,t[Gm]=null)):Lc(e)}}}function Xw(e){return e in Ih?Ih[e]:Ih[e]="on"+e}function xA(e,t){if(e.fa)e=!0;else{t=new Va(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Ym(e),e=n.call(r,t)}return e}function Xm(e){return e=e[Gm],e instanceof Mc?e:null}var Sh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jm(e){return typeof e=="function"?e:(e[Sh]||(e[Sh]=function(t){return e.handleEvent(t)}),e[Sh])}function wt(){pi.call(this),this.i=new Mc(this),this.S=this,this.J=null}Tt(wt,pi);wt.prototype[ll]=!0;wt.prototype.removeEventListener=function(e,t,n,r){Yw(this,e,t,n,r)};function kt(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new jt(t,e);else if(t instanceof jt)t.target=t.target||e;else{var i=t;t=new jt(r,e),Hw(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Wl(o,r,!0,t)&&i}if(o=t.g=e,i=Wl(o,r,!0,t)&&i,i=Wl(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Wl(o,r,!1,t)&&i}wt.prototype.N=function(){if(wt.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Lc(n[r]);delete e.g[t],e.h--}}this.J=null};wt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};wt.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Wl(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Bd(e.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Zm=X.JSON.stringify;class PA{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function RA(){var e=eg;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class AA{constructor(){this.h=this.g=null}add(t,n){const r=Jw.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Jw=new PA(()=>new kA,e=>e.reset());class kA{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function DA(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function NA(e){X.setTimeout(()=>{throw e},0)}let ba,La=!1,eg=new AA,Zw=()=>{const e=X.Promise.resolve(void 0);ba=()=>{e.then(OA)}};var OA=()=>{for(var e;e=RA();){try{e.h.call(e.g)}catch(n){NA(n)}var t=Jw;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}La=!1};function $c(e,t){wt.call(this),this.h=e||1,this.g=t||X,this.j=Ft(this.qb,this),this.l=Date.now()}Tt($c,wt);O=$c.prototype;O.ga=!1;O.T=null;O.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),kt(this,"tick"),this.ga&&(tg(this),this.start()))}};O.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function tg(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}O.N=function(){$c.$.N.call(this),tg(this),delete this.g};function ng(e,t,n){if(typeof e=="function")n&&(e=Ft(e,n));else if(e&&typeof e.handleEvent=="function")e=Ft(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:X.setTimeout(e,t||0)}function e1(e){e.g=ng(()=>{e.g=null,e.i&&(e.i=!1,e1(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class VA extends pi{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:e1(this)}N(){super.N(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ma(e){pi.call(this),this.h=e,this.g={}}Tt(Ma,pi);var Hv=[];function t1(e,t,n,r){Array.isArray(n)||(n&&(Hv[0]=n.toString()),n=Hv);for(var i=0;i<n.length;i++){var s=qw(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function n1(e){Qm(e.g,function(t,n){this.g.hasOwnProperty(n)&&Ym(t)},e),e.g={}}Ma.prototype.N=function(){Ma.$.N.call(this),n1(this)};Ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Fc(){this.g=!0}Fc.prototype.Ea=function(){this.g=!1};function bA(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function LA(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function ks(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+$A(e,n)+(r?" "+r:"")})}function MA(e,t){e.info(function(){return"TIMEOUT: "+t})}Fc.prototype.info=function(){};function $A(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Zm(n)}catch{return t}}var ns={},qv=null;function jc(){return qv=qv||new wt}ns.Ta="serverreachability";function r1(e){jt.call(this,ns.Ta,e)}Tt(r1,jt);function $a(e){const t=jc();kt(t,new r1(t))}ns.STAT_EVENT="statevent";function i1(e,t){jt.call(this,ns.STAT_EVENT,e),this.stat=t}Tt(i1,jt);function Yt(e){const t=jc();kt(t,new i1(t,e))}ns.Ua="timingevent";function s1(e,t){jt.call(this,ns.Ua,e),this.size=t}Tt(s1,jt);function ul(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){e()},t)}var Uc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},o1={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function rg(){}rg.prototype.h=null;function Qv(e){return e.h||(e.h=e.i())}function a1(){}var cl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ig(){jt.call(this,"d")}Tt(ig,jt);function sg(){jt.call(this,"c")}Tt(sg,jt);var Kd;function zc(){}Tt(zc,rg);zc.prototype.g=function(){return new XMLHttpRequest};zc.prototype.i=function(){return{}};Kd=new zc;function fl(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Ma(this),this.P=FA,e=jd?125:void 0,this.V=new $c(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new l1}function l1(){this.i=null,this.g="",this.h=!1}var FA=45e3,u1={},Hd={};O=fl.prototype;O.setTimeout=function(e){this.P=e};function qd(e,t,n){e.L=1,e.A=Wc(Cr(t)),e.u=n,e.S=!0,c1(e,null)}function c1(e,t){e.G=Date.now(),hl(e),e.B=Cr(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),v1(n.i,"t",r),e.o=0,n=e.l.J,e.h=new l1,e.g=F1(e.l,n?t:null,!e.u),0<e.O&&(e.M=new VA(Ft(e.Pa,e,e.g),e.O)),t1(e.U,e.g,"readystatechange",e.nb),t=e.I?Kw(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),$a(),bA(e.j,e.v,e.B,e.m,e.W,e.u)}O.nb=function(e){e=e.target;const t=this.M;t&&ir(e)==3?t.l():this.Pa(e)};O.Pa=function(e){try{if(e==this.g)e:{const c=ir(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||jd||this.g&&(this.h.h||this.g.ja()||Jv(this.g)))){this.J||c!=4||t==7||(t==8||0>=h?$a(3):$a(2)),Bc(this);var n=this.g.da();this.ca=n;t:if(f1(this)){var r=Jv(this.g);e="";var i=r.length,s=ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ki(this),sa(this);var o="";break t}this.h.i=new X.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,LA(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Oa(a)){var u=a;break t}}u=null}if(n=u)ks(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qd(this,n);else{this.i=!1,this.s=3,Yt(12),ki(this),sa(this);break e}}this.S?(h1(this,c,o),jd&&this.i&&c==3&&(t1(this.U,this.V,"tick",this.mb),this.V.start())):(ks(this.j,this.m,o,null),Qd(this,o)),c==4&&ki(this),this.i&&!this.J&&(c==4?b1(this.l,this):(this.i=!1,hl(this)))}else ok(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Yt(12)):(this.s=0,Yt(13)),ki(this),sa(this)}}}catch{}finally{}};function f1(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function h1(e,t,n){let r=!0,i;for(;!e.J&&e.o<n.length;)if(i=jA(e,n),i==Hd){t==4&&(e.s=4,Yt(14),r=!1),ks(e.j,e.m,null,"[Incomplete Response]");break}else if(i==u1){e.s=4,Yt(15),ks(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else ks(e.j,e.m,i,null),Qd(e,i);f1(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,Yt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),fg(t),t.M=!0,Yt(11))):(ks(e.j,e.m,n,"[Invalid Chunked Response]"),ki(e),sa(e))}O.mb=function(){if(this.g){var e=ir(this.g),t=this.g.ja();this.o<t.length&&(Bc(this),h1(this,e,t),this.i&&e!=4&&hl(this))}};function jA(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?Hd:(n=Number(t.substring(n,r)),isNaN(n)?u1:(r+=1,r+n>t.length?Hd:(t=t.slice(r,r+n),e.o=r+n,t)))}O.cancel=function(){this.J=!0,ki(this)};function hl(e){e.Y=Date.now()+e.P,d1(e,e.P)}function d1(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=ul(Ft(e.lb,e),t)}function Bc(e){e.C&&(X.clearTimeout(e.C),e.C=null)}O.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(MA(this.j,this.B),this.L!=2&&($a(),Yt(17)),ki(this),this.s=2,sa(this)):d1(this,this.Y-e)};function sa(e){e.l.H==0||e.J||b1(e.l,e)}function ki(e){Bc(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,tg(e.V),n1(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Qd(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||Gd(n.i,e))){if(!e.K&&Gd(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Qu(n),Qc(n);else break e;cg(n),Yt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ul(Ft(n.ib,n),6e3));if(1>=w1(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Di(n,11)}else if((e.K||n.g==e)&&Qu(n),!Oa(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const y=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.i;s.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(og(s,s.h),s.h=null))}if(r.F){const v=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,Me(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=$1(r,r.J?r.pa:null,r.Y),o.K){T1(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Bc(a),hl(a)),r.g=o}else O1(r);0<n.j.length&&Gc(n)}else u[0]!="stop"&&u[0]!="close"||Di(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Di(n,7):ug(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}$a(4)}catch{}}function UA(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Vc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function zA(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Vc(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function p1(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Vc(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=zA(e),r=UA(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var m1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function BA(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Li(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Li){this.h=e.h,Hu(this,e.j),this.s=e.s,this.g=e.g,qu(this,e.m),this.l=e.l;var t=e.i,n=new Fa;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Gv(this,n),this.o=e.o}else e&&(t=String(e).match(m1))?(this.h=!1,Hu(this,t[1]||"",!0),this.s=Bo(t[2]||""),this.g=Bo(t[3]||"",!0),qu(this,t[4]),this.l=Bo(t[5]||"",!0),Gv(this,t[6]||"",!0),this.o=Bo(t[7]||"")):(this.h=!1,this.i=new Fa(null,this.h))}Li.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Wo(t,Yv,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Wo(t,Yv,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Wo(n,n.charAt(0)=="/"?HA:KA,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Wo(n,QA)),e.join("")};function Cr(e){return new Li(e)}function Hu(e,t,n){e.j=n?Bo(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function qu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Gv(e,t,n){t instanceof Fa?(e.i=t,GA(e.i,e.h)):(n||(t=Wo(t,qA)),e.i=new Fa(t,e.h))}function Me(e,t,n){e.i.set(t,n)}function Wc(e){return Me(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Bo(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Wo(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,WA),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function WA(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Yv=/[#\/\?@]/g,KA=/[#\?:]/g,HA=/[#\?]/g,qA=/[#\?@]/g,QA=/#/g;function Fa(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mi(e){e.g||(e.g=new Map,e.h=0,e.i&&BA(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}O=Fa.prototype;O.add=function(e,t){mi(this),this.i=null,e=vo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function g1(e,t){mi(e),t=vo(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function y1(e,t){return mi(e),t=vo(e,t),e.g.has(t)}O.forEach=function(e,t){mi(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};O.ta=function(){mi(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};O.Z=function(e){mi(this);let t=[];if(typeof e=="string")y1(this,e)&&(t=t.concat(this.g.get(vo(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};O.set=function(e,t){return mi(this),this.i=null,e=vo(this,e),y1(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};O.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function v1(e,t,n){g1(e,t),0<n.length&&(e.i=null,e.g.set(vo(e,t),Hm(n)),e.h+=n.length)}O.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function vo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function GA(e,t){t&&!e.j&&(mi(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(g1(this,r),v1(this,i,n))},e)),e.j=t}var YA=class{constructor(e,t){this.g=e,this.map=t}};function _1(e){this.l=e||XA,X.PerformanceNavigationTiming?(e=X.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(X.g&&X.g.Ka&&X.g.Ka()&&X.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var XA=10;function E1(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function w1(e){return e.h?1:e.g?e.g.size:0}function Gd(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function og(e,t){e.g?e.g.add(t):e.h=t}function T1(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}_1.prototype.cancel=function(){if(this.i=I1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function I1(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Hm(e.i)}var JA=class{stringify(e){return X.JSON.stringify(e,void 0)}parse(e){return X.JSON.parse(e,void 0)}};function ZA(){this.g=new JA}function ek(e,t,n){const r=n||"";try{p1(e,function(i,s){let o=i;al(i)&&(o=Zm(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function tk(e,t){const n=new Fc;if(X.Image){const r=new Image;r.onload=Bl(Kl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Bl(Kl,n,r,"TestLoadImage: error",!1,t),r.onabort=Bl(Kl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Bl(Kl,n,r,"TestLoadImage: timeout",!1,t),X.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Kl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Kc(e){this.l=e.ec||null,this.j=e.ob||!1}Tt(Kc,rg);Kc.prototype.g=function(){return new Hc(this.l,this.j)};Kc.prototype.i=function(e){return function(){return e}}({});function Hc(e,t){wt.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=ag,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Tt(Hc,wt);var ag=0;O=Hc.prototype;O.open=function(e,t){if(this.readyState!=ag)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ja(this)};O.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||X).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};O.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dl(this)),this.readyState=ag};O.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ja(this)),this.g&&(this.readyState=3,ja(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof X.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;S1(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function S1(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}O.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?dl(this):ja(this),this.readyState==3&&S1(this)}};O.Za=function(e){this.g&&(this.response=this.responseText=e,dl(this))};O.Ya=function(e){this.g&&(this.response=e,dl(this))};O.ka=function(){this.g&&dl(this)};function dl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ja(e)}O.setRequestHeader=function(e,t){this.v.append(e,t)};O.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};O.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function ja(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Hc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var nk=X.JSON.parse;function et(e){wt.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=C1,this.L=this.M=!1}Tt(et,wt);var C1="",rk=/^https?$/i,ik=["POST","PUT"];O=et.prototype;O.Oa=function(e){this.M=e};O.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Kd.g(),this.C=this.u?Qv(this.u):Qv(Kd),this.g.onreadystatechange=Ft(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){Xv(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=X.FormData&&e instanceof X.FormData,!(0<=Uw(ik,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{R1(this),0<this.B&&((this.L=sk(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ft(this.ua,this)):this.A=ng(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Xv(this,s)}};function sk(e){return Xs&&typeof e.timeout=="number"&&e.ontimeout!==void 0}O.ua=function(){typeof Km<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kt(this,"timeout"),this.abort(8))};function Xv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,x1(e),qc(e)}function x1(e){e.F||(e.F=!0,kt(e,"complete"),kt(e,"error"))}O.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,kt(this,"complete"),kt(this,"abort"),qc(this))};O.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qc(this,!0)),et.$.N.call(this)};O.La=function(){this.s||(this.G||this.v||this.l?P1(this):this.kb())};O.kb=function(){P1(this)};function P1(e){if(e.h&&typeof Km<"u"&&(!e.C[1]||ir(e)!=4||e.da()!=2)){if(e.v&&ir(e)==4)ng(e.La,0,e);else if(kt(e,"readystatechange"),ir(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(m1)[1]||null;!i&&X.self&&X.self.location&&(i=X.self.location.protocol.slice(0,-1)),r=!rk.test(i?i.toLowerCase():"")}n=r}if(n)kt(e,"complete"),kt(e,"success");else{e.m=6;try{var s=2<ir(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",x1(e)}}finally{qc(e)}}}}function qc(e,t){if(e.g){R1(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||kt(e,"ready");try{n.onreadystatechange=r}catch{}}}function R1(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(X.clearTimeout(e.A),e.A=null)}O.isActive=function(){return!!this.g};function ir(e){return e.g?e.g.readyState:0}O.da=function(){try{return 2<ir(this)?this.g.status:-1}catch{return-1}};O.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};O.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),nk(t)}};function Jv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case C1:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function ok(e){const t={};e=(e.g&&2<=ir(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(Oa(e[r]))continue;var n=DA(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}SA(t,function(r){return r.join(", ")})}O.Ia=function(){return this.m};O.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function A1(e){let t="";return Qm(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function lg(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=A1(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Me(e,t,n))}function Lo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function k1(e){this.Ga=0,this.j=[],this.l=new Fc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Lo("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Lo("baseRetryDelayMs",5e3,e),this.hb=Lo("retryDelaySeedMs",1e4,e),this.eb=Lo("forwardChannelMaxRetries",2,e),this.xa=Lo("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new _1(e&&e.concurrentRequestLimit),this.Ja=new ZA,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}O=k1.prototype;O.ra=8;O.H=1;function ug(e){if(D1(e),e.H==3){var t=e.W++,n=Cr(e.I);if(Me(n,"SID",e.K),Me(n,"RID",t),Me(n,"TYPE","terminate"),pl(e,n),t=new fl(e,e.l,t),t.L=2,t.A=Wc(Cr(n)),n=!1,X.navigator&&X.navigator.sendBeacon)try{n=X.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&X.Image&&(new Image().src=t.A,n=!0),n||(t.g=F1(t.l,null),t.g.ha(t.A)),t.G=Date.now(),hl(t)}M1(e)}function Qc(e){e.g&&(fg(e),e.g.cancel(),e.g=null)}function D1(e){Qc(e),e.u&&(X.clearTimeout(e.u),e.u=null),Qu(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&X.clearTimeout(e.m),e.m=null)}function Gc(e){if(!E1(e.i)&&!e.m){e.m=!0;var t=e.Na;ba||Zw(),La||(ba(),La=!0),eg.add(t,e),e.C=0}}function ak(e,t){return w1(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=ul(Ft(e.Na,e,t),L1(e,e.C)),e.C++,!0)}O.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new fl(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Kw(s),Hw(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=N1(this,i,t),n=Cr(this.I),Me(n,"RID",e),Me(n,"CVER",22),this.F&&Me(n,"X-HTTP-Session-Id",this.F),pl(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(A1(s)))+"&"+t:this.o&&lg(n,this.o,s)),og(this.i,i),this.bb&&Me(n,"TYPE","init"),this.P?(Me(n,"$req",t),Me(n,"SID","null"),i.aa=!0,qd(i,n,null)):qd(i,n,t),this.H=2}}else this.H==3&&(e?Zv(this,e):this.j.length==0||E1(this.i)||Zv(this))};function Zv(e,t){var n;t?n=t.m:n=e.W++;const r=Cr(e.I);Me(r,"SID",e.K),Me(r,"RID",n),Me(r,"AID",e.V),pl(e,r),e.o&&e.s&&lg(r,e.o,e.s),n=new fl(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=N1(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),og(e.i,n),qd(n,r,t)}function pl(e,t){e.na&&Qm(e.na,function(n,r){Me(t,r,n)}),e.h&&p1({},function(n,r){Me(t,r,n)})}function N1(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ft(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{ek(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function O1(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ba||Zw(),La||(ba(),La=!0),eg.add(t,e),e.A=0}}function cg(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=ul(Ft(e.Ma,e),L1(e,e.A)),e.A++,!0)}O.Ma=function(){if(this.u=null,V1(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=ul(Ft(this.jb,this),e)}};O.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Yt(10),Qc(this),V1(this))};function fg(e){e.B!=null&&(X.clearTimeout(e.B),e.B=null)}function V1(e){e.g=new fl(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Cr(e.wa);Me(t,"RID","rpc"),Me(t,"SID",e.K),Me(t,"AID",e.V),Me(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Me(t,"TO",e.qa),Me(t,"TYPE","xmlhttp"),pl(e,t),e.o&&e.s&&lg(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Wc(Cr(t)),n.u=null,n.S=!0,c1(n,e)}O.ib=function(){this.v!=null&&(this.v=null,Qc(this),cg(this),Yt(19))};function Qu(e){e.v!=null&&(X.clearTimeout(e.v),e.v=null)}function b1(e,t){var n=null;if(e.g==t){Qu(e),fg(e),e.g=null;var r=2}else if(Gd(e.i,t))n=t.F,T1(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;r=jc(),kt(r,new s1(r,n)),Gc(e)}else O1(e);else if(i=t.s,i==3||i==0&&0<t.ca||!(r==1&&ak(e,t)||r==2&&cg(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Di(e,5);break;case 4:Di(e,10);break;case 3:Di(e,6);break;default:Di(e,2)}}}function L1(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Di(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=Ft(e.pb,e);n||(n=new Li("//www.google.com/images/cleardot.gif"),X.location&&X.location.protocol=="http"||Hu(n,"https"),Wc(n)),tk(n.toString(),r)}else Yt(2);e.H=0,e.h&&e.h.za(t),M1(e),D1(e)}O.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Yt(2)):(this.l.info("Failed to ping google.com"),Yt(1))};function M1(e){if(e.H=0,e.ma=[],e.h){const t=I1(e.i);(t.length!=0||e.j.length!=0)&&(Bv(e.ma,t),Bv(e.ma,e.j),e.i.i.length=0,Hm(e.j),e.j.length=0),e.h.ya()}}function $1(e,t,n){var r=n instanceof Li?Cr(n):new Li(n);if(r.g!="")t&&(r.g=t+"."+r.g),qu(r,r.m);else{var i=X.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Li(null);r&&Hu(s,r),t&&(s.g=t),i&&qu(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Me(r,n,t),Me(r,"VER",e.ra),pl(e,r),r}function F1(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new et(new Kc({ob:n})):new et(e.va),t.Oa(e.J),t}O.isActive=function(){return!!this.h&&this.h.isActive(this)};function j1(){}O=j1.prototype;O.Ba=function(){};O.Aa=function(){};O.za=function(){};O.ya=function(){};O.isActive=function(){return!0};O.Va=function(){};function Gu(){if(Xs&&!(10<=Number(EA)))throw Error("Environmental error: no available transport.")}Gu.prototype.g=function(e,t){return new Sn(e,t)};function Sn(e,t){wt.call(this),this.g=new k1(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Oa(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Oa(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new _o(this)}Tt(Sn,wt);Sn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Yt(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=$1(e,null,e.Y),Gc(e)};Sn.prototype.close=function(){ug(this.g)};Sn.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Zm(e),e=n);t.j.push(new YA(t.fb++,e)),t.H==3&&Gc(t)};Sn.prototype.N=function(){this.g.h=null,delete this.j,ug(this.g),delete this.g,Sn.$.N.call(this)};function U1(e){ig.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Tt(U1,ig);function z1(){sg.call(this),this.status=1}Tt(z1,sg);function _o(e){this.g=e}Tt(_o,j1);_o.prototype.Ba=function(){kt(this.g,"a")};_o.prototype.Aa=function(e){kt(this.g,new U1(e))};_o.prototype.za=function(e){kt(this.g,new z1)};_o.prototype.ya=function(){kt(this.g,"b")};function lk(){this.blockSize=-1}function Yn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Tt(Yn,lk);Yn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ch(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}Yn.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)Ch(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Ch(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Ch(this,r),i=0;break}}this.h=i,this.i+=t};Yn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function Ce(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var uk={};function hg(e){return-128<=e&&128>e?yA(e,function(t){return new Ce([t|0],0>t?-1:0)}):new Ce([e|0],0>e?-1:0)}function sr(e){if(isNaN(e)||!isFinite(e))return Us;if(0>e)return xt(sr(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Yd;return new Ce(t,0)}function B1(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return xt(B1(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=sr(Math.pow(t,8)),r=Us,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=sr(Math.pow(t,s)),r=r.R(s).add(sr(o))):(r=r.R(n),r=r.add(sr(o)))}return r}var Yd=4294967296,Us=hg(0),Xd=hg(1),e_=hg(16777216);O=Ce.prototype;O.ea=function(){if(Nn(this))return-xt(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Yd+r)*t,t*=Yd}return e};O.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(vr(this))return"0";if(Nn(this))return"-"+xt(this).toString(e);for(var t=sr(Math.pow(e,6)),n=this,r="";;){var i=Xu(n,t).g;n=Yu(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,vr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};O.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function vr(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Nn(e){return e.h==-1}O.X=function(e){return e=Yu(this,e),Nn(e)?-1:vr(e)?0:1};function xt(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Ce(n,~e.h).add(Xd)}O.abs=function(){return Nn(this)?xt(this):this};O.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ce(n,n[n.length-1]&-2147483648?-1:0)};function Yu(e,t){return e.add(xt(t))}O.R=function(e){if(vr(this)||vr(e))return Us;if(Nn(this))return Nn(e)?xt(this).R(xt(e)):xt(xt(this).R(e));if(Nn(e))return xt(this.R(xt(e)));if(0>this.X(e_)&&0>e.X(e_))return sr(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,l=e.D(i)&65535;n[2*r+2*i]+=o*l,Hl(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Hl(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Hl(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Hl(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Ce(n,0)};function Hl(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Mo(e,t){this.g=e,this.h=t}function Xu(e,t){if(vr(t))throw Error("division by zero");if(vr(e))return new Mo(Us,Us);if(Nn(e))return t=Xu(xt(e),t),new Mo(xt(t.g),xt(t.h));if(Nn(t))return t=Xu(e,xt(t)),new Mo(xt(t.g),t.h);if(30<e.g.length){if(Nn(e)||Nn(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Xd,r=t;0>=r.X(e);)n=t_(n),r=t_(r);var i=hs(n,1),s=hs(r,1);for(r=hs(r,2),n=hs(n,2);!vr(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=hs(r,1),n=hs(n,1)}return t=Yu(e,i.R(t)),new Mo(i,t)}for(i=Us;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=sr(n),o=s.R(t);Nn(o)||0<o.X(e);)n-=r,s=sr(n),o=s.R(t);vr(s)&&(s=Xd),i=i.add(s),e=Yu(e,o)}return new Mo(i,e)}O.gb=function(e){return Xu(this,e).h};O.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Ce(n,this.h&e.h)};O.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Ce(n,this.h|e.h)};O.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Ce(n,this.h^e.h)};function t_(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Ce(n,e.h)}function hs(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Ce(i,e.h)}Gu.prototype.createWebChannel=Gu.prototype.g;Sn.prototype.send=Sn.prototype.u;Sn.prototype.open=Sn.prototype.m;Sn.prototype.close=Sn.prototype.close;Uc.NO_ERROR=0;Uc.TIMEOUT=8;Uc.HTTP_ERROR=6;o1.COMPLETE="complete";a1.EventType=cl;cl.OPEN="a";cl.CLOSE="b";cl.ERROR="c";cl.MESSAGE="d";wt.prototype.listen=wt.prototype.O;et.prototype.listenOnce=et.prototype.P;et.prototype.getLastError=et.prototype.Sa;et.prototype.getLastErrorCode=et.prototype.Ia;et.prototype.getStatus=et.prototype.da;et.prototype.getResponseJson=et.prototype.Wa;et.prototype.getResponseText=et.prototype.ja;et.prototype.send=et.prototype.ha;et.prototype.setWithCredentials=et.prototype.Oa;Yn.prototype.digest=Yn.prototype.l;Yn.prototype.reset=Yn.prototype.reset;Yn.prototype.update=Yn.prototype.j;Ce.prototype.add=Ce.prototype.add;Ce.prototype.multiply=Ce.prototype.R;Ce.prototype.modulo=Ce.prototype.gb;Ce.prototype.compare=Ce.prototype.X;Ce.prototype.toNumber=Ce.prototype.ea;Ce.prototype.toString=Ce.prototype.toString;Ce.prototype.getBits=Ce.prototype.D;Ce.fromNumber=sr;Ce.fromString=B1;var ck=function(){return new Gu},fk=function(){return jc()},xh=Uc,hk=o1,dk=ns,n_={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ql=a1,pk=et,mk=Yn,zs=Ce;const r_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eo="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new bw("@firebase/firestore");function $o(){return Wi.logLevel}function U(e,...t){if(Wi.logLevel<=pe.DEBUG){const n=t.map(dg);Wi.debug(`Firestore (${Eo}): ${e}`,...n)}}function xr(e,...t){if(Wi.logLevel<=pe.ERROR){const n=t.map(dg);Wi.error(`Firestore (${Eo}): ${e}`,...n)}}function Js(e,...t){if(Wi.logLevel<=pe.WARN){const n=t.map(dg);Wi.warn(`Firestore (${Eo}): ${e}`,...n)}}function dg(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(e="Unexpected state"){const t=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: `+e;throw xr(t),new Error(t)}function be(e,t){e||Y()}function ee(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends yo{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class gk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class yk{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vk{constructor(t){this.t=t,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Er,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Er)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string"),new W1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return be(t===null||typeof t=="string"),new Lt(t)}}class _k{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ek{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new _k(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wk{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tk{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,U("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(be(typeof n.token=="string"),this.R=n.token,new wk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=Ik(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function ve(e,t){return e<t?-1:e>t?1:0}function Zs(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new $(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new $(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new $(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return gt.fromMillis(Date.now())}static fromDate(t){return gt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new gt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ve(this.nanoseconds,t.nanoseconds):ve(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Z(t)}static min(){return new Z(new gt(0,0))}static max(){return new Z(new gt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t,n,r){n===void 0?n=0:n>t.length&&Y(),r===void 0?r=t.length-n:r>t.length-n&&Y(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ua.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ua?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class $e extends Ua{construct(t,n,r){return new $e(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new $(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const Sk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends Ua{construct(t,n,r){return new Rt(t,n,r)}static isValidIdentifier(t){return Sk.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rt(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new $(x.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new $(x.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new $(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new $(x.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Rt(n)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.path=t}static fromPath(t){return new K($e.fromString(t))}static fromName(t){return new K($e.fromString(t).popFirst(5))}static empty(){return new K($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&$e.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return $e.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new K(new $e(t.slice()))}}function Ck(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new si(i,K.empty(),t)}function xk(e){return new si(e.readTime,e.key,-1)}class si{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new si(Z.min(),K.empty(),-1)}static max(){return new si(Z.max(),K.empty(),-1)}}function Pk(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=K.comparator(e.documentKey,t.documentKey),n!==0?n:ve(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ak{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(e){if(e.code!==x.FAILED_PRECONDITION||e.message!==Rk)throw e;U("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new A((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof A?n:A.resolve(n)}catch(n){return A.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):A.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):A.reject(n)}static resolve(t){return new A((n,r)=>{n(t)})}static reject(t){return new A((n,r)=>{r(t)})}static waitFor(t){return new A((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=A.resolve(!1);for(const r of t)n=n.next(i=>i?A.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new A((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new A((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function gl(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}pg._e=-1;function Yc(e){return e==null}function Ju(e){return e===0&&1/e==-1/0}function kk(e){return typeof e=="number"&&Number.isInteger(e)&&!Ju(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function rs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function H1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,n){this.comparator=t,this.root=n||Ct.EMPTY}insert(t,n){return new Xe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(t){return new Xe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ql(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ql(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ql(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ql(this.root,t,this.comparator,!0)}}class Ql{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ct{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Ct.RED,this.left=i??Ct.EMPTY,this.right=s??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Ct(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Ct.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();const t=this.left.check();if(t!==this.right.check())throw Y();return t+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(t,n,r,i,s){return this}insert(t,n,r){return new Ct(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.comparator=t,this.data=new Xe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new s_(this.data.getIterator())}getIteratorFrom(t){return new s_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Dt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Dt(this.comparator);return n.data=t,n}}class s_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.fields=t,t.sort(Rt.comparator)}static empty(){return new vn([])}unionWith(t){let n=new Dt(Rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new vn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Zs(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new q1("Invalid base64 string: "+s):s}}(t);return new zt(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new zt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ve(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const Dk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oi(e){if(be(!!e),typeof e=="string"){let t=0;const n=Dk.exec(e);if(be(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:st(e.seconds),nanos:st(e.nanos)}}function st(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ki(e){return typeof e=="string"?zt.fromBase64String(e):zt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function gg(e){const t=e.mapValue.fields.__previous_value__;return mg(t)?gg(t):t}function za(e){const t=oi(e.mapValue.fields.__local_write_time__.timestampValue);return new gt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(t,n,r,i,s,o,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ba{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Ba("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Ba&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?mg(e)?4:Ok(e)?9007199254740991:10:Y()}function fr(e,t){if(e===t)return!0;const n=Hi(e);if(n!==Hi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return za(e).isEqual(za(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=oi(i.timestampValue),a=oi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return Ki(i.bytesValue).isEqual(Ki(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return st(i.geoPointValue.latitude)===st(s.geoPointValue.latitude)&&st(i.geoPointValue.longitude)===st(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return st(i.integerValue)===st(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=st(i.doubleValue),a=st(s.doubleValue);return o===a?Ju(o)===Ju(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Zs(e.arrayValue.values||[],t.arrayValue.values||[],fr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(i_(o)!==i_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!fr(o[l],a[l])))return!1;return!0}(e,t);default:return Y()}}function Wa(e,t){return(e.values||[]).find(n=>fr(n,t))!==void 0}function eo(e,t){if(e===t)return 0;const n=Hi(e),r=Hi(t);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=st(s.integerValue||s.doubleValue),l=st(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return o_(e.timestampValue,t.timestampValue);case 4:return o_(za(e),za(t));case 5:return ve(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Ki(s),l=Ki(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=ve(a[u],l[u]);if(c!==0)return c}return ve(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=ve(st(s.latitude),st(o.latitude));return a!==0?a:ve(st(s.longitude),st(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=eo(a[u],l[u]);if(c)return c}return ve(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===Gl.mapValue&&o===Gl.mapValue)return 0;if(s===Gl.mapValue)return 1;if(o===Gl.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const f=ve(l[h],c[h]);if(f!==0)return f;const d=eo(a[l[h]],u[c[h]]);if(d!==0)return d}return ve(l.length,c.length)}(e.mapValue,t.mapValue);default:throw Y()}}function o_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ve(e,t);const n=oi(e),r=oi(t),i=ve(n.seconds,r.seconds);return i!==0?i:ve(n.nanos,r.nanos)}function to(e){return Jd(e)}function Jd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=oi(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Ki(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return K.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Jd(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Jd(n.fields[o])}`;return i+"}"}(e.mapValue):Y()}function a_(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Zd(e){return!!e&&"integerValue"in e}function yg(e){return!!e&&"arrayValue"in e}function l_(e){return!!e&&"nullValue"in e}function u_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function hu(e){return!!e&&"mapValue"in e}function oa(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return rs(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=oa(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=oa(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Ok(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.value=t}static empty(){return new sn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!hu(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=oa(n)}setAll(t){let n=Rt.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=oa(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());hu(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return fr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];hu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){rs(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new sn(oa(this.value))}}function Q1(e){const t=[];return rs(e.fields,(n,r)=>{const i=new Rt([n]);if(hu(r)){const s=Q1(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new vn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new $t(t,0,Z.min(),Z.min(),Z.min(),sn.empty(),0)}static newFoundDocument(t,n,r,i){return new $t(t,1,n,Z.min(),r,i,0)}static newNoDocument(t,n){return new $t(t,2,n,Z.min(),Z.min(),sn.empty(),0)}static newUnknownDocument(t,n){return new $t(t,3,n,Z.min(),Z.min(),sn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $t&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(t,n){this.position=t,this.inclusive=n}}function c_(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=K.comparator(K.fromName(o.referenceValue),n.key):r=eo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function f_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!fr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(t,n="asc"){this.field=t,this.dir=n}}function Vk(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{}class at extends G1{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new Lk(t,n,r):n==="array-contains"?new Fk(t,r):n==="in"?new jk(t,r):n==="not-in"?new Uk(t,r):n==="array-contains-any"?new zk(t,r):new at(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new Mk(t,r):new $k(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(eo(n,this.value)):n!==null&&Hi(this.value)===Hi(n)&&this.matchesComparison(eo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends G1{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new Xn(t,n)}matches(t){return Y1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Y1(e){return e.op==="and"}function X1(e){return bk(e)&&Y1(e)}function bk(e){for(const t of e.filters)if(t instanceof Xn)return!1;return!0}function ep(e){if(e instanceof at)return e.field.canonicalString()+e.op.toString()+to(e.value);if(X1(e))return e.filters.map(t=>ep(t)).join(",");{const t=e.filters.map(n=>ep(n)).join(",");return`${e.op}(${t})`}}function J1(e,t){return e instanceof at?function(r,i){return i instanceof at&&r.op===i.op&&r.field.isEqual(i.field)&&fr(r.value,i.value)}(e,t):e instanceof Xn?function(r,i){return i instanceof Xn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&J1(o,i.filters[a]),!0):!1}(e,t):void Y()}function Z1(e){return e instanceof at?function(n){return`${n.field.canonicalString()} ${n.op} ${to(n.value)}`}(e):e instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(Z1).join(" ,")+"}"}(e):"Filter"}class Lk extends at{constructor(t,n,r){super(t,n,r),this.key=K.fromName(r.referenceValue)}matches(t){const n=K.comparator(t.key,this.key);return this.matchesComparison(n)}}class Mk extends at{constructor(t,n){super(t,"in",n),this.keys=eT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class $k extends at{constructor(t,n){super(t,"not-in",n),this.keys=eT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function eT(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class Fk extends at{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return yg(n)&&Wa(n.arrayValue,this.value)}}class jk extends at{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Wa(this.value.arrayValue,n)}}class Uk extends at{constructor(t,n){super(t,"not-in",n)}matches(t){if(Wa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Wa(this.value.arrayValue,n)}}class zk extends at{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!yg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function h_(e,t=null,n=[],r=[],i=null,s=null,o=null){return new Bk(e,t,n,r,i,s,o)}function vg(e){const t=ee(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>ep(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Yc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>to(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>to(r)).join(",")),t.ce=n}return t.ce}function _g(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Vk(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!J1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!f_(e.startAt,t.startAt)&&f_(e.endAt,t.endAt)}function tp(e){return K.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Wk(e,t,n,r,i,s,o,a){return new yl(e,t,n,r,i,s,o,a)}function Xc(e){return new yl(e)}function d_(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function tT(e){return e.collectionGroup!==null}function aa(e){const t=ee(e);if(t.le===null){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Dt(Rt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new ec(s,r))}),n.has(Rt.keyField().canonicalString())||t.le.push(new ec(Rt.keyField(),r))}return t.le}function lr(e){const t=ee(e);return t.he||(t.he=Kk(t,aa(e))),t.he}function Kk(e,t){if(e.limitType==="F")return h_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ec(i.field,s)});const n=e.endAt?new Zu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Zu(e.startAt.position,e.startAt.inclusive):null;return h_(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function np(e,t){const n=e.filters.concat([t]);return new yl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function rp(e,t,n){return new yl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Jc(e,t){return _g(lr(e),lr(t))&&e.limitType===t.limitType}function nT(e){return`${vg(lr(e))}|lt:${e.limitType}`}function ps(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Z1(i)).join(", ")}]`),Yc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>to(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>to(i)).join(",")),`Target(${r})`}(lr(e))}; limitType=${e.limitType})`}function Zc(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):K.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of aa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=c_(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,aa(r),i)||r.endAt&&!function(o,a,l){const u=c_(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,aa(r),i))}(e,t)}function Hk(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function rT(e){return(t,n)=>{let r=!1;for(const i of aa(e)){const s=qk(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function qk(e,t,n){const r=e.field.isKeyField()?K.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?eo(l,u):Y()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){rs(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return H1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=new Xe(K.comparator);function Pr(){return Qk}const iT=new Xe(K.comparator);function Ko(...e){let t=iT;for(const n of e)t=t.insert(n.key,n);return t}function sT(e){let t=iT;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Ni(){return la()}function oT(){return la()}function la(){return new wo(e=>e.toString(),(e,t)=>e.isEqual(t))}const Gk=new Xe(K.comparator),Yk=new Dt(K.comparator);function ce(...e){let t=Yk;for(const n of e)t=t.add(n);return t}const Xk=new Dt(ve);function Jk(){return Xk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ju(t)?"-0":t}}function lT(e){return{integerValue:""+e}}function Zk(e,t){return kk(t)?lT(t):aT(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(){this._=void 0}}function eD(e,t,n){return e instanceof tc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&mg(s)&&(s=gg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof Ka?cT(e,t):e instanceof Ha?fT(e,t):function(i,s){const o=uT(i,s),a=p_(o)+p_(i.Ie);return Zd(o)&&Zd(i.Ie)?lT(a):aT(i.serializer,a)}(e,t)}function tD(e,t,n){return e instanceof Ka?cT(e,t):e instanceof Ha?fT(e,t):n}function uT(e,t){return e instanceof nc?function(r){return Zd(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class tc extends ef{}class Ka extends ef{constructor(t){super(),this.elements=t}}function cT(e,t){const n=hT(t);for(const r of e.elements)n.some(i=>fr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ha extends ef{constructor(t){super(),this.elements=t}}function fT(e,t){let n=hT(t);for(const r of e.elements)n=n.filter(i=>!fr(i,r));return{arrayValue:{values:n}}}class nc extends ef{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function p_(e){return st(e.integerValue||e.doubleValue)}function hT(e){return yg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function nD(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Ka&&i instanceof Ka||r instanceof Ha&&i instanceof Ha?Zs(r.elements,i.elements,fr):r instanceof nc&&i instanceof nc?fr(r.Ie,i.Ie):r instanceof tc&&i instanceof tc}(e.transform,t.transform)}class rD{constructor(t,n){this.version=t,this.transformResults=n}}class Qn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Qn}static exists(t){return new Qn(void 0,t)}static updateTime(t){return new Qn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function du(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class tf{}function dT(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Eg(e.key,Qn.none()):new vl(e.key,e.data,Qn.none());{const n=e.data,r=sn.empty();let i=new Dt(Rt.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new gi(e.key,r,new vn(i.toArray()),Qn.none())}}function iD(e,t,n){e instanceof vl?function(i,s,o){const a=i.value.clone(),l=g_(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof gi?function(i,s,o){if(!du(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=g_(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(pT(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function ua(e,t,n,r){return e instanceof vl?function(s,o,a,l){if(!du(s.precondition,o))return a;const u=s.value.clone(),c=y_(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof gi?function(s,o,a,l){if(!du(s.precondition,o))return a;const u=y_(s.fieldTransforms,l,o),c=o.data;return c.setAll(pT(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(e,t,n,r):function(s,o,a){return du(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function sD(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=uT(r.transform,i||null);s!=null&&(n===null&&(n=sn.empty()),n.set(r.field,s))}return n||null}function m_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Zs(r,i,(s,o)=>nD(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class vl extends tf{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gi extends tf{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function pT(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function g_(e,t,n){const r=new Map;be(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,tD(o,a,n[i]))}return r}function y_(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,eD(s,o,t))}return r}class Eg extends tf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oD extends tf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&iD(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=ua(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=ua(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=oT();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=dT(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ce())}isEqual(t){return this.batchId===t.batchId&&Zs(this.mutations,t.mutations,(n,r)=>m_(n,r))&&Zs(this.baseMutations,t.baseMutations,(n,r)=>m_(n,r))}}class wg{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){be(t.mutations.length===r.length);let i=function(){return Gk}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new wg(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,de;function cD(e){switch(e){default:return Y();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function mT(e){if(e===void 0)return xr("GRPC error has no .code"),x.UNKNOWN;switch(e){case it.OK:return x.OK;case it.CANCELLED:return x.CANCELLED;case it.UNKNOWN:return x.UNKNOWN;case it.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case it.INTERNAL:return x.INTERNAL;case it.UNAVAILABLE:return x.UNAVAILABLE;case it.UNAUTHENTICATED:return x.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case it.NOT_FOUND:return x.NOT_FOUND;case it.ALREADY_EXISTS:return x.ALREADY_EXISTS;case it.PERMISSION_DENIED:return x.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case it.ABORTED:return x.ABORTED;case it.OUT_OF_RANGE:return x.OUT_OF_RANGE;case it.UNIMPLEMENTED:return x.UNIMPLEMENTED;case it.DATA_LOSS:return x.DATA_LOSS;default:return Y()}}(de=it||(it={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=new zs([4294967295,4294967295],0);function v_(e){const t=fD().encode(e),n=new mk;return n.update(t),new Uint8Array(n.digest())}function __(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new zs([n,r],0),new zs([i,s],0)]}class Tg{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ho(`Invalid padding: ${n}`);if(r<0)throw new Ho(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ho(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Ho(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=zs.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(zs.fromNumber(r)));return i.compare(hD)===1&&(i=new zs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=v_(t),[r,i]=__(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new Tg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=v_(t),[r,i]=__(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Ho extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,_l.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new nf(Z.min(),i,new Xe(ve),Pr(),ce())}}class _l{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new _l(r,n,ce(),ce(),ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(t,n,r,i){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i}}class gT{constructor(t,n){this.targetId=t,this.fe=n}}class yT{constructor(t,n,r=zt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class E_{constructor(){this.ge=0,this.pe=T_(),this.ye=zt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=ce(),n=ce(),r=ce();return this.pe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y()}}),new _l(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=T_()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,be(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class dD{constructor(t){this.Le=t,this.ke=new Map,this.qe=Pr(),this.Qe=w_(),this.Ke=new Xe(ve)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:Y()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.fe.count,i=this.Ye(n);if(i){const s=i.target;if(tp(s))if(r===0){const o=new K(s.path);this.We(n,o,$t.newNoDocument(o,Z.min()))}else be(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),l=a?this.et(a,t,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ki(r).toUint8Array()}catch(l){if(l instanceof q1)return Js("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Tg(o,i,s)}catch(l){return Js(l instanceof Ho?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(n,s,null),i++)}),i}it(t){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&tp(a.target)){const l=new K(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,$t.newNoDocument(l,t))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ce();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const i=new nf(t,n,this.Ke,this.qe,r);return this.qe=Pr(),this.Qe=w_(),this.Ke=new Xe(ve),i}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.st(t,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new E_,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new Dt(ve),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||U("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new E_),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function w_(){return new Xe(K.comparator)}function T_(){return new Xe(K.comparator)}const pD={asc:"ASCENDING",desc:"DESCENDING"},mD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gD={and:"AND",or:"OR"};class yD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ip(e,t){return e.useProto3Json||Yc(t)?t:{value:t}}function rc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function vT(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function vD(e,t){return rc(e,t.toTimestamp())}function ur(e){return be(!!e),Z.fromTimestamp(function(n){const r=oi(n);return new gt(r.seconds,r.nanos)}(e))}function Ig(e,t){return function(r){return new $e(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function _T(e){const t=$e.fromString(e);return be(IT(t)),t}function sp(e,t){return Ig(e.databaseId,t.path)}function Ph(e,t){const n=_T(t);if(n.get(1)!==e.databaseId.projectId)throw new $(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new $(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new K(ET(n))}function op(e,t){return Ig(e.databaseId,t)}function _D(e){const t=_T(e);return t.length===4?$e.emptyPath():ET(t)}function ap(e){return new $e(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ET(e){return be(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function I_(e,t,n){return{name:sp(e,t),fields:n.value.mapValue.fields}}function ED(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Y()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(be(c===void 0||typeof c=="string"),zt.fromBase64String(c||"")):(be(c===void 0||c instanceof Uint8Array),zt.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(u){const c=u.code===void 0?x.UNKNOWN:mT(u.code);return new $(c,u.message||"")}(o);n=new yT(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ph(e,r.document.name),s=ur(r.document.updateTime),o=r.document.createTime?ur(r.document.createTime):Z.min(),a=new sn({mapValue:{fields:r.document.fields}}),l=$t.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new pu(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ph(e,r.document),s=r.readTime?ur(r.readTime):Z.min(),o=$t.newNoDocument(i,s),a=r.removedTargetIds||[];n=new pu([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ph(e,r.document),s=r.removedTargetIds||[];n=new pu([],s,i,null)}else{if(!("filter"in t))return Y();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new uD(i,s),a=r.targetId;n=new gT(a,o)}}return n}function wD(e,t){let n;if(t instanceof vl)n={update:I_(e,t.key,t.value)};else if(t instanceof Eg)n={delete:sp(e,t.key)};else if(t instanceof gi)n={update:I_(e,t.key,t.data),updateMask:kD(t.fieldMask)};else{if(!(t instanceof oD))return Y();n={verify:sp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof tc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ka)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ha)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof nc)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Y()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:vD(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Y()}(e,t.precondition)),n}function TD(e,t){return e&&e.length>0?(be(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?ur(i.updateTime):ur(s);return o.isEqual(Z.min())&&(o=ur(s)),new rD(o,i.transformResults||[])}(n,t))):[]}function ID(e,t){return{documents:[op(e,t.path)]}}function SD(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=op(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=op(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return TT(Xn.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:ms(h.field),direction:PD(h.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=ip(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function CD(e){let t=_D(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){be(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(h){const f=wT(h);return f instanceof Xn&&X1(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(y){return new ec(gs(y.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Yc(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,d=h.values||[];return new Zu(d,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,d=h.values||[];return new Zu(d,f)}(n.endAt)),Wk(t,i,o,s,a,"F",l,u)}function xD(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function wT(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=gs(n.unaryFilter.field);return at.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=gs(n.unaryFilter.field);return at.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=gs(n.unaryFilter.field);return at.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=gs(n.unaryFilter.field);return at.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(e):e.fieldFilter!==void 0?function(n){return at.create(gs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(r=>wT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y()}}(n.compositeFilter.op))}(e):Y()}function PD(e){return pD[e]}function RD(e){return mD[e]}function AD(e){return gD[e]}function ms(e){return{fieldPath:e.canonicalString()}}function gs(e){return Rt.fromServerFormat(e.fieldPath)}function TT(e){return e instanceof at?function(n){if(n.op==="=="){if(u_(n.value))return{unaryFilter:{field:ms(n.field),op:"IS_NAN"}};if(l_(n.value))return{unaryFilter:{field:ms(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(u_(n.value))return{unaryFilter:{field:ms(n.field),op:"IS_NOT_NAN"}};if(l_(n.value))return{unaryFilter:{field:ms(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ms(n.field),op:RD(n.op),value:n.value}}}(e):e instanceof Xn?function(n){const r=n.getFilters().map(i=>TT(i));return r.length===1?r[0]:{compositeFilter:{op:AD(n.op),filters:r}}}(e):Y()}function kD(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function IT(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(t,n,r,i,s=Z.min(),o=Z.min(),a=zt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Wr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(t){this.ut=t}}function ND(e){const t=CD({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?rp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.on=new VD}addToCollectionParentIndex(t,n){return this.on.add(n),A.resolve()}getCollectionParents(t,n){return A.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return A.resolve()}deleteFieldIndex(t,n){return A.resolve()}deleteAllFieldIndexes(t){return A.resolve()}createTargetIndexes(t,n){return A.resolve()}getDocumentsMatchingTarget(t,n){return A.resolve(null)}getIndexType(t,n){return A.resolve(0)}getFieldIndexes(t,n){return A.resolve([])}getNextCollectionGroupToUpdate(t){return A.resolve(null)}getMinOffset(t,n){return A.resolve(si.min())}getMinOffsetFromCollectionGroup(t,n){return A.resolve(si.min())}updateCollectionGroup(t,n,r){return A.resolve()}updateIndexEntries(t,n){return A.resolve()}}class VD{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Dt($e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Dt($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new no(0)}static Nn(){return new no(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.changes=new wo(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,$t.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?A.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&ua(r.mutation,i,vn.empty(),gt.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,ce()).next(()=>r))}getLocalViewOfDocuments(t,n,r=ce()){const i=Ni();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=Ko();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Ni();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,ce()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Pr();const o=la(),a=function(){return la()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof gi)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),ua(c.mutation,u,c.mutation.getFieldMask(),gt.now())):o.set(u.key,vn.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new LD(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const r=la();let i=new Xe((o,a)=>o-a),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||vn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||ce()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=oT();c.forEach(f=>{if(!s.has(f)){const d=dT(n.get(f),r.get(f));d!==null&&h.set(f,d),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,h))}return A.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return K.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):tT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):A.resolve(Ni());let a=-1,l=s;return o.next(u=>A.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?A.resolve():this.remoteDocumentCache.getEntry(t,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,ce())).next(c=>({batchId:a,changes:sT(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new K(n)).next(r=>{let i=Ko();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=Ko();return this.indexManager.getCollectionParents(t,s).next(a=>A.forEach(a,l=>{const u=function(h,f){return new yl(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,$t.newInvalidDocument(c)))});let a=Ko();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&ua(c.mutation,u,vn.empty(),gt.now()),Zc(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return A.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ur(i.createTime)}}(n)),A.resolve()}getNamedQuery(t,n){return A.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(i){return{name:i.name,query:ND(i.bundledQuery),readTime:ur(i.readTime)}}(n)),A.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.overlays=new Xe(K.comparator),this.lr=new Map}getOverlay(t,n){return A.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Ni();return A.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.lt(t,n,s)}),A.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),A.resolve()}getOverlaysForCollection(t,n,r){const i=Ni(),s=n.length+1,o=new K(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return A.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new Xe((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Ni(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ni(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return A.resolve(a)}lt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new lD(n,r));let s=this.lr.get(n);s===void 0&&(s=ce(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(){this.hr=new Dt(vt.Pr),this.Ir=new Dt(vt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const r=new vt(t,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.dr(new vt(t,n))}Ar(t,n){t.forEach(r=>this.removeReference(r,n))}Rr(t){const n=new K(new $e([])),r=new vt(n,t),i=new vt(n,t+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new K(new $e([])),r=new vt(n,t),i=new vt(n,t+1);let s=ce();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new vt(t,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class vt{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return K.comparator(t.key,n.key)||ve(t.gr,n.gr)}static Tr(t,n){return ve(t.gr,n.gr)||K.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Dt(vt.Pr)}checkEmpty(t){return A.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new aD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new vt(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return A.resolve(o)}lookupMutationBatch(t,n){return A.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return A.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return A.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new vt(n,0),i=new vt(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),A.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Dt(ve);return n.forEach(i=>{const s=new vt(i,0),o=new vt(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),A.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;K.isDocumentKey(s)||(s=s.child(""));const o=new vt(new K(s),0);let a=new Dt(ve);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),A.resolve(this.br(a))}br(t){const n=[];return t.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){be(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return A.forEach(n.mutations,i=>{const s=new vt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.yr=r})}Fn(t){}containsKey(t,n){const r=new vt(n,0),i=this.yr.firstAfterOrEqual(r);return A.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,A.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(t){this.Cr=t,this.docs=function(){return new Xe(K.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return A.resolve(r?r.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(t,n){let r=Pr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$t.newInvalidDocument(i))}),A.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Pr();const o=n.path,a=new K(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Pk(xk(c),r)<=0||(i.has(c.key)||Zc(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return A.resolve(s)}getAllFromCollectionGroup(t,n,r,i){Y()}vr(t,n){return A.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new zD(this)}getSize(t){return A.resolve(this.size)}}class zD extends bD{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(t,i)):this._r.removeEntry(r)}),A.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(t){this.persistence=t,this.Fr=new wo(n=>vg(n),_g),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Sg,this.targetCount=0,this.Nr=no.On()}forEachTarget(t,n){return this.Fr.forEach((r,i)=>n(i)),A.resolve()}getLastRemoteSnapshotVersion(t){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return A.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),A.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new no(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,A.resolve()}updateTargetData(t,n){return this.kn(n),A.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,A.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),A.waitFor(s).next(()=>i)}getTargetCount(t){return A.resolve(this.targetCount)}getTargetData(t,n){const r=this.Fr.get(n)||null;return A.resolve(r)}addMatchingKeys(t,n,r){return this.Or.Er(n,r),A.resolve()}removeMatchingKeys(t,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),A.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),A.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Or.mr(n);return A.resolve(r)}containsKey(t,n){return A.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(t,n){this.Br={},this.overlays={},this.Lr=new pg(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new BD(this),this.indexManager=new OD,this.remoteDocumentCache=function(i){return new UD(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new DD(n),this.Kr=new $D(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new FD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new jD(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,r){U("MemoryPersistence","Starting transaction:",t);const i=new KD(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(t,n){return A.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class KD extends Ak{constructor(t){super(),this.currentSequenceNumber=t}}class Cg{constructor(t){this.persistence=t,this.Gr=new Sg,this.zr=null}static jr(t){return new Cg(t)}get Hr(){if(this.zr)return this.zr;throw Y()}addReference(t,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),A.resolve()}removeReference(t,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),A.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),A.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.Hr,r=>{const i=K.fromPath(r);return this.Jr(t,i).next(s=>{s||n.removeEntry(i,Z.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return A.or([()=>A.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}static Qi(t,n){let r=ce(),i=ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new xg(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.zi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new HD;return this.Hi(t,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(t,n,o,a.size)})}).next(()=>s.result)}Ji(t,n,r,i){return r.documentReadCount<this.Ui?($o()<=pe.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",ps(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),A.resolve()):($o()<=pe.DEBUG&&U("QueryEngine","Query:",ps(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?($o()<=pe.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",ps(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,lr(n))):A.resolve())}zi(t,n){if(d_(n))return A.resolve(null);let r=lr(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=rp(n,null,"F"),r=lr(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=ce(...s);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(t,rp(n,null,"F")):this.Xi(t,u,n,l)}))})))}ji(t,n,r,i){return d_(n)||i.isEqual(Z.min())?A.resolve(null):this.Gi.getDocuments(t,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?A.resolve(null):($o()<=pe.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ps(n)),this.Xi(t,o,n,Ck(i,-1)).next(a=>a))})}Yi(t,n){let r=new Dt(rT(t));return n.forEach((i,s)=>{Zc(t,s)&&(r=r.add(s))}),r}Zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(t,n,r){return $o()<=pe.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",ps(n)),this.Gi.getDocumentsMatchingQuery(t,n,si.min(),r)}Xi(t,n,r,i){return this.Gi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(t,n,r,i){this.persistence=t,this.es=n,this.serializer=i,this.ts=new Xe(ve),this.ns=new wo(s=>vg(s),_g),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new MD(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function GD(e,t,n,r){return new QD(e,t,n,r)}async function ST(e,t){const n=ee(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ce();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}function YD(e,t){const n=ee(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,f=h.keys();let d=A.resolve();return f.forEach(y=>{d=d.next(()=>c.getEntry(l,y)).next(v=>{const w=u.docVersions.get(y);be(w!==null),v.version.compareTo(w)<0&&(h.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),c.addEntry(v)))})}),d.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ce();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function CT(e){const t=ee(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function XD(e,t){const n=ee(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];t.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,h)));let d=f.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(h)!==null?d=d.withResumeToken(zt.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,r)),i=i.insert(h,d),function(v,w,m){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,d,c)&&a.push(n.qr.updateTargetData(s,d))});let l=Pr(),u=ce();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(JD(s,o,t.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(Z.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(h=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return A.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ts=i,s))}function JD(e,t,n){let r=ce(),i=ce();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Pr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Z.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}function ZD(e,t){const n=ee(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function eN(e,t){const n=ee(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,t).next(s=>s?(i=s,A.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Wr(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(t,r.targetId)),r})}async function lp(e,t,n){const r=ee(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!gl(o))throw o;U("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function S_(e,t,n){const r=ee(e);let i=Z.min(),s=ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=ee(l),f=h.ns.get(c);return f!==void 0?A.resolve(h.ts.get(f)):h.qr.getTargetData(u,c)}(r,o,lr(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,t,n?i:Z.min(),n?s:ce())).next(a=>(tN(r,Hk(t),a),{documents:a,ls:s})))}function tN(e,t,n){let r=e.rs.get(t)||Z.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.rs.set(t,r)}class C_{constructor(){this.activeTargetIds=Jk()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class nN{constructor(){this.eo=new C_,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,r){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new C_,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yl=null;function Rh(){return Yl===null?Yl=function(){return 268435456+Math.round(2147483648*Math.random())}():Yl++,"0x"+Yl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt="WebChannelConnection";class oN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=Rh(),l=this.So(n,r);U("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,l,u,i).then(c=>(U("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Js("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Eo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=iN[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,r,i){const s=Rh();return new Promise((o,a)=>{const l=new pk;l.setWithCredentials(!0),l.listenOnce(hk.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case xh.NO_ERROR:const c=l.getResponseJson();U(bt,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case xh.TIMEOUT:U(bt,`RPC '${t}' ${s} timed out`),a(new $(x.DEADLINE_EXCEEDED,"Request time out"));break;case xh.HTTP_ERROR:const h=l.getStatus();if(U(bt,`RPC '${t}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const d=f==null?void 0:f.error;if(d&&d.status&&d.message){const y=function(w){const m=w.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(m)>=0?m:x.UNKNOWN}(d.status);a(new $(y,d.message))}else a(new $(x.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new $(x.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{U(bt,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);U(bt,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}vo(t,n,r){const i=Rh(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=ck(),a=fk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");U(bt,`Creating RPC '${t}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let f=!1,d=!1;const y=new sN({co:w=>{d?U(bt,`Not sending because RPC '${t}' stream ${i} is closed:`,w):(f||(U(bt,`Opening RPC '${t}' stream ${i} transport.`),h.open(),f=!0),U(bt,`RPC '${t}' stream ${i} sending:`,w),h.send(w))},lo:()=>h.close()}),v=(w,m,p)=>{w.listen(m,E=>{try{p(E)}catch(T){setTimeout(()=>{throw T},0)}})};return v(h,ql.EventType.OPEN,()=>{d||U(bt,`RPC '${t}' stream ${i} transport opened.`)}),v(h,ql.EventType.CLOSE,()=>{d||(d=!0,U(bt,`RPC '${t}' stream ${i} transport closed`),y.Ro())}),v(h,ql.EventType.ERROR,w=>{d||(d=!0,Js(bt,`RPC '${t}' stream ${i} transport errored:`,w),y.Ro(new $(x.UNAVAILABLE,"The operation could not be completed")))}),v(h,ql.EventType.MESSAGE,w=>{var m;if(!d){const p=w.data[0];be(!!p);const E=p,T=E.error||((m=E[0])===null||m===void 0?void 0:m.error);if(T){U(bt,`RPC '${t}' stream ${i} received error:`,T);const P=T.status;let C=function(H){const V=it[H];if(V!==void 0)return mT(V)}(P),k=T.message;C===void 0&&(C=x.INTERNAL,k="Unknown error status: "+P+" with message "+T.message),d=!0,y.Ro(new $(C,k)),h.close()}else U(bt,`RPC '${t}' stream ${i} received:`,p),y.Vo(p)}}),v(a,dk.STAT_EVENT,w=>{w.stat===n_.PROXY?U(bt,`RPC '${t}' stream ${i} detected buffering proxy`):w.stat===n_.NOPROXY&&U(bt,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.Ao()},0),y}}function Ah(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(e){return new yD(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(t,n,r=1e3,i=1.5,s=6e4){this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(t,n,r,i,s,o,a,l){this.si=t,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new xT(t,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(t,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,t!==4?this.zo.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(xr(n.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Io(n)}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{t(()=>{const i=new $(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(t,n){const r=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(t){return U("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aN extends PT{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();const n=ED(this.serializer,t),r=function(s){if(!("targetChange"in s))return Z.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Z.min():o.readTime?ur(o.readTime):Z.min()}(t);return this.listener.a_(n,r)}u_(t){const n={};n.database=ap(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=tp(l)?{documents:ID(s,l)}:{query:SD(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=vT(s,o.resumeToken);const u=ip(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Z.min())>0){a.readTime=rc(s,o.snapshotVersion.toTimestamp());const u=ip(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=xD(this.serializer,t);r&&(n.labels=r),this.e_(n)}c_(t){const n={};n.database=ap(this.serializer),n.removeTarget=t,this.e_(n)}}class lN extends PT{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,n){return this.connection.vo("Write",t,n)}onMessage(t){if(be(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const n=TD(t.writeResults,t.commitTime),r=ur(t.commitTime);return this.listener.I_(r,n)}return be(!t.writeResults||t.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=ap(this.serializer),this.e_(t)}P_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>wD(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new $(x.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new $(x.UNKNOWN,i.toString())})}Co(t,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(x.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class cN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,t==="Online"&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(xr(n),this.f_=!1):U("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{is(this)&&(U("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ee(l);u.C_.add(4),await El(u),u.M_.set("Unknown"),u.C_.delete(4),await sf(u)}(this))})}),this.M_=new cN(r,i)}}async function sf(e){if(is(e))for(const t of e.v_)await t(!0)}async function El(e){for(const t of e.v_)await t(!1)}function RT(e,t){const n=ee(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),Ag(n)?Rg(n):To(n).Ho()&&Pg(n,t))}function AT(e,t){const n=ee(e),r=To(n);n.D_.delete(t),r.Ho()&&kT(n,t),n.D_.size===0&&(r.Ho()?r.Zo():is(n)&&n.M_.set("Unknown"))}function Pg(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Z.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}To(e).u_(t)}function kT(e,t){e.x_.Oe(t),To(e).c_(t)}function Rg(e){e.x_=new dD({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),To(e).start(),e.M_.g_()}function Ag(e){return is(e)&&!To(e).jo()&&e.D_.size>0}function is(e){return ee(e).C_.size===0}function DT(e){e.x_=void 0}async function hN(e){e.D_.forEach((t,n)=>{Pg(e,t)})}async function dN(e,t){DT(e),Ag(e)?(e.M_.w_(t),Rg(e)):e.M_.set("Unknown")}async function pN(e,t,n){if(e.M_.set("Online"),t instanceof yT&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(e,t)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ic(e,r)}else if(t instanceof pu?e.x_.$e(t):t instanceof gT?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(Z.min()))try{const r=await CT(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.D_.get(u);c&&s.D_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.D_.get(l);if(!c)return;s.D_.set(l,c.withResumeToken(zt.EMPTY_BYTE_STRING,c.snapshotVersion)),kT(s,l);const h=new Wr(c.target,l,u,c.sequenceNumber);Pg(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){U("RemoteStore","Failed to raise snapshot:",r),await ic(e,r)}}async function ic(e,t,n){if(!gl(t))throw t;e.C_.add(1),await El(e),e.M_.set("Offline"),n||(n=()=>CT(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{U("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await sf(e)})}function NT(e,t){return t().catch(n=>ic(e,n,t))}async function of(e){const t=ee(e),n=ai(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;mN(t);)try{const i=await ZD(t.localStore,r);if(i===null){t.b_.length===0&&n.Zo();break}r=i.batchId,gN(t,i)}catch(i){await ic(t,i)}OT(t)&&VT(t)}function mN(e){return is(e)&&e.b_.length<10}function gN(e,t){e.b_.push(t);const n=ai(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function OT(e){return is(e)&&!ai(e).jo()&&e.b_.length>0}function VT(e){ai(e).start()}async function yN(e){ai(e).E_()}async function vN(e){const t=ai(e);for(const n of e.b_)t.P_(n.mutations)}async function _N(e,t,n){const r=e.b_.shift(),i=wg.from(r,t,n);await NT(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await of(e)}async function EN(e,t){t&&ai(e).h_&&await async function(r,i){if(function(o){return cD(o)&&o!==x.ABORTED}(i.code)){const s=r.b_.shift();ai(r).Yo(),await NT(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await of(r)}}(e,t),OT(e)&&VT(e)}async function P_(e,t){const n=ee(e);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");const r=is(n);n.C_.add(3),await El(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await sf(n)}async function wN(e,t){const n=ee(e);t?(n.C_.delete(2),await sf(n)):t||(n.C_.add(2),await El(n),n.M_.set("Unknown"))}function To(e){return e.O_||(e.O_=function(n,r,i){const s=ee(n);return s.A_(),new aN(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:hN.bind(null,e),Io:dN.bind(null,e),a_:pN.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),Ag(e)?Rg(e):e.M_.set("Unknown")):(await e.O_.stop(),DT(e))})),e.O_}function ai(e){return e.N_||(e.N_=function(n,r,i){const s=ee(n);return s.A_(),new lN(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:yN.bind(null,e),Io:EN.bind(null,e),T_:vN.bind(null,e),I_:_N.bind(null,e)}),e.v_.push(async t=>{t?(e.N_.Yo(),await of(e)):(await e.N_.stop(),e.b_.length>0&&(U("RemoteStore",`Stopping write stream with ${e.b_.length} pending writes`),e.b_=[]))})),e.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new kg(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(x.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dg(e,t){if(xr("AsyncQueue",`${t}: ${e}`),gl(e))return new $(x.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(t){this.comparator=t?(n,r)=>t(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=Ko(),this.sortedSet=new Xe(this.comparator)}static emptySet(t){return new Bs(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Bs)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Bs;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(){this.B_=new Xe(K.comparator)}track(t){const n=t.doc.key,r=this.B_.get(n);r?t.type!==0&&r.type===3?this.B_=this.B_.insert(n,t):t.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.B_=this.B_.remove(n):t.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):Y():this.B_=this.B_.insert(n,t)}L_(){const t=[];return this.B_.inorderTraversal((n,r)=>{t.push(r)}),t}}class ro{constructor(t,n,r,i,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ro(t,n,Bs.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Jc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.k_=void 0,this.listeners=[]}}class IN{constructor(){this.queries=new wo(t=>nT(t),Jc),this.onlineState="Unknown",this.q_=new Set}}async function Ng(e,t){const n=ee(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new TN),i)try{s.k_=await n.onListen(r)}catch(o){const a=Dg(o,`Initialization of query '${ps(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&Vg(n)}async function Og(e,t){const n=ee(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function SN(e,t){const n=ee(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&Vg(n)}function CN(e,t,n){const r=ee(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Vg(e){e.q_.forEach(t=>{t.next()})}class bg{constructor(t,n,r){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new ro(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}z_(t){if(t.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(t){t=ro.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(t){this.key=t}}class LT{constructor(t){this.key=t}}class xN{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ce(),this.mutatedKeys=ce(),this._a=rT(t),this.aa=new Bs(this._a)}get ua(){return this.ia}ca(t,n){const r=n?n.la:new R_,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,h)=>{const f=i.get(c),d=Zc(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),v=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let w=!1;f&&d?f.data.isEqual(d.data)?y!==v&&(r.track({type:3,doc:d}),w=!0):this.ha(f,d)||(r.track({type:2,doc:d}),w=!0,(l&&this._a(d,l)>0||u&&this._a(d,u)<0)&&(a=!0)):!f&&d?(r.track({type:0,doc:d}),w=!0):f&&!d&&(r.track({type:1,doc:f}),w=!0,(l||u)&&(a=!0)),w&&(d?(o=o.add(d),s=v?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const o=t.la.L_();o.sort((c,h)=>function(d,y){const v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return v(d)-v(y)}(c.type,h.type)||this._a(c.doc,h.doc)),this.Pa(r),i=i!=null&&i;const a=n&&!i?this.Ia():[],l=this.oa.size===0&&this.current&&!i?1:0,u=l!==this.sa;return this.sa=l,o.length!==0||u?{snapshot:new ro(this.query,t.aa,s,o,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new R_,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=ce(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return t.forEach(r=>{this.oa.has(r)||n.push(new LT(r))}),this.oa.forEach(r=>{t.has(r)||n.push(new bT(r))}),n}da(t){this.ia=t.ls,this.oa=ce();const n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return ro.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class PN{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class RN{constructor(t){this.key=t,this.Ra=!1}}class AN{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new wo(a=>nT(a),Jc),this.fa=new Map,this.ga=new Set,this.pa=new Xe(K.comparator),this.ya=new Map,this.wa=new Sg,this.Sa={},this.ba=new Map,this.Da=no.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function kN(e,t){const n=jN(e);let r,i;const s=n.ma.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await eN(n.localStore,lr(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await DN(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&RT(n.remoteStore,o)}return i}async function DN(e,t,n,r,i){e.va=(h,f,d)=>async function(v,w,m,p){let E=w.view.ca(m);E.Zi&&(E=await S_(v.localStore,w.query,!1).then(({documents:k})=>w.view.ca(k,E)));const T=p&&p.targetChanges.get(w.targetId),P=p&&p.targetMismatches.get(w.targetId)!=null,C=w.view.applyChanges(E,v.isPrimaryClient,T,P);return k_(v,w.targetId,C.Ta),C.snapshot}(e,h,f,d);const s=await S_(e.localStore,t,!0),o=new xN(t,s.ls),a=o.ca(s.documents),l=_l.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(a,e.isPrimaryClient,l);k_(e,n,u.Ta);const c=new PN(t,n,o);return e.ma.set(t,c),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),u.snapshot}async function NN(e,t){const n=ee(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Jc(s,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await lp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),AT(n.remoteStore,r.targetId),up(n,r.targetId)}).catch(ml)):(up(n,r.targetId),await lp(n.localStore,r.targetId,!0))}async function ON(e,t,n){const r=UN(e);try{const i=await function(o,a){const l=ee(o),u=gt.now(),c=a.reduce((d,y)=>d.add(y.key),ce());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let y=Pr(),v=ce();return l.ss.getEntries(d,c).next(w=>{y=w,y.forEach((m,p)=>{p.isValidDocument()||(v=v.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,y)).next(w=>{h=w;const m=[];for(const p of a){const E=sD(p,h.get(p.key).overlayedDocument);E!=null&&m.push(new gi(p.key,E,Q1(E.value.mapValue),Qn.exists(!0)))}return l.mutationQueue.addMutationBatch(d,u,m,a)}).next(w=>{f=w;const m=w.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(d,w.batchId,m)})}).then(()=>({batchId:f.batchId,changes:sT(h)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Sa[o.currentUser.toKey()];u||(u=new Xe(ve)),u=u.insert(a,l),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,n),await wl(r,i.changes),await of(r.remoteStore)}catch(i){const s=Dg(i,"Failed to persist write");n.reject(s)}}async function MT(e,t){const n=ee(e);try{const r=await XD(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?be(o.Ra):i.removedDocuments.size>0&&(be(o.Ra),o.Ra=!1))}),await wl(n,r,t)}catch(r){await ml(r)}}function A_(e,t,n){const r=ee(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ee(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const f of h.listeners)f.Q_(a)&&(u=!0)}),u&&Vg(l)}(r.eventManager,t),i.length&&r.Va.a_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function VN(e,t,n){const r=ee(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),s=i&&i.key;if(s){let o=new Xe(K.comparator);o=o.insert(s,$t.newNoDocument(s,Z.min()));const a=ce().add(s),l=new nf(Z.min(),new Map,new Xe(ve),o,a);await MT(r,l),r.pa=r.pa.remove(s),r.ya.delete(t),Lg(r)}else await lp(r.localStore,t,!1).then(()=>up(r,t,n)).catch(ml)}async function bN(e,t){const n=ee(e),r=t.batch.batchId;try{const i=await YD(n.localStore,t);FT(n,r,null),$T(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wl(n,i)}catch(i){await ml(i)}}async function LN(e,t,n){const r=ee(e);try{const i=await function(o,a){const l=ee(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(be(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);FT(r,t,n),$T(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await wl(r,i)}catch(i){await ml(i)}}function $T(e,t){(e.ba.get(t)||[]).forEach(n=>{n.resolve()}),e.ba.delete(t)}function FT(e,t,n){const r=ee(e);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function up(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(r=>{e.wa.containsKey(r)||jT(e,r)})}function jT(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);n!==null&&(AT(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),Lg(e))}function k_(e,t,n){for(const r of n)r instanceof bT?(e.wa.addReference(r.key,t),MN(e,r)):r instanceof LT?(U("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||jT(e,r.key)):Y()}function MN(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(U("SyncEngine","New document in limbo: "+n),e.ga.add(r),Lg(e))}function Lg(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new K($e.fromString(t)),r=e.Da.next();e.ya.set(r,new RN(n)),e.pa=e.pa.insert(n,r),RT(e.remoteStore,new Wr(lr(Xc(n.path)),r,"TargetPurposeLimboResolution",pg._e))}}async function wl(e,t,n){const r=ee(e),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=xg.Qi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,u){const c=ee(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>A.forEach(u,f=>A.forEach(f.ki,d=>c.persistence.referenceDelegate.addReference(h,f.targetId,d)).next(()=>A.forEach(f.qi,d=>c.persistence.referenceDelegate.removeReference(h,f.targetId,d)))))}catch(h){if(!gl(h))throw h;U("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const d=c.ts.get(f),y=d.snapshotVersion,v=d.withLastLimboFreeSnapshotVersion(y);c.ts=c.ts.insert(f,v)}}}(r.localStore,s))}async function $N(e,t){const n=ee(e);if(!n.currentUser.isEqual(t)){U("SyncEngine","User change. New user:",t.toKey());const r=await ST(n.localStore,t);n.currentUser=t,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new $(x.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await wl(n,r._s)}}function FN(e,t){const n=ee(e),r=n.ya.get(t);if(r&&r.Ra)return ce().add(r.key);{let i=ce();const s=n.fa.get(t);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function jN(e){const t=ee(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=MT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=FN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=VN.bind(null,t),t.Va.a_=SN.bind(null,t.eventManager),t.Va.Fa=CN.bind(null,t.eventManager),t}function UN(e){const t=ee(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=LN.bind(null,t),t}class D_{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=rf(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return GD(this.persistence,new qD,t.initialUser,this.serializer)}createPersistence(t){return new WD(Cg.jr,this.serializer)}createSharedClientState(t){return new nN}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class zN{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>A_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$N.bind(null,this.syncEngine),await wN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new IN}()}createDatastore(t){const n=rf(t.databaseInfo.databaseId),r=function(s){return new oN(s)}(t.databaseInfo);return function(s,o,a,l){return new uN(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new fN(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>A_(this.syncEngine,n,0),function(){return x_.D()?new x_:new rN}())}createSyncEngine(t,n){return function(i,s,o,a,l,u,c){const h=new AN(i,s,o,a,l,u);return c&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ee(n);U("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await El(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):xr("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Lt.UNAUTHENTICATED,this.clientId=K1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{U("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(U("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Dg(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function kh(e,t){e.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ST(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function N_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await KN(e);U("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>P_(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>P_(t.remoteStore,s)),e._onlineComponents=t}function WN(e){return e.name==="FirebaseError"?e.code===x.FAILED_PRECONDITION||e.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function KN(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{await kh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!WN(n))throw n;Js("Error using user provided cache. Falling back to memory cache: "+n),await kh(e,new D_)}}else U("FirestoreClient","Using default OfflineComponentProvider"),await kh(e,new D_);return e._offlineComponents}async function UT(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),await N_(e,e._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),await N_(e,new zN))),e._onlineComponents}function HN(e){return UT(e).then(t=>t.syncEngine)}async function sc(e){const t=await UT(e),n=t.eventManager;return n.onListen=kN.bind(null,t.syncEngine),n.onUnlisten=NN.bind(null,t.syncEngine),n}function qN(e,t,n={}){const r=new Er;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Mg({next:f=>{o.enqueueAndForget(()=>Og(s,h));const d=f.docs.has(a);!d&&f.fromCache?u.reject(new $(x.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&f.fromCache&&l&&l.source==="server"?u.reject(new $(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new bg(Xc(a.path),c,{includeMetadataChanges:!0,J_:!0});return Ng(s,h)}(await sc(e),e.asyncQueue,t,n,r)),r.promise}function QN(e,t,n={}){const r=new Er;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Mg({next:f=>{o.enqueueAndForget(()=>Og(s,h)),f.fromCache&&l.source==="server"?u.reject(new $(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new bg(a,c,{includeMetadataChanges:!0,J_:!0});return Ng(s,h)}(await sc(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(e,t,n){if(!n)throw new $(x.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function GN(e,t,n,r){if(t===!0&&r===!0)throw new $(x.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function V_(e){if(!K.isDocumentKey(e))throw new $(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function b_(e){if(K.isDocumentKey(e))throw new $(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function af(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Y()}function bn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new $(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=af(e);throw new $(x.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new $(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new $(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}GN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zT((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new $(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new $(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new $(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class lf{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new $(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L_(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new gk;switch(r.type){case"firstParty":return new Ek(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=O_.get(n);r&&(U("ComponentProvider","Removing Datastore"),O_.delete(n),r.terminate())}(this),Promise.resolve()}}function YN(e,t,n,r={}){var i;const s=(e=bn(e,lf))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Lt.MOCK_USER;else{a=YP(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new $(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Lt(u)}e._authCredentials=new yk(new W1(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ss(this.firestore,t,this._query)}}class Jt{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Jt(this.firestore,t,this._key)}}class ni extends ss{constructor(t,n,r){super(t,n,Xc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Jt(this.firestore,null,new K(t))}withConverter(t){return new ni(this.firestore,t,this._path)}}function qi(e,t,...n){if(e=cr(e),BT("collection","path",t),e instanceof lf){const r=$e.fromString(t,...n);return b_(r),new ni(e,null,r)}{if(!(e instanceof Jt||e instanceof ni))throw new $(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child($e.fromString(t,...n));return b_(r),new ni(e.firestore,null,r)}}function Mi(e,t,...n){if(e=cr(e),arguments.length===1&&(t=K1.newId()),BT("doc","path",t),e instanceof lf){const r=$e.fromString(t,...n);return V_(r),new Jt(e,null,new K(r))}{if(!(e instanceof Jt||e instanceof ni))throw new $(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child($e.fromString(t,...n));return V_(r),new Jt(e.firestore,e instanceof ni?e.converter:null,new K(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new xT(this,"async_queue_retry"),this.iu=()=>{const n=Ah();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=Ah();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=Ah();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new Er;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!gl(t))throw t;U("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw xr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(t,n,r){this.su(),this.ru.indexOf(t)>-1&&(n=0);const i=kg.createAndSchedule(this,t,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&Y()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}function M_(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(e,["next","error","complete"])}class li extends lf{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new XN}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||WT(this),this._firestoreClient.terminate()}}function JN(e,t){const n=typeof e=="object"?e:eA(),r=typeof e=="string"?e:t||"(default)",i=YR(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=QP("firestore");s&&YN(i,...s)}return i}function uf(e){return e._firestoreClient||WT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function WT(e){var t,n,r;const i=e._freezeSettings(),s=function(a,l,u,c){return new Nk(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,zT(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new BN(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(t){this._byteString=t}static fromBase64String(t){try{return new io(zt.fromBase64String(t))}catch(n){throw new $(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new io(zt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new $(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new $(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new $(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ve(this._lat,t._lat)||ve(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=/^__.*__$/;class eO{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new gi(t,this.data,this.fieldMask,n,this.fieldTransforms):new vl(t,this.data,n,this.fieldTransforms)}}class KT{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new gi(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function HT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}class jg{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new jg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Au(t),i}Ru(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return oc(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(t.length===0)throw this.mu("Document fields must not be empty");if(HT(this.Iu)&&ZN.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class tO{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||rf(t)}pu(t,n,r,i=!1){return new jg({Iu:t,methodName:n,gu:r,path:Rt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ug(e){const t=e._freezeSettings(),n=rf(e._databaseId);return new tO(e._databaseId,!!t.ignoreUndefinedProperties,n)}function nO(e,t,n,r,i,s={}){const o=e.pu(s.merge||s.mergeFields?2:0,t,n,i);zg("Data must be an object, but it was:",o,r);const a=qT(r,o);let l,u;if(s.merge)l=new vn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=cp(t,h,n);if(!o.contains(f))throw new $(x.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);GT(c,f)||c.push(f)}l=new vn(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new eO(new sn(a),l,u)}class ff extends $g{_toFieldTransform(t){if(t.Iu!==2)throw t.Iu===1?t.mu(`${this._methodName}() can only appear at the top level of your update data`):t.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ff}}function rO(e,t,n,r){const i=e.pu(1,t,n);zg("Data must be an object, but it was:",i,r);const s=[],o=sn.empty();rs(r,(l,u)=>{const c=Bg(t,l,n);u=cr(u);const h=i.Ru(c);if(u instanceof ff)s.push(c);else{const f=Tl(u,h);f!=null&&(s.push(c),o.set(c,f))}});const a=new vn(s);return new KT(o,a,i.fieldTransforms)}function iO(e,t,n,r,i,s){const o=e.pu(1,t,n),a=[cp(t,r,n)],l=[i];if(s.length%2!=0)throw new $(x.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(cp(t,s[f])),l.push(s[f+1]);const u=[],c=sn.empty();for(let f=a.length-1;f>=0;--f)if(!GT(u,a[f])){const d=a[f];let y=l[f];y=cr(y);const v=o.Ru(d);if(y instanceof ff)u.push(d);else{const w=Tl(y,v);w!=null&&(u.push(d),c.set(d,w))}}const h=new vn(u);return new KT(c,h,o.fieldTransforms)}function sO(e,t,n,r=!1){return Tl(n,e.pu(r?4:3,t))}function Tl(e,t){if(QT(e=cr(e)))return zg("Unsupported field value:",t,e),qT(e,t);if(e instanceof $g)return function(r,i){if(!HT(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&t.Iu!==4)throw t.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Tl(a,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=cr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Zk(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=gt.fromDate(r);return{timestampValue:rc(i.serializer,s)}}if(r instanceof gt){const s=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rc(i.serializer,s)}}if(r instanceof Fg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof io)return{bytesValue:vT(i.serializer,r._byteString)};if(r instanceof Jt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ig(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${af(r)}`)}(e,t)}function qT(e,t){const n={};return H1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rs(e,(r,i)=>{const s=Tl(i,t.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function QT(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof gt||e instanceof Fg||e instanceof io||e instanceof Jt||e instanceof $g)}function zg(e,t,n){if(!QT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=af(n);throw r==="an object"?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function cp(e,t,n){if((t=cr(t))instanceof cf)return t._internalPath;if(typeof t=="string")return Bg(e,t);throw oc("Field path arguments must be of type string or ",e,!1,void 0,n)}const oO=new RegExp("[~\\*/\\[\\]]");function Bg(e,t,n){if(t.search(oO)>=0)throw oc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new cf(...t.split("."))._internalPath}catch{throw oc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function oc(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new $(x.INVALID_ARGUMENT,a+e+l)}function GT(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new aO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Wg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aO extends YT{data(){return super.data()}}function Wg(e,t){return typeof t=="string"?Bg(e,t):t instanceof cf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new $(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kg{}class lO extends Kg{}function so(e,t,...n){let r=[];t instanceof Kg&&r.push(t),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Hg).length,a=s.filter(l=>l instanceof hf).length;if(o>1||o>0&&a>0)throw new $(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class hf extends lO{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new hf(t,n,r)}_apply(t){const n=this._parse(t);return JT(t._query,n),new ss(t.firestore,t.converter,np(t._query,n))}_parse(t){const n=Ug(t.firestore);return function(s,o,a,l,u,c,h){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new $(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){F_(h,c);const d=[];for(const y of h)d.push($_(l,s,y));f={arrayValue:{values:d}}}else f=$_(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||F_(h,c),f=sO(a,o,h,c==="in"||c==="not-in");return at.create(u,c,f)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function ac(e,t,n){const r=t,i=Wg("where",e);return hf._create(i,r,n)}class Hg extends Kg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Hg(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Xn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)JT(o,l),o=np(o,l)}(t._query,n),new ss(t.firestore,t.converter,np(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function $_(e,t,n){if(typeof(n=cr(n))=="string"){if(n==="")throw new $(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tT(t)&&n.indexOf("/")!==-1)throw new $(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child($e.fromString(n));if(!K.isDocumentKey(r))throw new $(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return a_(e,new K(r))}if(n instanceof Jt)return a_(e,n._key);throw new $(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${af(n)}.`)}function F_(e,t){if(!Array.isArray(e)||e.length===0)throw new $(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function JT(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new $(x.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new $(x.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class uO{convertValue(t,n="none"){switch(Hi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return st(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ki(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Y()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return rs(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new Fg(st(t.latitude),st(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=gg(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(za(t));default:return null}}convertTimestamp(t){const n=oi(t);return new gt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=$e.fromString(t);be(IT(r));const i=new Ba(r.get(1),r.get(3)),s=new K(r.popFirst(5));return i.isEqual(n)||xr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ZT extends YT{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new mu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Wg("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class mu extends ZT{data(t={}){return super.data(t)}}class eI{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new qo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new mu(this._firestore,this._userDataWriter,r.key,r,new qo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new mu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new mu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:fO(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function fO(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(e){e=bn(e,Jt);const t=bn(e.firestore,li);return qN(uf(t),e._key).then(n=>tI(t,e,n))}class qg extends uO{constructor(t){super(),this.firestore=t}convertBytes(t){return new io(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Jt(this.firestore,null,n)}}function Qg(e){e=bn(e,ss);const t=bn(e.firestore,li),n=uf(t),r=new qg(t);return XT(e._query),QN(n,e._query).then(i=>new eI(t,r,e,i))}function Gg(e,t,n,...r){e=bn(e,Jt);const i=bn(e.firestore,li),s=Ug(i);let o;return o=typeof(t=cr(t))=="string"||t instanceof cf?iO(s,"updateDoc",e._key,t,n,r):rO(s,"updateDoc",e._key,t),Yg(i,[o.toMutation(e._key,Qn.exists(!0))])}function lc(e){return Yg(bn(e.firestore,li),[new Eg(e._key,Qn.none())])}function dO(e,t){const n=bn(e.firestore,li),r=Mi(e),i=cO(e.converter,t);return Yg(n,[nO(Ug(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,Qn.exists(!1))]).then(()=>r)}function fp(e,...t){var n,r,i;e=cr(e);let s={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||M_(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(M_(t[o])){const h=t[o];t[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),t[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),t[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(e instanceof Jt)u=bn(e.firestore,li),c=Xc(e._key.path),l={next:h=>{t[o]&&t[o](tI(u,e,h))},error:t[o+1],complete:t[o+2]};else{const h=bn(e,ss);u=bn(h.firestore,li),c=h._query;const f=new qg(u);l={next:d=>{t[o]&&t[o](new eI(u,f,h,d))},error:t[o+1],complete:t[o+2]},XT(e._query)}return function(f,d,y,v){const w=new Mg(v),m=new bg(d,w,y);return f.asyncQueue.enqueueAndForget(async()=>Ng(await sc(f),m)),()=>{w.Na(),f.asyncQueue.enqueueAndForget(async()=>Og(await sc(f),m))}}(uf(u),c,a,l)}function Yg(e,t){return function(r,i){const s=new Er;return r.asyncQueue.enqueueAndForget(async()=>ON(await HN(r),i,s)),s.promise}(uf(e),t)}function tI(e,t,n){const r=n.docs.get(t._key),i=new qg(e);return new ZT(e,i,t._key,r,new qo(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){Eo=i})(ZR),Ku(new Da("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new li(new vk(r.getProvider("auth-internal")),new Tk(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new $(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ba(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),js(r_,"4.4.0",t),js(r_,"4.4.0","esm2017")})();var pO="firebase",mO="10.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */js(pO,mO,"app");const gO={apiKey:"AIzaSyDYgbHcOme6RD1Vxbj9cHM-e1hKEhXdWyI",authDomain:"store-management-e8c6c.firebaseapp.com",projectId:"store-management-e8c6c",storageBucket:"store-management-e8c6c.appspot.com",messagingSenderId:"533231583994",appId:"1:533231583994:web:8fef0e8ab30d55c74f7f43",measurementId:"G-C5047V9P0V"},yO=$w(gO),_n=JN(yO);var nI={exports:{}},rI={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oo=g;function vO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _O=typeof Object.is=="function"?Object.is:vO,EO=oo.useState,wO=oo.useEffect,TO=oo.useLayoutEffect,IO=oo.useDebugValue;function SO(e,t){var n=t(),r=EO({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return TO(function(){i.value=n,i.getSnapshot=t,Dh(i)&&s({inst:i})},[e,n,t]),wO(function(){return Dh(i)&&s({inst:i}),e(function(){Dh(i)&&s({inst:i})})},[e]),IO(n),n}function Dh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_O(e,n)}catch{return!0}}function CO(e,t){return t()}var xO=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?CO:SO;rI.useSyncExternalStore=oo.useSyncExternalStore!==void 0?oo.useSyncExternalStore:xO;nI.exports=rI;var PO=nI.exports,iI={exports:{}},sI={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df=g,RO=PO;function AO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kO=typeof Object.is=="function"?Object.is:AO,DO=RO.useSyncExternalStore,NO=df.useRef,OO=df.useEffect,VO=df.useMemo,bO=df.useDebugValue;sI.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=NO(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=VO(function(){function l(d){if(!u){if(u=!0,c=d,d=r(d),i!==void 0&&o.hasValue){var y=o.value;if(i(y,d))return h=y}return h=d}if(y=h,kO(c,d))return y;var v=r(d);return i!==void 0&&i(y,v)?y:(c=d,h=v)}var u=!1,c,h,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,i]);var a=DO(e,s[0],s[1]);return OO(function(){o.hasValue=!0,o.value=a},[a]),bO(a),a};iI.exports=sI;var LO=iI.exports;function MO(e){e()}let oI=MO;const $O=e=>oI=e,FO=()=>oI,j_=Symbol.for("react-redux-context"),U_=typeof globalThis<"u"?globalThis:{};function jO(){var e;if(!g.createContext)return{};const t=(e=U_[j_])!=null?e:U_[j_]=new Map;let n=t.get(g.createContext);return n||(n=g.createContext(null),t.set(g.createContext,n)),n}const ui=jO();function Xg(e=ui){return function(){return g.useContext(e)}}const aI=Xg(),UO=()=>{throw new Error("uSES not initialized!")};let lI=UO;const zO=e=>{lI=e},BO=(e,t)=>e===t;function WO(e=ui){const t=e===ui?aI:Xg(e);return function(r,i={}){const{equalityFn:s=BO,stabilityCheck:o=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:u,getServerState:c,stabilityCheck:h,noopCheck:f}=t();g.useRef(!0);const d=g.useCallback({[r.name](v){return r(v)}}[r.name],[r,h,o]),y=lI(u.addNestedSub,l.getState,c||l.getState,d,s);return g.useDebugValue(y),y}}const uc=WO();function hp(){return hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hp.apply(this,arguments)}function uI(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var cI={exports:{}},xe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var It=typeof Symbol=="function"&&Symbol.for,Jg=It?Symbol.for("react.element"):60103,Zg=It?Symbol.for("react.portal"):60106,pf=It?Symbol.for("react.fragment"):60107,mf=It?Symbol.for("react.strict_mode"):60108,gf=It?Symbol.for("react.profiler"):60114,yf=It?Symbol.for("react.provider"):60109,vf=It?Symbol.for("react.context"):60110,ey=It?Symbol.for("react.async_mode"):60111,_f=It?Symbol.for("react.concurrent_mode"):60111,Ef=It?Symbol.for("react.forward_ref"):60112,wf=It?Symbol.for("react.suspense"):60113,KO=It?Symbol.for("react.suspense_list"):60120,Tf=It?Symbol.for("react.memo"):60115,If=It?Symbol.for("react.lazy"):60116,HO=It?Symbol.for("react.block"):60121,qO=It?Symbol.for("react.fundamental"):60117,QO=It?Symbol.for("react.responder"):60118,GO=It?Symbol.for("react.scope"):60119;function Pn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Jg:switch(e=e.type,e){case ey:case _f:case pf:case gf:case mf:case wf:return e;default:switch(e=e&&e.$$typeof,e){case vf:case Ef:case If:case Tf:case yf:return e;default:return t}}case Zg:return t}}}function fI(e){return Pn(e)===_f}xe.AsyncMode=ey;xe.ConcurrentMode=_f;xe.ContextConsumer=vf;xe.ContextProvider=yf;xe.Element=Jg;xe.ForwardRef=Ef;xe.Fragment=pf;xe.Lazy=If;xe.Memo=Tf;xe.Portal=Zg;xe.Profiler=gf;xe.StrictMode=mf;xe.Suspense=wf;xe.isAsyncMode=function(e){return fI(e)||Pn(e)===ey};xe.isConcurrentMode=fI;xe.isContextConsumer=function(e){return Pn(e)===vf};xe.isContextProvider=function(e){return Pn(e)===yf};xe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jg};xe.isForwardRef=function(e){return Pn(e)===Ef};xe.isFragment=function(e){return Pn(e)===pf};xe.isLazy=function(e){return Pn(e)===If};xe.isMemo=function(e){return Pn(e)===Tf};xe.isPortal=function(e){return Pn(e)===Zg};xe.isProfiler=function(e){return Pn(e)===gf};xe.isStrictMode=function(e){return Pn(e)===mf};xe.isSuspense=function(e){return Pn(e)===wf};xe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===pf||e===_f||e===gf||e===mf||e===wf||e===KO||typeof e=="object"&&e!==null&&(e.$$typeof===If||e.$$typeof===Tf||e.$$typeof===yf||e.$$typeof===vf||e.$$typeof===Ef||e.$$typeof===qO||e.$$typeof===QO||e.$$typeof===GO||e.$$typeof===HO)};xe.typeOf=Pn;cI.exports=xe;var YO=cI.exports,hI=YO,XO={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},JO={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},dI={};dI[hI.ForwardRef]=XO;dI[hI.Memo]=JO;var Ae={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty=Symbol.for("react.element"),ny=Symbol.for("react.portal"),Sf=Symbol.for("react.fragment"),Cf=Symbol.for("react.strict_mode"),xf=Symbol.for("react.profiler"),Pf=Symbol.for("react.provider"),Rf=Symbol.for("react.context"),ZO=Symbol.for("react.server_context"),Af=Symbol.for("react.forward_ref"),kf=Symbol.for("react.suspense"),Df=Symbol.for("react.suspense_list"),Nf=Symbol.for("react.memo"),Of=Symbol.for("react.lazy"),e2=Symbol.for("react.offscreen"),pI;pI=Symbol.for("react.module.reference");function $n(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ty:switch(e=e.type,e){case Sf:case xf:case Cf:case kf:case Df:return e;default:switch(e=e&&e.$$typeof,e){case ZO:case Rf:case Af:case Of:case Nf:case Pf:return e;default:return t}}case ny:return t}}}Ae.ContextConsumer=Rf;Ae.ContextProvider=Pf;Ae.Element=ty;Ae.ForwardRef=Af;Ae.Fragment=Sf;Ae.Lazy=Of;Ae.Memo=Nf;Ae.Portal=ny;Ae.Profiler=xf;Ae.StrictMode=Cf;Ae.Suspense=kf;Ae.SuspenseList=Df;Ae.isAsyncMode=function(){return!1};Ae.isConcurrentMode=function(){return!1};Ae.isContextConsumer=function(e){return $n(e)===Rf};Ae.isContextProvider=function(e){return $n(e)===Pf};Ae.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ty};Ae.isForwardRef=function(e){return $n(e)===Af};Ae.isFragment=function(e){return $n(e)===Sf};Ae.isLazy=function(e){return $n(e)===Of};Ae.isMemo=function(e){return $n(e)===Nf};Ae.isPortal=function(e){return $n(e)===ny};Ae.isProfiler=function(e){return $n(e)===xf};Ae.isStrictMode=function(e){return $n(e)===Cf};Ae.isSuspense=function(e){return $n(e)===kf};Ae.isSuspenseList=function(e){return $n(e)===Df};Ae.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Sf||e===xf||e===Cf||e===kf||e===Df||e===e2||typeof e=="object"&&e!==null&&(e.$$typeof===Of||e.$$typeof===Nf||e.$$typeof===Pf||e.$$typeof===Rf||e.$$typeof===Af||e.$$typeof===pI||e.getModuleId!==void 0)};Ae.typeOf=$n;function t2(){const e=FO();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!i||t===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}const z_={notify(){},get:()=>[]};function n2(e,t){let n,r=z_,i=0,s=!1;function o(v){c();const w=r.subscribe(v);let m=!1;return()=>{m||(m=!0,w(),h())}}function a(){r.notify()}function l(){y.onStateChange&&y.onStateChange()}function u(){return s}function c(){i++,n||(n=t?t.addNestedSub(l):e.subscribe(l),r=t2())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=z_)}function f(){s||(s=!0,c())}function d(){s&&(s=!1,h())}const y={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:d,getListeners:()=>r};return y}const r2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",i2=r2?g.useLayoutEffect:g.useEffect;function s2({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",noopCheck:s="once"}){const o=g.useMemo(()=>{const u=n2(e);return{store:e,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:s}},[e,r,i,s]),a=g.useMemo(()=>e.getState(),[e]);i2(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==e.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=t||ui;return g.createElement(l.Provider,{value:o},n)}function mI(e=ui){const t=e===ui?aI:Xg(e);return function(){const{store:r}=t();return r}}const o2=mI();function a2(e=ui){const t=e===ui?o2:mI(e);return function(){return t().dispatch}}const gI=a2();zO(LO.useSyncExternalStoreWithSelector);$O(Aa.unstable_batchedUpdates);const l2=(e,t)=>{const n=new Set;return e.filter(r=>{const i=r[t];return n.has(i)?!1:(n.add(i),!0)})},u2=({product:e})=>{const t=ol(),n=gI(),[r,i]=g.useState([]),[s,o]=g.useState([]),[a,l]=g.useState(!1),[u,c]=g.useState(!1);g.useEffect(()=>{const f=l2(s,"customerID");h(f)},[s,u]),g.useEffect(()=>{o([]),r==null||r.map(f=>{const d=so(qi(_n,"customers"),ac("id","==",f.customerID));Qg(d).then(y=>{o(v=>[...v,...y.docs.map(w=>({name:`${w.data().firstName} ${w.data().lastName}`,date:f.date,customerID:w.data().id,purchaseID:f.id}))])})})},[r]),g.useEffect(()=>{const f=so(qi(_n,"purchases"),ac("productID","==",e.id));fp(f,d=>{i(d.docs.map(y=>({id:y.id,...y.data()})))})},[]);const h=f=>{n({type:"set-purchasing-customers",payload:{buyingCustomers:f}})};return S.jsxs("div",{children:[S.jsxs("div",{children:["Name: ",S.jsx(bi,{children:e.name})," ",S.jsx("br",{}),"Price: ",e.price," ",S.jsx("br",{}),"Quantity: ",e.quantity,S.jsx("br",{})]})," ",S.jsx("br",{}),S.jsxs("div",{children:[S.jsx("button",{onClick:()=>{c(!u),t(`edit/${e.id}/${e.name}/${e.price}/${e.quantity}`)},children:"Edit"})," ",S.jsx("button",{onClick:()=>l(!a),children:"Purchase History"}),S.jsx("br",{}),S.jsx("br",{}),S.jsx("div",{className:"products-history",children:a?s==null?void 0:s.map(f=>S.jsxs("div",{style:{display:"flex",borderBottom:"1px solid",padding:"15px"},children:[" ",S.jsxs("div",{style:{paddingRight:"50px"},children:["NAME:"," ",S.jsx(bi,{to:`edit/${f.customerID}`,children:`${f.name}`})," ",S.jsx("br",{})," ",`DATE: ${f.date} `]})," ",S.jsx("button",{onClick:()=>t(`add/${f.customerID}/${f.name}`),style:{marginLeft:"auto"},children:"Add"})]},f.purchaseID)):null})]})]})},c2=()=>{const e=gI(),t=uc(l=>l.purchasesReducer.totalPurchases),n=uc(l=>l.productsReducer.products),r=()=>{const l=so(qi(_n,"products"));fp(l,u=>{s(u.docs.map(c=>({id:c.id,...c.data()})))})},i=()=>{const l=so(qi(_n,"purchases"));fp(l,u=>{let c=0;o(u.docs.map(h=>(c+=+h.data().price,{id:h.id,...h.data()}))),a(c)})};g.useEffect(()=>{r(),i()},[]);const s=l=>{e({type:"init-products",payload:{productsData:l}})},o=l=>{e({type:"set-purchased-products",payload:{purchasedProduct:l}})},a=l=>{e({type:"add-purchase",payload:{totalPurchases:l}})};return S.jsxs("div",{children:[S.jsx("div",{className:"products-box",children:n==null?void 0:n.map(l=>S.jsx("div",{className:"product",children:S.jsx(u2,{product:l})},l.id))}),S.jsx("div",{className:"products-page-outlet-box",children:S.jsx(CP,{})}),S.jsx("div",{className:"total-box",children:S.jsxs(S.Fragment,{children:[S.jsx("h2",{children:"Total Purchases"}),S.jsxs("h3",{children:[t," NIS"]})]})})]})},f2=()=>S.jsx("div",{children:"Purchases"});var yI={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)t.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(yI);var h2=yI.exports;const ge=mc(h2);var vI={exports:{}},d2="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",p2=d2,m2=p2;function _I(){}function EI(){}EI.resetWarningCache=_I;var g2=function(){function e(r,i,s,o,a,l){if(l!==m2){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:EI,resetWarningCache:_I};return n.PropTypes=n,n};vI.exports=g2();var ie=vI.exports;const _=mc(ie);function B_(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function y2(e){var t=v2(e,"string");return typeof t=="symbol"?t:String(t)}function v2(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wn(e,t,n){var r=g.useRef(e!==void 0),i=g.useState(t),s=i[0],o=i[1],a=e!==void 0,l=r.current;return r.current=a,!a&&l&&s!==t&&o(t),[a?e:s,g.useCallback(function(u){for(var c=arguments.length,h=new Array(c>1?c-1:0),f=1;f<c;f++)h[f-1]=arguments[f];n&&n.apply(void 0,[u].concat(h)),o(u)},[n])]}function wI(e,t){return Object.keys(t).reduce(function(n,r){var i,s=n,o=s[B_(r)],a=s[r],l=uI(s,[B_(r),r].map(y2)),u=t[r],c=wn(a,o,e[u]),h=c[0],f=c[1];return hp({},l,(i={},i[r]=h,i[u]=f,i))},e)}function dp(e,t){return dp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dp(e,t)}function _2(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,dp(e,t)}/*!
Font Awesome Free 5.2.0 by @fontawesome - https://fontawesome.com
License - https://fontawesome.com/license (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
*/const Vf=g.createElement("svg",{height:"1em",fill:"currentcolor",viewBox:"0 0 320 512","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"}));/*!
Font Awesome Free 5.2.0 by @fontawesome - https://fontawesome.com
License - https://fontawesome.com/license (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
*/const E2=g.createElement("svg",{height:"1em",fill:"currentcolor",viewBox:"0 0 320 512","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{d:"M285.48 272.97L91.13 467.31a24 24 0 0 1-33.94 0l-22.67-22.66a24 24 0 0 1-.04-33.9L188.5 256 34.48 101.25a24 24 0 0 1 .04-33.9L57.2 44.7a24 24 0 0 1 33.94 0l194.35 194.34a24 24 0 0 1 0 33.94z"})),w2=g.createElement("svg",{height:"1em",fill:"currentcolor",viewBox:"0 0 320 512","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{d:"M34.52 239.03L228.87 44.69a24 24 0 0 1 33.94 0l22.67 22.67a24 24 0 0 1 .04 33.9L131.49 256l154.02 154.75a24 24 0 0 1-.04 33.9l-22.67 22.67a24 24 0 0 1-33.94 0L34.52 272.97a24 24 0 0 1 0-33.94z"}));/*!
Font Awesome Free 5.2.0 by @fontawesome - https://fontawesome.com
License - https://fontawesome.com/license (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
*/const T2=g.createElement("svg",{"aria-hidden":!0,height:"1em",fill:"currentcolor",viewBox:"0 0 448 512",className:"rw-i-calendar",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{d:"M148 288h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"})),TI=g.createElement("svg",{height:".8em",fill:"currentcolor",viewBox:"0 0 352 512","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})),ry=g.createElement("svg",{height:"1.4em",viewBox:"0 0 50 50",xmlSpace:"preserve","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{fill:"currentcolor",d:"M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z"},g.createElement("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 25 25",to:"360 25 25",dur:"0.6s",repeatCount:"indefinite"}))),I2=["className","disabled","label","icon","busy","children","spinner"];function pp(){return pp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pp.apply(this,arguments)}function S2(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function iy(e){let{className:t,disabled:n,label:r,icon:i,busy:s,children:o,spinner:a=ry}=e,l=S2(e,I2);return g.createElement("button",pp({tabIndex:-1},l,{title:r,type:"button",disabled:n,"aria-label":r,"aria-disabled":n,className:ge(t,"rw-btn")}),s?a:i,o)}const C2=["className"];function mp(){return mp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mp.apply(this,arguments)}function x2(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Xl(e){let{className:t}=e,n=x2(e,C2);return g.createElement(iy,mp({},n,{tabIndex:void 0,className:ge(t,"rw-calendar-btn")}))}function P2({localizer:e,label:t,labelId:n,onMoveRight:r,onMoveToday:i,onMoveLeft:s,onViewChange:o,prevDisabled:a,todayDisabled:l,upDisabled:u,nextDisabled:c,navigatePrevIcon:h=w2,navigateNextIcon:f=E2}){return I.createElement("div",{className:"rw-calendar-header"},I.createElement(Xl,{id:n,onClick:o,className:"rw-calendar-btn-view",disabled:u,"aria-live":"polite","aria-atomic":"true"},t," ",Vf),I.createElement(Xl,{className:"rw-calendar-btn-left",onClick:s,disabled:a,label:e.messages.moveBack(),icon:h}),I.createElement(Xl,{className:"rw-calendar-btn-today",disabled:l,onClick:i},e.messages.moveToday()),I.createElement(Xl,{className:"rw-calendar-btn-right",onClick:r,disabled:c,label:e.messages.moveForward(),icon:f}))}var cc="milliseconds",qa="seconds",Qa="minutes",Ga="hours",Qi="day",ao="week",Ya="month",Gi="year",Yi="decade",Xi="century",II={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},R2={month:1,year:12,decade:10*12,century:100*12};function A2(e){return[31,k2(e),31,30,31,30,31,31,30,31,30,31]}function k2(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Ji(e,t,n){switch(e=new Date(e),n){case cc:case qa:case Qa:case Ga:case Qi:case ao:return D2(e,t*II[n]);case Ya:case Gi:case Yi:case Xi:return N2(e,t*R2[n])}throw new TypeError('Invalid units: "'+n+'"')}function D2(e,t){var n=new Date(+e+t);return O2(e,n)}function N2(e,t){var n=e.getFullYear(),r=e.getMonth(),i=e.getDate(),s=n*12+r+t,o=Math.trunc(s/12),a=s%12,l=Math.min(i,A2(o)[a]),u=new Date(e);return u.setFullYear(o),u.setDate(1),u.setMonth(a),u.setDate(l),u}function O2(e,t){var n=e.getTimezoneOffset(),r=t.getTimezoneOffset(),i=r-n;return new Date(+t+i*II.minutes)}function Xa(e,t,n){return Ji(e,-t,n)}function lo(e,t,n){switch(e=new Date(e),t){case Xi:case Yi:case Gi:e=fc(e,0);case Ya:e=DI(e,1);case ao:case Qi:e=AI(e,0);case Ga:e=RI(e,0);case Qa:e=PI(e,0);case qa:e=xI(e,0)}return t===Yi&&(e=Xa(e,Zi(e)%10,"year")),t===Xi&&(e=Xa(e,Zi(e)%100,"year")),t===ao&&(e=NI(e,0,n)),e}function V2(e,t,n){switch(e=new Date(e),e=lo(e,t,n),t){case Xi:case Yi:case Gi:case Ya:case ao:e=Ji(e,1,t),e=Xa(e,1,Qi),e.setHours(23,59,59,999);break;case Qi:e.setHours(23,59,59,999);break;case Ga:case Qa:case qa:e=Ji(e,1,t),e=Xa(e,1,cc)}return e}var b2=Io(function(e,t){return e===t}),L2=Io(function(e,t){return e!==t}),M2=Io(function(e,t){return e>t}),SI=Io(function(e,t){return e>=t}),$2=Io(function(e,t){return e<t}),CI=Io(function(e,t){return e<=t});function F2(){return new Date(Math.min.apply(Math,arguments))}function j2(){return new Date(Math.max.apply(Math,arguments))}function U2(e,t,n,r){return r=r||"day",(!t||SI(e,t,r))&&(!n||CI(e,n,r))}var xI=yi("Milliseconds"),PI=yi("Seconds"),RI=yi("Minutes"),AI=yi("Hours"),kI=yi("Day"),DI=yi("Date"),fc=yi("Month"),Zi=yi("FullYear");function z2(e,t){return t===void 0?Zi(lo(e,Yi)):Ji(e,t+10,Gi)}function B2(e,t){return t===void 0?Zi(lo(e,Xi)):Ji(e,t+100,Gi)}function NI(e,t,n){var r=(kI(e)+7-(n||0))%7;return t===void 0?r:Ji(e,t-r,Qi)}function W2(e,t,n,r){var i,s,o;switch(n){case cc:case qa:case Qa:case Ga:case Qi:case ao:i=t.getTime()-e.getTime();break;case Ya:case Gi:case Yi:case Xi:i=(Zi(t)-Zi(e))*12+fc(t)-fc(e);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case cc:s=1;break;case qa:s=1e3;break;case Qa:s=1e3*60;break;case Ga:s=1e3*60*60;break;case Qi:s=1e3*60*60*24;break;case ao:s=1e3*60*60*24*7;break;case Ya:s=1;break;case Gi:s=12;break;case Yi:s=120;break;case Xi:s=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return o=i/s,r?o:Math.round(o)}function yi(e){var t=function(n){switch(n){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(n,r){if(r===void 0)return n["get"+e]();var i=new Date(n);return i["set"+e](r),t&&i["get"+e]()!=r&&(e==="Hours"||r>=t&&i.getHours()-n.getHours()<Math.floor(r/t))&&i["set"+e](r+t),i}}function Io(e){return function(t,n,r){return e(+lo(t,r),+lo(n,r))}}const K2=Object.freeze(Object.defineProperty({__proto__:null,add:Ji,century:B2,date:DI,day:kI,decade:z2,diff:W2,endOf:V2,eq:b2,gt:M2,gte:SI,hours:AI,inRange:U2,lt:$2,lte:CI,max:j2,milliseconds:xI,min:F2,minutes:RI,month:fc,neq:L2,seconds:PI,startOf:lo,subtract:Xa,weekday:NI,year:Zi},Symbol.toStringTag,{value:"Module"}));let Qo=e=>e==null||isNaN(+e),B=Object.assign({},K2,{merge(e,t,n){return Qo(t)&&Qo(e)==null?null:(Qo(t)&&(t=n||new Date),Qo(e)&&(e=n||new Date),e=B.startOf(e,"day"),e=B.hours(e,B.hours(t)),e=B.minutes(e,B.minutes(t)),e=B.seconds(e,B.seconds(t)),B.milliseconds(e,B.milliseconds(t)))}});function H2(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e},[e]),t}function gn(e){const t=H2(e);return g.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function bf(){const e=g.useRef(!0),t=g.useRef(()=>e.current);return g.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function q2(e){const t=bf(),n=g.useRef(),r=g.useRef(),i=gn(e.willHandle),s=gn(e.didHandle),o=gn(e.onChange),a=gn(e.isDisabled),l=g.useCallback((c,h)=>{c!==n.current&&(s==null||s(c,h),(t()||!c)&&(n.current=c,o==null||o(c,h)))},[t,s,o,n]),u=g.useCallback((c,h)=>{a()||(h&&h.persist&&h.persist(),(i==null?void 0:i(c,h))!==!1&&(clearTimeout(r.current),c?l(c,h):r.current=window.setTimeout(()=>l(c,h))))},[i,l]);return g.useMemo(()=>({onBlur:c=>{u(!1,c)},onFocus:c=>{u(!0,c)}}),[u])}var Nh;function OI(e,t){if(!Nh){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;Nh=function(s,o){return r.call(s,o)}}return Nh(e,t)}const Q2=e=>!!e&&OI(e,"fieldset[disabled] *");function vi(e,t={},n={}){const r=bf(),[i,s]=g.useState(!1),o=gn(()=>t.disabled===!0||Q2(e.current));return[q2(Object.assign({},n,{isDisabled:o,onChange:l=>{r()&&s(l)},didHandle(l,u){let c=t[l?"onFocus":"onBlur"];c&&c(u),n.didHandle&&!u.isWidgetDefaultPrevented&&n.didHandle(l,u)}})),i,s]}function Ja(){return Ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ja.apply(this,arguments)}function G2(e,t,n){return B.max(B.min(e,n),t)}function lt({className:e,focusedItem:t,onKeyDown:n,children:r,"aria-labelledby":i}){const s=g.useRef(null),[o,a]=vi(s);return g.useEffect(()=>{var l;const u=s.current;!u||!a||(l=u.querySelector(".rw-cell[tabindex]"))==null||l.focus()},[t,a,s]),I.createElement("div",Ja({role:"grid",ref:s,tabIndex:-1},o,{onKeyDown:n,"aria-labelledby":i,className:ge(e,"rw-nav-view","rw-calendar-grid")}),r)}function Y2({onChange:e,min:t,max:n,date:r,unit:i,disabled:s,selected:o,focusedItem:a,viewUnit:l,children:u,label:c}){const h=p=>B.eq(r,p,i),f=!B.inRange(r,t,n,i),d=s||f,y=!s&&!f&&h(a),v=o&&h(o),w=r&&a&&l&&B[l](r)!==B[l](a),m=()=>{e(G2(r,t,n))};return I.createElement("div",{role:"gridcell",title:c,"aria-label":c,"aria-readonly":s,"aria-selected":!!v,tabIndex:y?0:void 0,onClick:d?void 0:m,className:ge("rw-cell",d&&"rw-state-disabled",f&&"rw-cell-not-allowed",w&&"rw-cell-off-range",v&&"rw-state-selected")},I.createElement("span",{"aria-hidden":!0},u))}lt.Body=e=>I.createElement("div",Ja({role:"rowgroup",className:"rw-calendar-body"},e));lt.Row=e=>I.createElement("div",Ja({role:"row",className:"rw-calendar-row"},e));lt.Cell=Y2;function X2(e){return Array.isArray(e)?e:[]}const VI=(e,t=!0)=>{const n=[];return t&&e==null?n:n.concat(e)},J2=(e,t)=>e?Object.prototype.hasOwnProperty.call(e,t):!1;function Lf(e,t){let n=0,r=e?e.length:0,i=[];for(t=Math.max(+t||1,1);n<r;)i.push(e.slice(n,n+=t));return i}function Z2(e,t,n=[]){const r=typeof e=="function"?e:s=>s[e];typeof e!="string"||!t.length||J2(t[0],e);const i=new Map;return t.forEach(s=>{let o=r(s);i.has(o)?i.get(o).push(s):i.set(o,[s])}),Array.from(i)}const eV=["focusedItem","disabled","onChange","value","localizer","min","max"];function gp(){return gp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gp.apply(this,arguments)}function tV(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function nV(e){let{focusedItem:t,disabled:n,onChange:r,value:i,localizer:s,min:o,max:a}=e,l=tV(e,eV);const u=g.useMemo(()=>Lf(rV(t),4),[t]);return I.createElement(lt,gp({},l,{focusedItem:t}),I.createElement(lt.Body,null,u.map((c,h)=>I.createElement(lt.Row,{key:h},c.map((f,d)=>{let y=s.formatDate(B.startOf(f,"decade"),"decade");return I.createElement(lt.Cell,{key:d,unit:"decade",viewUnit:"century",label:y,date:f,min:o,max:a,onChange:r,focusedItem:t,selected:i,disabled:n},y)})))))}function rV(e){let t=[1,2,3,4,5,6,7,8,9,10,11,12],n=B.add(B.startOf(e,"century"),-20,"year");return t.map(()=>n=B.add(n,10,"year"))}const iV=["focusedItem","disabled","onChange","value","localizer","min","max"];function yp(){return yp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yp.apply(this,arguments)}function sV(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function oV(e){let{focusedItem:t,disabled:n,onChange:r,value:i,localizer:s,min:o,max:a}=e,l=sV(e,iV);const u=g.useMemo(()=>Lf(aV(t),4),[t]);return I.createElement(lt,yp({},l,{focusedItem:t}),I.createElement(lt.Body,null,u.map((c,h)=>I.createElement(lt.Row,{key:h},c.map((f,d)=>{let y=s.formatDate(f,"year");return I.createElement(lt.Cell,{key:d,unit:"year",viewUnit:"decade",label:y,date:f,min:o,max:a,onChange:r,focusedItem:t,selected:i,disabled:n},y)})))))}function aV(e){let t=[1,2,3,4,5,6,7,8,9,10,11,12],n=B.add(B.startOf(e,"decade"),-2,"year");return t.map(()=>n=B.add(n,1,"year"))}const W_={day:"numeric",month:"numeric",year:"numeric"},K_={hour:"numeric",minute:"numeric"},Vr=(e,t)=>Intl.DateTimeFormat(e,t).format;class lV{constructor({culture:t=void 0,firstOfWeek:n=0}={}){this.culture=t,this.firstOfWeek=()=>n;function r(s,o){return typeof o=="function"?o(s,t):s.toLocaleString(t,o)}const i={date:Vr(t,W_),time:Vr(t,K_),datetime:Vr(t,Object.assign({},W_,K_)),header:Vr(t,{month:"short",year:"numeric"}),weekday:Vr(t,{weekday:"narrow"}),dayOfMonth:Vr(t,{day:"2-digit"}),month:Vr(t,{month:"short"}),year:Vr(t,{year:"numeric"}),decade:s=>`${this.year(s)} - ${this.year(B.endOf(s,"decade"))}`,century:s=>`${this.year(s)} - ${this.year(B.endOf(s,"century"))}`};Object.keys(i).forEach(s=>{this[s]=(o,a)=>a?r(o,a):i[s](o)})}toFormattedParts(t,n={dateStyle:"short",timeStyle:"short"}){return Intl.DateTimeFormat(this.culture,n).formatToParts(t).filter(r=>r.type!=="timeZoneName")}parse(t){const n=new Date(t);return isNaN(+n)?null:n}}class uV{constructor({culture:t=void 0}={}){var n;this.culture=t;const r="formatToParts"in Intl.NumberFormat(t)?Intl.NumberFormat(t).formatToParts(1.1)[1].value:((n=1.1.toLocaleString(t).match(/[^\d]/))==null?void 0:n[0])||".",i=Intl.NumberFormat(t).format;this.decimalCharacter=()=>r,this.format=(s,o)=>o?typeof o=="function"?o(s,t):s.toLocaleString(t,o):i(s)}parse(t){return parseFloat(t.replace(this.decimalCharacter(),"."))}}const H_={moveToday:"Today",moveBack:"Navigate back",moveForward:"Navigate forward",dateButton:"Select date",openCombobox:"open combobox",emptyList:"There are no items in this list",emptyFilter:"The filter returned no results",createOption:(e,t)=>[" Create option",t&&" ",t&&g.createElement("strong",{key:"_"},`"${t}"`)],tagsLabel:"Selected items",removeLabel:"Remove selected item",noneSelected:"no selected items",selectedItems:e=>`Selected items: ${e.join(", ")}`,increment:"Increment value",decrement:"Decrement value"},cV={};function sy(e=cV){let t={};return Object.keys(H_).forEach(n=>{let r=e[n];r==null&&(r=H_[n]),t[n]=typeof r=="function"?r:()=>r}),t}const oy=e=>g.useMemo(()=>sy(e),[e]);function fV(e,t,n,r={}){if(!e&&!t)throw new Error("This component requires a Localizer but none was provided");return{formatOverrides:r,messages:sy(n),formatDate(i,s,o){return e[s](i,o??this.formatOverrides[s])},formatNumber(i,s){return t.format(i,s??this.formatOverrides.number)},parseDate:e.parse.bind(e),parseNumber:t.parse.bind(t),decimalCharacter:t.decimalCharacter.bind(t),firstOfWeek:e.firstOfWeek.bind(e)}}const hV=I.createContext(fV(new lV,new uV)),ay=(e,t)=>{const n=g.useContext(hV);return g.useMemo(()=>!e&&!t?n:Object.assign({},n,{messages:sy(Object.assign({},n.messages,e)),formatOverrides:Object.assign({},n.formatOverrides,t)}),[e,t,n])},dV=["className","focusedItem","disabled","onChange","value","min","max","localizer","renderDay"];function vp(){return vp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vp.apply(this,arguments)}function pV(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function mV(e,t){let n=B.startOf(B.startOf(e,"month"),"week",t),r=B.endOf(B.endOf(e,"month"),"week",t),i=[];for(;B.lte(n,r,"day");)i.push(n),n=B.add(n,1,"day");return i}function gV(e){let{className:t,focusedItem:n,disabled:r,onChange:i,value:s,min:o,max:a,localizer:l,renderDay:u}=e,c=pV(e,dV),h=mV(n,l.firstOfWeek()),f=Lf(h,7);return I.createElement(lt,vp({},c,{focusedItem:n,className:ge(t,"rw-calendar-month")}),I.createElement("div",{role:"rowgroup",className:"rw-calendar-head"},I.createElement(lt.Row,{className:"rw-calendar-row"},f[0].map((d,y)=>I.createElement("div",{role:"columnheader",className:"rw-head-cell",key:y},l.formatDate(d,"weekday"))))),I.createElement(lt.Body,null,f.map((d,y)=>I.createElement(lt.Row,{key:y},d.map((v,w)=>{let m=l.formatDate(v,"dayOfMonth"),p=l.formatDate(v,"date");return I.createElement(lt.Cell,{key:w,label:p,date:v,min:o,max:a,unit:"day",viewUnit:"month",onChange:i,focusedItem:n,selected:s,disabled:r},u?u({date:v,label:m}):m)})))))}function ly(e){return e&&e.ownerDocument||document}function yV(e){var t=ly(e);return t&&t.defaultView||window}function vV(e,t){return yV(e).getComputedStyle(e,t)}var _V=/([A-Z])/g;function EV(e){return e.replace(_V,"-$1").toLowerCase()}var wV=/^ms-/;function Jl(e){return EV(e).replace(wV,"-ms-")}var TV=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function IV(e){return!!(e&&TV.test(e))}function _p(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(Jl(t))||vV(e).getPropertyValue(Jl(t));Object.keys(t).forEach(function(i){var s=t[i];!s&&s!==0?e.style.removeProperty(Jl(i)):IV(i)?r+=i+"("+s+") ":n+=Jl(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}const Ep=!!(typeof window<"u"&&window.document&&window.document.createElement);var wp=!1,Tp=!1;try{var Oh={get passive(){return wp=!0},get once(){return Tp=wp=!0}};Ep&&(window.addEventListener("test",Oh,Oh),window.removeEventListener("test",Oh,!0))}catch{}function SV(e,t,n,r){if(r&&typeof r!="boolean"&&!Tp){var i=r.once,s=r.capture,o=n;!Tp&&i&&(o=n.__once||function a(l){this.removeEventListener(t,a,s),n.call(this,l)},n.__once=o),e.addEventListener(t,o,wp?r:s)}e.addEventListener(t,n,r)}function CV(e,t,n,r){var i=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)}function bI(e,t,n,r){return SV(e,t,n,r),function(){CV(e,t,n,r)}}function xV(e,t,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}function PV(e){var t=_p(e,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function RV(e,t,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||xV(e,"transitionend",!0)},t+n),s=bI(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function LI(e,t,n,r){n==null&&(n=PV(e)||0);var i=RV(e,n,r),s=bI(e,"transitionend",t);return function(){i(),s()}}const AV=["direction","children","onTransitionEnd"];function Ip(){return Ip=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ip.apply(this,arguments)}function kV(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const DV=_.oneOf(["left","right","top","bottom"]),NV="rw-calendar-transition",OV="rw-calendar-transition-active",q_="rw-calendar-transition-next",VV="rw-calendar-transition-prev",Q_=(e,t)=>e&&I.cloneElement(e,{className:ge(e.props.className,NV,t)});class uy extends I.Component{constructor(t){super(t),this.handleTransitionEnd=n=>{this.isTransitioning=!1;let r=this.container.current.lastChild;this.props.onTransitionEnd&&this.props.onTransitionEnd(r,n)},this.current=this.props.children,this.container=I.createRef(),this.state={prevClasses:"",currentClasses:""}}componentDidUpdate(){if(!this.flush||this.isTransitioning)return;this.flush=!1,this.isTransitioning=!0;let t=this.container.current.firstChild;const n=document.activeElement&&t.contains(document.activeElement);this.setState({prevClasses:"",currentClasses:q_},()=>{let r=this.container.current.lastChild;r.clientHeight,this.setState({prevClasses:VV,currentClasses:ge(q_,OV)},()=>{LI(r,()=>{this.prev=null,this.current.key!==this.props.children.key&&(this.current=this.props.children),this.setState({prevClasses:"",currentClasses:""},()=>this.handleTransitionEnd(n))})})})}render(){let t=this.props,{direction:n,children:r}=t,i=kV(t,AV);this.isTransitioning||(this.current.key!==r.key&&(this.prev=this.current,this.flush=!0),this.current=r);let{prevClasses:s,currentClasses:o}=this.state;return I.createElement("div",Ip({},i,{ref:this.container,className:ge("rw-calendar-transition-group",n==="top"&&"rw-calendar-transition-top",n==="right"&&"rw-calendar-transition-right",n==="bottom"&&"rw-calendar-transition-bottom",n==="left"&&"rw-calendar-transition-left")}),Q_(this.prev,s),Q_(this.current,o))}}uy.defaultProps={direction:"left"};uy.propTypes={direction:DV,onTransitionEnd:_.func};function MI(e,t,n,r=!1){const i=gn(n);g.useEffect(()=>{const s=typeof e=="function"?e():e;return s.addEventListener(t,i,r),()=>s.removeEventListener(t,i,r)},[e])}function G_(e,t,n=!1){const r=g.useCallback(()=>document,[]);return MI(r,e,t,n)}const bV=["className","tabIndex","focused","open","dropUp","disabled","readOnly","autofilling"];function Sp(){return Sp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sp.apply(this,arguments)}function LV(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function MV(){const[e,t]=g.useState(!1);return G_("keydown",({key:n})=>{(n==" "||n==="Tab"||n=="Enter"||n&&n.indexOf("Arrow")!==-1)&&t(!0)}),G_("mousedown",()=>{t(!1)}),e}function $I(e){const t=e.tabIndex!=null?e.tabIndex:-1,n=MV();return{tabIndex:t,"data-intent":n?"keyboard":"mouse",className:ge(e.className,"rw-widget",e.disabled&&"rw-state-disabled",e.readOnly&&"rw-state-readonly",e.focused&&"rw-state-focus",e.autofilling&&"rw-webkit-autofill",e.open&&`rw-open${e.dropUp?"-up":""}`)}}const os=I.forwardRef((e,t)=>{let{className:n,tabIndex:r,focused:i,open:s,dropUp:o,disabled:a,readOnly:l,autofilling:u}=e,c=LV(e,bV);const h=$I({className:n,tabIndex:r,focused:i,open:s,dropUp:o,disabled:a,readOnly:l,autofilling:u});return I.createElement("div",Sp({ref:t},c,h))});os.displayName="Widget";const $V=["focusedItem","disabled","onChange","value","min","localizer","max"];function Cp(){return Cp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cp.apply(this,arguments)}function FV(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const jV=[0,1,2,3,4,5,6,7,8,9,10,11];function UV(e){let t=new Date(e,0,1);return jV.map(n=>B.month(t,n))}function zV(e){let{focusedItem:t,disabled:n,onChange:r,value:i,min:s,localizer:o,max:a}=e,l=FV(e,$V),u=UV(B.year(t));return I.createElement(lt,Cp({},l,{focusedItem:t}),I.createElement(lt.Body,null,Lf(u,4).map((c,h)=>I.createElement(lt.Row,{key:h},c.map((f,d)=>{let y=o.formatDate(f,"header");return I.createElement(lt.Cell,{key:d,label:y,date:f,min:s,max:a,unit:"month",viewUnit:"year",onChange:r,focusedItem:t,selected:i,disabled:n},o.formatDate(f,"month"))})))))}function FI(e,t){g.useEffect(()=>{e&&t.current&&t.current.focus()},[])}let BV=0;function WV(e){return""+((e??"")+ ++BV)}function Ke(e,t){e&&e.apply(null,t)}const Pt=(e,t="")=>{const n=g.useRef();return n.current||(n.current=WV("rw_")),(e||n.current)+t};function Mf(e,t){const n=g.useRef(!1);return n.current||(e||!!t)&&(n.current=!0)}const KV=["id","autoFocus","bordered","views","tabIndex","disabled","readOnly","className","value","defaultValue","onChange","currentDate","defaultCurrentDate","onCurrentDateChange","min","max","view","defaultView","onViewChange","onKeyDown","onNavigate","renderDay","messages","formats"];function xp(){return xp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xp.apply(this,arguments)}function HV(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}let qV=e=>e[e.length-1];const QV="rw-cell",GV=`.${QV}[tabindex]`,YV=new Date(1900,0,1),XV=new Date(2099,11,31),Pp=["month","year","decade","century"],ca={month:"day",year:"month",decade:"year",century:"decade"},JV={month:gV,year:zV,decade:oV,century:nV},ZV={ArrowDown:"DOWN",ArrowUp:"UP",ArrowRight:"RIGHT",ArrowLeft:"LEFT"},Y_={LEFT:"RIGHT",RIGHT:"LEFT"},eb={year:1,decade:10,century:100};function X_(e,t,n){let r=Rp(e);return r===null?r:B.max(B.min(r,n),t)}const tb={disabled:_.bool,readOnly:_.bool,onChange:_.func,value:_.instanceOf(Date),min:_.instanceOf(Date),max:_.instanceOf(Date),currentDate:_.instanceOf(Date),onCurrentDateChange:_.func,navigatePrevIcon:_.node,navigateNextIcon:_.node,view(e,...t){return _.oneOf(e.views||Pp)(e,...t)},views:_.arrayOf(_.oneOf(Pp)),onViewChange:_.func,onNavigate:_.func,culture:_.string,autoFocus:_.bool,footer:_.bool,renderDay:_.func,formats:_.shape({header:_.any,footer:_.any,day:_.any,date:_.any,month:_.any,year:_.any,decade:_.any,century:_.any}),messages:_.shape({moveBack:_.string,moveForward:_.string}),onKeyDown:_.func,tabIndex:_.any},nb=(e,t=e[0],n)=>{const r=g.useRef(t),i=g.useRef(n);let s;return t!==r.current?s=e.indexOf(r.current)>e.indexOf(t)?"top":"bottom":i.current!==n&&(s=B.gt(n,i.current)?"left":"right"),g.useEffect(()=>{i.current=n,r.current=t}),s};function ci(e){let{id:t,autoFocus:n,bordered:r=!0,views:i=Pp,tabIndex:s=0,disabled:o,readOnly:a,className:l,value:u,defaultValue:c,onChange:h,currentDate:f,defaultCurrentDate:d,onCurrentDateChange:y,min:v=YV,max:w=XV,view:m,defaultView:p=i[0],onViewChange:E,onKeyDown:T,onNavigate:P,renderDay:C,messages:k,formats:N}=e,H=HV(e,KV);const[V,_e]=wn(u,c,h),[ne,De]=wn(f,d||V||new Date,y),[q,re]=wn(m,p,E),ae=ay(k,N),Pe=g.useRef(null),R=Pt(t,"_calendar"),L=Pt(t,"_calendar_label");FI(!!n,Pe);const z=nb(i,q,ne),[,se]=vi(Pe,{disabled:o},{willHandle(){if(s==-1)return!1}}),he=g.useRef(V);g.useEffect(()=>{const M=X_(V,v,w),ye=he.current;he.current=V,B.eq(M,Rp(ye),ca[q])||Te(M)});const rt=o||a,ct=()=>{J("UP")},Bt=()=>{J("LEFT")},je=()=>{J("RIGHT")},Ue=M=>{if(i[0]===q){Te(M),Ke(_e,[M]),te();return}J("DOWN",M)},fn=()=>{let M=new Date,ye=i[0];Ke(h,[M]),B.inRange(M,v,w,ye)&&(te(),Te(M),Ke(re,[ye]))},F=M=>{let ye=M.ctrlKey||M.metaKey,oe=M.key,Re=ZV[oe],ft=ca[q];if(oe==="Enter")return M.preventDefault(),Ue(ne);if(Re)if(ye)M.preventDefault(),J(Re);else{getComputedStyle(M.currentTarget).getPropertyValue("direction")==="rtl"&&Re in Y_&&(Re=Y_[Re]);let tt=ci.move(ne,v,w,q,Re);B.eq(ne,tt,ft)||(M.preventDefault(),B.gt(tt,ne,q)?J("RIGHT",tt):B.lt(tt,ne,q)?J("LEFT",tt):Te(tt))}Ke(T,[M])};function J(M,ye){let oe=q,Re=M==="LEFT"||M==="UP"?"right":"left";M==="UP"&&(oe=i[i.indexOf(q)+1]||oe),M==="DOWN"&&(oe=i[i.indexOf(q)-1]||oe),ye||(ye=["LEFT","RIGHT"].indexOf(M)!==-1?Ie(M):ne),B.inRange(ye,v,w,oe)&&(Ke(P,[ye,Re,oe]),Te(ye),Ke(re,[oe]))}const te=()=>{var M;const ye=(M=Pe.current)==null?void 0:M.querySelector(GV);ye==null||ye.focus()},le=(M,ye)=>{let oe=document.activeElement;ye&&(!oe||!M.contains(oe))&&M.focus()};function Te(M){let ye=X_(M?new Date(M):ne,v,w);M===ne||B.eq(ye,Rp(ne),ca[q])||Ke(De,[ye])}function Ie(M){let ye=M==="LEFT"?"subtract":"add",oe=q==="month"?q:"year",Re=eb[q]||1;return B[ye](ne,1*Re,oe)}function qe(){switch(q){case"month":return ae.formatDate(ne,"header");case"year":return ae.formatDate(ne,"year");case"decade":return ae.formatDate(B.startOf(ne,"decade"),"decade");case"century":return ae.formatDate(B.startOf(ne,"century"),"century")}}let ke=JV[q],Je=!B.inRange(new Date,v,w,q),Wt=q+"_"+B[q](ne);const Q=rt||!B.inRange(Ie("LEFT"),v,w,q),Jn=rt||!B.inRange(Ie("RIGHT"),v,w,q);return I.createElement(os,xp({},H,{role:"group",ref:Pe,focused:se,disabled:o,readOnly:a,tabIndex:s,className:ge(l,"rw-calendar",r&&"rw-calendar-contained")}),I.createElement(P2,{label:qe(),labelId:L,localizer:ae,upDisabled:rt||q===qV(i),prevDisabled:Q,todayDisabled:rt||Je,nextDisabled:Jn,onViewChange:ct,onMoveLeft:Bt,onMoveRight:je,onMoveToday:fn}),I.createElement(ci.Transition,{direction:z,onTransitionEnd:le},I.createElement(ke,{key:Wt,min:v,max:w,id:R,value:V,localizer:ae,disabled:rt,focusedItem:ne,onChange:Ue,onKeyDown:F,"aria-labelledby":L,renderDay:C})))}function Rp(e){return e&&!isNaN(e.getTime())?e:null}ci.displayName="Calendar";ci.propTypes=tb;ci.Transition=uy;ci.move=(e,t,n,r,i)=>{let s=r==="month",o=i==="UP"||i==="DOWN",a=r&&ca[r],l=s&&o?"week":ca[r],u=s||!o?1:4,c;return(i==="UP"||i==="LEFT")&&(u*=-1),c=B.add(e,u,l),B.inRange(c,t,n,a)?c:e};const rb=["className","disabled","readOnly","value","tabIndex","type","component"];function Ap(){return Ap=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ap.apply(this,arguments)}function ib(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const Il=I.forwardRef((e,t)=>{let{className:n,disabled:r,readOnly:i,value:s,tabIndex:o,type:a="text",component:l="input"}=e,u=ib(e,rb);return I.createElement(l,Ap({},u,{ref:t,type:a,tabIndex:o||0,autoComplete:"off",disabled:r,readOnly:i,"aria-disabled":r,"aria-readonly":i,value:s??"",className:ge(n,"rw-input")}))});Il.displayName="Input";Il.propTypes={disabled:_.bool,readOnly:_.bool,value:_.string,type:_.string,tabIndex:_.number,component:_.any};var sb=Function.prototype.bind.call(Function.prototype.call,[].slice);function jI(e,t){return sb(e.querySelectorAll(t))}const uo=I.createContext(null),J_={behavior:"stop"};function UI(e){const t=g.useContext(uo),n=g.useRef(null),r=g.useRef(null);g.useLayoutEffect(()=>()=>{t==null||t.map.delete(r.current)},[]),g.useLayoutEffect(()=>{n.current!==r.current&&(t==null||t.map.delete(n.current)),n.current=r.current,r.current&&(t==null?void 0:t.map.get(r.current))!==e&&(t==null||t.map.set(r.current,e))});const i=e===(t==null?void 0:t.focusedItem);return[r,i,i?t==null?void 0:t.activeId:void 0]}const Za=({scope:e,anchorItem:t,focusFirstItem:n=!1,scopeSelector:r="",activeId:i})=>{const s=g.useMemo(()=>new WeakMap,[]),[o,a]=g.useState(),l=`${r} [data-rw-focusable]`.trim(),u=()=>{const f=jI(e.current,l);return[f,f.find(d=>d.dataset.rwFocused==="")]},c=g.useMemo(()=>({size(){const[f]=u();return f.length},get:u,toDataItem:f=>s.get(f),first(){const[[f]]=u();return f},focus(f){(!f||s.has(f))&&a(f?s.get(f):void 0)},last(){const[f]=u();return f[f.length-1]},next({behavior:f}=J_){const[d,y]=u();let v=d.indexOf(y)+1;return v>=d.length?f==="loop"?d[0]:f==="clear"?void 0:y:d[v]},prev({behavior:f}=J_){const[d,y]=u();let v=Math.max(0,d.indexOf(y))-1;return v<0?f==="loop"?d[d.length-1]:f==="clear"?void 0:y:d[v]}}),[]);g.useLayoutEffect(()=>{if(!t){c.focus(null);return}const f=u()[0].find(d=>c.toDataItem(d)===t);c.focus(f)},[t]),g.useLayoutEffect(()=>{if(!e.current)return;const[,f]=u(),d=f!=null;(!d&&n||d&&!e.current.contains(f))&&(n?c.focus(c.first()):c.focus(null))});const h=g.useMemo(()=>({map:s,focusedItem:o,activeId:i}),[o,i]);return c.context=h,c.getFocused=g.useCallback(()=>o,[o]),c.hasFocused=()=>o!==void 0,c},ob=["className","children","dataItem","selected","disabled","onSelect","searchTerm"];function kp(){return kp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kp.apply(this,arguments)}function ab(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const lb={activeId:_.string,dataItem:_.any,selected:_.bool.isRequired,onSelect:_.func.isRequired,component:_.any};function cy(e){let{className:t,children:n,dataItem:r,selected:i,disabled:s,onSelect:o}=e,a=ab(e,ob);const[l,u,c]=UI(r),h=d=>{o&&!s&&o(r,d)};let f={"rw-state-focus":u,"rw-state-selected":i,"rw-state-disabled":s};return I.createElement("div",kp({id:c,ref:l,role:"option","data-rw-option":"","data-rw-focused":u?"":void 0,"data-rw-focusable":s?void 0:"",tabIndex:-1,"aria-selected":!!i,className:ge("rw-list-option",t,f),onClick:h},a),n)}cy.propTypes=lb;const ub={className:_.string,component:_.string};function zI({children:e,className:t,component:n="div"}){let r=n;return I.createElement(r,{tabIndex:"-1",role:"separator",className:ge(t,"rw-list-optgroup")},e)}zI.propTypes=ub;const Vh=ie.elementType;let cn=Object.assign((...e)=>ie.bool(...e),{acceptsArray:ie.oneOfType([ie.bool,ie.array])});const Tn=ie.oneOfType([ie.string,ie.func]),nn=ie.oneOfType([ie.node,ie.string,ie.func]);function cb(e,t,n){const r=bf(),{isEqual:i,effectHook:s=g.useEffect}=typeof n=="function"?{isEqual:n}:n,o=g.useRef();o.current=t;const a=g.useRef(null);s(()=>{if(a.current===null){const l=e();a.current=()=>{r()&&i(o.current,t)||(a.current=null,l&&l())}}return a.current}),g.useDebugValue(e)}var Z_=Object.prototype.hasOwnProperty;function e0(e,t,n){for(n of e.keys())if(fa(n,t))return n}function fa(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&fa(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=e0(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=e0(t,i),!i)||!fa(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(Z_.call(e,n)&&++r&&!Z_.call(t,n)||!(n in t)||!fa(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function fb(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function hb(e,t){let n=!0;const r=g.useRef();r.current?n=!!(t&&r.current.deps&&fb(t,r.current.deps)):r.current={deps:t,result:e()};const i=n?r.current:{deps:t,result:e()};return r.current=i,i.result}function db(e){const t=g.useRef(e);return t.current=e,t}function BI(e){const t=db(e);g.useEffect(()=>()=>t.current(),[])}function pb(e,t){const n=g.useRef(!0),r=g.useRef();BI(()=>{r.current&&r.current()}),hb(()=>{if(n.current){n.current=!1;return}r.current&&r.current(),r.current=e()},t)}function mb([e,t],[n,r]){return e===n&&fa(t,r)}function gb(e,t,n){const[r,i]=g.useState(null),s=gn(n||i);return cb(()=>{if(!e)return;const o=new MutationObserver(s);return o.observe(e,t),()=>{o.disconnect()}},[e,t],{isEqual:mb,effectHook:pb}),n?void 0:r||[]}function yb(){return g.useState(null)}const t0=e=>!e||typeof e=="function"?e:t=>{e.current=t};function vb(e,t){const n=t0(e),r=t0(t);return i=>{n&&n(i),r&&r(i)}}function _b(e,t){return g.useMemo(()=>vb(e,t),[e,t])}const Eb=["multiple","data","value","onChange","accessors","className","messages","disabled","renderItem","renderGroup","searchTerm","groupBy","elementRef","optionComponent","renderList"];function wb(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const Tb=["style","className","role","id","autocomplete","size","tabIndex","maxLength","name"],Ib=[/^aria-/,/^data-/,/^on[A-Z]\w+/];function Sb(e){const t={};return Object.keys(e).forEach(n=>{(Tb.indexOf(n)!==-1||Ib.some(r=>!!n.match(r)))&&(t[n]=e[n])}),t}const Cb={data:_.array,dataKey:Tn,textField:Tn,onSelect:_.func,onMove:_.func,onHoverOption:_.func,optionComponent:_.elementType,renderItem:_.func,renderGroup:_.func,focusedItem:_.any,selectedItem:_.any,searchTerm:_.string,disabled:cn.acceptsArray,messages:_.shape({emptyList:_.func.isRequired})},xb=(e,t=!1)=>{const n=g.useCallback(()=>{if(!e)return;let r=e.querySelector("[data-rw-focused]");r&&r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"})},[e]);return gb(t?e:null,{subtree:!0,attributes:!0,attributeFilter:["data-rw-focused"]},n),n};function WI(e,t,n){return(r,i)=>{if(e===!1){n(r,{dataItem:r,lastValue:t[0],originalEvent:i});return}const s=t.includes(r);n(s?t.filter(o=>o!==r):[...t,r],{dataItem:r,lastValue:t,action:s?"remove":"insert",originalEvent:i})}}const So=I.forwardRef(function(t,n){var r;let{multiple:i=!1,data:s=[],value:o,onChange:a,accessors:l,className:u,messages:c,disabled:h,renderItem:f,renderGroup:d,searchTerm:y,groupBy:v,elementRef:w,optionComponent:m=cy,renderList:p}=t,E=wb(t,Eb);const T=Pt(),P=VI(o,i),C=g.useMemo(()=>v?Z2(v,s):void 0,[s,v]),[k,N]=yb(),H=X2(h),{emptyList:V}=oy(c),_e=_b(N,w),ne=WI(i,P,a),De=xb(k,!0);let q=Sb(E);g.useImperativeHandle(n,()=>({scrollIntoView:De}),[De]);function re(R,L){const z=l.text(R),se=H.includes(R),he=P.includes(R);return I.createElement(m,{dataItem:R,key:`item_${L}`,searchTerm:y,onSelect:ne,disabled:se,selected:he},f?f({item:R,searchTerm:y,index:L,text:z,value:l.value(R),disabled:se}):z)}const ae=C?C.map(([R,L],z)=>I.createElement("div",{role:"group",key:`group_${z}`},I.createElement(zI,null,d?d({group:R}):R),L.map(re))):s.map(re),Pe=Object.assign({id:T,tabIndex:0,ref:_e},q,{"aria-multiselectable":!!i,className:ge(u,"rw-list"),role:(r=q.role)!=null?r:"listbox",children:I.Children.count(ae)?ae:I.createElement("div",{className:"rw-list-empty"},V())});return p?p(Pe):I.createElement("div",Pe)});So.displayName="List";So.propTypes=Cb;function Pb(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function KI(e){return"window"in e&&e.window===e?e:Pb(e)&&e.defaultView||!1}function Rb(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function HI(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function n(r,i){var s=KI(r);if(i===void 0)return s?s[e]:r[t];s?s.scrollTo(s[e],i):r[t]=i}return n}const Ab=HI("pageXOffset"),kb=HI("pageYOffset");function Db(e){var t=ly(e),n={top:0,left:0,height:0,width:0},r=t&&t.documentElement;return!r||!Rb(r,e)||(e.getBoundingClientRect!==void 0&&(n=e.getBoundingClientRect()),n={top:n.top+kb(r)-(r.clientTop||0),left:n.left+Ab(r)-(r.clientLeft||0),width:n.width,height:n.height}),n}function Nb(e,t){var n=KI(e);return n?n.innerHeight:t?e.clientHeight:Db(e).height}const n0={disabled:!1},qI=I.createContext(null);var Ob=function(t){return t.scrollTop},Go="unmounted",Mr="exited",$r="entering",ys="entered",hc="exiting",kr=function(e){_2(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Mr,s.appearStatus=$r):l=ys:r.unmountOnExit||r.mountOnEnter?l=Go:l=Mr,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Go?{status:Mr}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==$r&&o!==ys&&(s=$r):(o===$r||o===ys)&&(s=hc)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===$r){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:zl.findDOMNode(this);o&&Ob(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Mr&&this.setState({status:Go})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[zl.findDOMNode(this),a],u=l[0],c=l[1],h=this.getTimeouts(),f=a?h.appear:h.enter;if(!i&&!o||n0.disabled){this.safeSetState({status:ys},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:$r},function(){s.props.onEntering(u,c),s.onTransitionEnd(f,function(){s.safeSetState({status:ys},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:zl.findDOMNode(this);if(!s||n0.disabled){this.safeSetState({status:Mr},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:hc},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Mr},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:zl.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Go)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=uI(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return I.createElement(qI.Provider,{value:null},typeof o=="function"?o(i,a):I.cloneElement(I.Children.only(o),a))},t}(I.Component);kr.contextType=qI;kr.propTypes={};function ds(){}kr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ds,onEntering:ds,onEntered:ds,onExit:ds,onExiting:ds,onExited:ds};kr.UNMOUNTED=Go;kr.EXITED=Mr;kr.ENTERING=$r;kr.ENTERED=ys;kr.EXITING=hc;const Vb=kr,bb=["children","className","dropUp"];function dc(){return dc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dc.apply(this,arguments)}function Lb(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const Mb={[$r]:"rw-slide-transition-entering",[hc]:"rw-slide-transition-exiting",[Mr]:"rw-slide-transition-exited"};class QI extends I.Component{constructor(...t){super(...t),this.setContainerHeight=n=>{n.style.height=this.getHeight(n)+"px"},this.clearContainerHeight=n=>{n.style.height=""},this.handleEntered=n=>{this.clearContainerHeight(n),this.props.onEntered&&this.props.onEntered()},this.handleEntering=()=>{this.props.onEntering&&this.props.onEntering()},this.handleExit=n=>{this.setContainerHeight(n),this.props.onExit&&this.props.onExit()},this.handleExited=n=>{this.clearContainerHeight(n),this.props.onExited&&this.props.onExited()},this.handleTransitionEnd=(n,r)=>{LI(n.firstChild,r)}}getHeight(t){let n=t.firstChild,r=parseInt(_p(n,"margin-top"),10)+parseInt(_p(n,"margin-bottom"),10),i=t.style.display,s;return t.style.display="block",s=(Nb(n)||0)+(isNaN(r)?0:r),t.style.display=i,s}render(){const t=this.props,{children:n,className:r,dropUp:i}=t,s=Lb(t,bb);return I.createElement(Vb,dc({},s,{appear:!0,in:this.props.in,onEnter:this.setContainerHeight,onEntering:this.handleEntering,onEntered:this.handleEntered,onExit:this.handleExit,onExited:this.handleExited,addEndListener:this.handleTransitionEnd,timeout:void 0}),(o,a)=>I.createElement("div",dc({},a,{className:ge(r,i&&"rw-dropup",Mb[o])}),I.cloneElement(n,{className:ge("rw-slide-transition",n.props.className)})))}}QI.propTypes={in:_.bool.isRequired,innerClassName:_.string,dropUp:_.bool,onExit:_.func,onExited:_.func,onEntering:_.func,onEntered:_.func};const $b=["id","role","dropUp","className","children","open","transition"];function Dp(){return Dp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dp.apply(this,arguments)}function Fb(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const jb=I.memo(({children:e})=>e,(e,{shouldUpdate:t})=>!t),Sl=I.forwardRef((e,t)=>{let{id:n,role:r,dropUp:i,className:s,children:o,open:a=!1,transition:l=QI}=e,u=Fb(e,$b);const c=l;return I.createElement(c,Dp({},u,{in:a,dropUp:i,timeout:void 0,className:ge("rw-popup-container",s)}),I.createElement("div",{id:n,className:"rw-popup",ref:t,role:r},I.createElement(jb,{shouldUpdate:a},o)))});Sl.displayName="Popup";const Ub=["className"];function Np(){return Np=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Np.apply(this,arguments)}function zb(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function GI(e){let{className:t}=e,n=zb(e,Ub);return I.createElement(iy,Np({},n,{className:ge(t,"rw-input-addon rw-picker-btn")}))}const Bb=["className"];function Op(){return Op=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Op.apply(this,arguments)}function Wb(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function $f(e){let{className:t}=e,n=Wb(e,Bb);return I.createElement("div",Op({},n,{className:ge(t,"rw-widget-picker","rw-widget-container")}))}const Vp=(e,t)=>{e&&(e.removeAttribute("aria-activedescendant"),t&&e.setAttribute("aria-activedescendant",t))},YI=(e,t,n,r)=>{g.useEffect(()=>{Vp(e.current,n?t:"")},[e,t,n,...r])},co=(e,t)=>typeof t=="function"?t(e):e==null?e:typeof t=="string"&&typeof e=="object"&&t in e?e[t]:e,XI=(e,t)=>{const n=co(e,t);return n==null?"":String(n)};function Kb(e,t,n){return co(e,n)===co(t,n)}function bp(e,t,n){const r=co(t,n);let i=-1;for(;++i<e.length;){const s=e[i];if(s===t||co(s,n)===r)return i}return-1}function Hb(e,t,n){const r=bp(e,t,n);return r!==-1?e[r]:t}const Ff=(e,t)=>g.useMemo(()=>({text:n=>XI(n,e),value:n=>co(n,t),indexOf:(n,r)=>bp(n,r,t),matches:(n,r)=>Kb(n,r,t),findOrSelf:(n,r)=>Hb(n,r,t),includes:(n,r)=>bp(n,r,t)!==-1}),[e,t]),JI={eq:(e,t)=>e===t,contains:(e,t)=>e.indexOf(t)!==-1,startsWith:(e,t)=>e.lastIndexOf(t,0)===0};function qb(e,t){if(e===!1)return null;if(typeof e=="function")return e;const n=JI[e===!0?"startsWith":e||"eq"];return(r,i)=>{let s=XI(r,t);return n(s.toLowerCase(),i.toLowerCase())}}function fy(e,t,n="",r){return g.useMemo(()=>{const i=qb(t,r);return!i||!n.trim()?e:e.filter((s,o)=>i(s,n,o))},[e,t,n,r])}function jf(e,t){function n(){e||Ke(t,[!0])}function r(){e&&Ke(t,[!1])}function i(){e?r():n()}return i.open=n,i.close=r,i}const Qb=["id","className","containerClassName","placeholder","autoFocus","textField","dataKey","autoSelectMatches","focusFirstItem","value","defaultValue","onChange","open","defaultOpen","onToggle","filter","busy","disabled","readOnly","selectIcon","hideCaret","hideEmptyPopup","busySpinner","dropUp","tabIndex","popupTransition","name","onSelect","onKeyDown","onBlur","onFocus","inputProps","listProps","popupProps","groupBy","renderListItem","renderListGroup","optionComponent","listComponent","popupComponent","data","messages"];function Ds(){return Ds=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ds.apply(this,arguments)}function Gb(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Yb(e,t,n){if(!t.trim())return-1;for(let r=0;r<e.length;r++)if(n(e[r]).toLowerCase()===t)return r;return-1}let Xb={value:ie.any,onChange:ie.func,open:ie.bool,onToggle:ie.func,renderListItem:ie.func,listComponent:ie.elementType,renderListGroup:ie.func,groupBy:Tn,data:ie.array,dataKey:Tn,textField:Tn,name:ie.string,hideEmptyPopup:ie.bool,hideCaret:ie.bool,onSelect:ie.func,autoFocus:ie.bool,disabled:cn.acceptsArray,readOnly:cn,busy:ie.bool,selectIcon:ie.node,busySpinner:ie.node,dropUp:ie.bool,popupTransition:ie.elementType,placeholder:ie.string,containerClassName:ie.string,inputProps:ie.object,listProps:ie.object,messages:ie.shape({openCombobox:nn,emptyList:nn,emptyFilter:nn})};const hy=g.forwardRef(function(t,n){let{id:r,className:i,containerClassName:s,placeholder:o,autoFocus:a,textField:l,dataKey:u,autoSelectMatches:c,focusFirstItem:h=!1,value:f,defaultValue:d="",onChange:y,open:v,defaultOpen:w=!1,onToggle:m,filter:p=!0,busy:E,disabled:T,readOnly:P,selectIcon:C=Vf,hideCaret:k,hideEmptyPopup:N,busySpinner:H,dropUp:V,tabIndex:_e,popupTransition:ne,name:De,onSelect:q,onKeyDown:re,onBlur:ae,onFocus:Pe,inputProps:R,listProps:L,popupProps:z,groupBy:se,renderListItem:he,renderListGroup:rt,optionComponent:ct,listComponent:Bt=So,popupComponent:je=Sl,data:Ue=[],messages:fn}=t,F=Gb(t,Qb),[J,te]=wn(f,d,y);const[le,Te]=wn(v,w,m),Ie=g.useRef(null),qe=g.useRef(null),ke=g.useRef(null),[Je,Wt]=g.useState(null),Q=g.useRef(!1),Jn=Pt(r,"_input"),M=Pt(r,"_listbox"),ye=Pt(r,"_listbox_active_option"),oe=Ff(l,u),Re=oy(fn),ft=jf(le,Te),hn=T===!0,tt=!!P,Kt=fy(Ue,p,Q.current?oe.text(J):void 0,oe.text),ht=g.useMemo(()=>Kt[oe.indexOf(Kt,J)],[Kt,J,oe]),j=Za({activeId:ye,scope:Ie,focusFirstItem:h,anchorItem:le?ht:void 0}),[Ne,Oe]=vi(Ie,{disabled:hn,onBlur:ae,onFocus:Pe},{didHandle(ue){ue?ze({preventScroll:!0}):(Q.current=!1,ft.close(),Wt(null),j.focus(void 0))}});YI(Ie,ye,le,[j.getFocused()]);const Ht=ue=>{P||hn||(ue.preventDefault(),ze(),ft())},dn=(ue,We)=>{ft.close(),Q.current=!1,Wt(null),Ke(q,[ue,{originalEvent:We}]),tn(ue,We,!0),ze({preventScroll:!0})},Fn=({key:ue})=>{(ue==="Backspace"||ue==="Delete")&&j.focus(null)},Rn=ue=>{let We=c?Yb(Ue,ue.target.value.toLowerCase(),oe.text):-1;Q.current=!0,Wt(null);const Zn=We===-1?ue.target.value:Ue[We];tn(Zn,ue),Zn?ft.open():ft.close()},as=ue=>{if(P)return;let{key:We,altKey:Zn,shiftKey:us}=ue;if(Ke(re,[ue]),ue.defaultPrevented)return;const wi=pn=>pn!=null&&dn(pn,ue),qt=pn=>{pn&&(Wt(j.toDataItem(pn)),j.focus(pn))};if(We==="End"&&le&&!us)ue.preventDefault(),qt(j.last());else if(We==="Home"&&le&&!us)ue.preventDefault(),qt(j.first());else if(We==="Escape"&&le)ue.preventDefault(),Wt(null),ft.close();else if(We==="Enter"&&le)ue.preventDefault(),wi(j.getFocused());else if(We==="ArrowDown")if(ue.preventDefault(),le)qt(j.next());else return ft.open();else if(We==="ArrowUp"){if(ue.preventDefault(),Zn)return ft.close();le&&qt(j.prev())}};function ze(ue){qe.current&&qe.current.focus(ue)}function tn(ue,We,Zn=!1){te(ue,{lastValue:J,originalEvent:We,source:Zn?"listbox":"input"})}g.useImperativeHandle(n,()=>({focus:ze}));let ls=Mf(Oe,le),_i=oe.findOrSelf(Kt,J),yt=oe.text(Je||_i),Be=p?"list":"none",jn=le&&(!N||!!Kt.length),Ei=(R==null?void 0:R.readOnly)!=null?R==null?void 0:R.readOnly:P,Dr=!1;return k?E&&(Dr=g.createElement("span",{"aria-hidden":"true",className:"rw-btn rw-picker-caret"},H||ry)):Dr=g.createElement(GI,{busy:E,icon:C,spinner:H,onClick:Ht,disabled:!!hn||tt,label:Re.openCombobox()}),g.createElement(os,Ds({},F,{ref:Ie,open:le,dropUp:V,focused:Oe,disabled:hn,readOnly:tt},Ne,{onKeyDown:as,className:ge(i,"rw-combobox")}),g.createElement($f,{className:ge(s,k&&"rw-widget-input",k&&!E&&"rw-hide-caret")},g.createElement(Il,Ds({},R,{role:"combobox",name:De,id:Jn,className:ge(R&&R.className,"rw-combobox-input",!k&&"rw-widget-input"),autoFocus:a,tabIndex:_e,disabled:hn,readOnly:Ei,"aria-busy":!!E,"aria-owns":M,"aria-autocomplete":Be,"aria-expanded":le,"aria-haspopup":!0,placeholder:o,value:yt,onChange:Rn,onKeyDown:Fn,ref:qe})),Dr),g.createElement(uo.Provider,{value:j.context},ls&&g.createElement(je,Ds({},z,{dropUp:V,open:jn,transition:ne,onEntering:()=>ke.current.scrollIntoView()}),g.createElement(Bt,Ds({},L,{id:M,tabIndex:-1,data:Kt,groupBy:se,disabled:T,accessors:oe,renderItem:he,renderGroup:rt,optionComponent:ct,value:ht,searchTerm:_i&&oe.text(_i)||"","aria-hidden":!jn,"aria-labelledby":Jn,"aria-live":jn?"polite":void 0,onChange:(ue,We)=>dn(ue,We.originalEvent),ref:ke,messages:{emptyList:Ue.length?Re.emptyFilter:Re.emptyList}})))))});hy.displayName="Combobox";hy.propTypes=Xb;const Jb=["value","formatter","editing","editFormat","displayFormat","localizer","parse","onChange","onBlur","disabled","readOnly"];function Lp(){return Lp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lp.apply(this,arguments)}function Zb(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const ZI=I.forwardRef((e,t)=>{let{value:n,formatter:r,editing:i,editFormat:s,displayFormat:o,localizer:a,parse:l,onChange:u,onBlur:c,disabled:h,readOnly:f}=e,d=Zb(e,Jb);const y=g.useRef(!1),v=g.useMemo(()=>n instanceof Date&&e4(n)?a.formatDate(n,r,i?s:o):"",[n,r,a,o,i,s]),[w,m]=g.useState(v),[p,E]=g.useState(v);w!==v&&(m(v),E(v));const T=C=>{if(c&&c(C),y.current){let k=l(C.target.value);C.target.value!=""&&Qo(k)&&E(""),y.current=!1,m(null),u(k,C.target.value)}},P=({target:C})=>{y.current=!0,E(C.value)};return I.createElement(Il,Lp({},d,{type:"text",ref:t,className:"rw-widget-input",value:p,disabled:h,readOnly:f,onChange:P,onBlur:T}))});ZI.displayName="DatePickerInput";function e4(e){return!isNaN(e.getTime())}const t4=["value","valueText","pad","placeholder","min","max","emptyChar"];function Mp(){return Mp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mp.apply(this,arguments)}function n4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const r4=(e,t,n)=>{let r=String(e??"");for(;r.length<t;)r=n+r;return r},Zl=I.forwardRef((e,t)=>{let{value:n,valueText:r=String(n??""),pad:i,placeholder:s,min:o,max:a,emptyChar:l}=e,u=n4(e,t4);return I.createElement("input",Mp({},u,{ref:t,"data-focusable":!0,autoComplete:"off",role:"spinbutton","aria-valuenow":n??void 0,"aria-valuemin":o,"aria-valuemax":a,"aria-valuetext":r,"aria-disabled":u.disabled||u.readOnly,"arai-placeholder":s,placeholder:s,className:"rw-time-part-input",value:s&&!n?"":r4(n,i||0,n==null?l:"0")}))}),i4=["value","use12HourClock","padValues","emptyCharacter","precision","noClearButton","hoursAddon","minutesAddon","secondsAddon","millisecondsAddon","className","disabled","readOnly","datePart","onChange","onBlur","onFocus"];function $p(){return $p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$p.apply(this,arguments)}function s4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const o4=e=>{if(e instanceof HTMLInputElement)return e.select();const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n&&(n.removeAllRanges(),n.addRange(t))},r0=(e,t)=>e.hours==null&&e.minutes==null&&(t!="seconds"&&t!=="milliseconds"||e.seconds==null)&&(t!=="milliseconds"||e.milliseconds==null),a4=(e,t)=>e.hours==null||e.minutes==null||(t==="seconds"||t==="milliseconds")&&e.seconds==null||t==="milliseconds"&&e.milliseconds==null,Fp=(e,t)=>{let n,r,i,s,o="AM";return e&&(n=e.getHours(),t&&(o=n<12?"AM":"PM",n=n%12||12),r=e.getMinutes(),i=e.getSeconds(),s=e.getMilliseconds()),{hours:n,minutes:r,seconds:i,milliseconds:s,meridiem:o}},l4={hours:/^([1]?[0-9]|2[0-3])$/,hours12:/^(1[0-2]|0?[1-9])$/,minutes:/^([0-5]?\d)$/,seconds:/^([0-5]?\d)$/,milliseconds:/^(\d{1,3})$/},u4={hours:/^([3-9]|\d{2})$/,hours12:/^(\d{2}|[2-9])$/,minutes:/^(d{2}|[6-9])$/,seconds:/^(d{2}|[6-9])$/,milliseconds:/^(\d{3})$/};function eS(e,t,n,r){return r[t==="hours"&&n?"hours12":t].test(e)}const bh=(e,t,n)=>eS(e,t,n,l4),c4=(e,t,n)=>eS(e,t,n,u4),f4={value:_.instanceOf(Date),onChange:_.func,datePart:_.instanceOf(Date),use12HourClock:_.bool,padValues:_.bool,emptyCharacter:_.string,noClearButton:_.bool,disabled:_.bool,readOnly:_.bool,precision:_.oneOf(["minutes","seconds","milliseconds"]).isRequired,hoursAddon:_.node,minutesAddon:_.node,secondsAddon:_.node,millisecondsAddon:_.node},h4={hoursAddon:":",padValues:!0,precision:"minutes",emptyCharacter:"-"};function d4(e,t){const[n,r]=g.useState(()=>({value:e,use12HourClock:t,timeParts:Fp(e,t)})),i=g.useCallback(s=>r(o=>Object.assign({},o,{timeParts:s})),[r]);return(n.value!==e||n.use12HourClock!==t)&&r({value:e,use12HourClock:t,timeParts:Fp(e,t)}),[n.timeParts,i]}function dy(e){const t=wI(e,{value:"onChange"}),{value:n,use12HourClock:r,padValues:i,emptyCharacter:s,precision:o,noClearButton:a,hoursAddon:l,minutesAddon:u,secondsAddon:c,millisecondsAddon:h,className:f,disabled:d,readOnly:y,datePart:v,onChange:w,onBlur:m,onFocus:p}=t,E=s4(t,i4);let T=u!==void 0?u:o==="seconds"||o==="milliseconds"?":":"",P=c!==void 0?c:o==="milliseconds"?":":"";const C=g.useRef(null),k=g.useRef(null),[N,H]=vi(C,{disabled:d,onBlur:m,onFocus:p},{didHandle:(F,J)=>{var te;F&&(J.target.dataset.focusable?re(J.target):(te=k.current)==null||te.focus())}}),[V,_e]=d4(n??null,r??!1);function ne(){return B.startOf(v||new Date,"day")}const De=F=>F==="hours"?1:0,q=F=>F==="hours"?r?12:23:F==="milliseconds"?999:59;function re(F=document.activeElement){window.Promise.resolve().then(()=>{H&&o4(F)})}const ae=()=>{var F;(F=k.current)==null||F.focus(),n?w(null):_e(Fp(null))},Pe=(F,J)=>{const te=V[F],{target:le}=J,Te=le.value;let Ie=`${te||""}${Te}`,qe=+Ie;if(isNaN(qe)||Ie&&!bh(Ie,F,r??!1))if(bh(Te,F,r??!1)&&!isNaN(+Te))Ie=Te,qe=+Te;else return J.preventDefault();const ke=le.value?qe:null;se({[F]:ke}),ke!=null&&c4(Ie,F,r??!1)?he(J.currentTarget,1):re(le)},R=({target:F})=>{re(F)},L=(F,J)=>{const{key:te}=J,le=J.currentTarget,{selectionStart:Te,selectionEnd:Ie}=le,qe=getComputedStyle(le).getPropertyValue("direction")==="rtl",ke=F==="meridiem",Je=te===(qe?"ArrowLeft":"ArrowRight"),Wt=te===(qe?"ArrowRight":"ArrowLeft");te==="ArrowUp"&&(J.preventDefault(),z(F,1)),te==="ArrowDown"&&(J.preventDefault(),z(F,-1)),Wt&&(ke||Te-1<0)&&(J.preventDefault(),he(le,-1)),Je&&(ke||le.value.length<=Ie+1)&&(J.preventDefault(),he(le,1)),y&&te!=="Tab"&&J.preventDefault(),ke&&((te==="a"||te==="A")&&se({meridiem:"AM"}),(te==="p"||te==="P")&&se({meridiem:"PM"}))},z=(F,J)=>{let te=V[F];if(F==="meridiem")te=te==="AM"?"PM":"AM";else if(te=(te||0)+J,!bh(String(te),F,r??!1))return;se({[F]:te}),re()};function se(F){const J=Object.assign({},V,F);if(n&&r0(J,o))return w(null);if(a4(J,o))return _e(J);let{hours:te,minutes:le,seconds:Te,milliseconds:Ie,meridiem:qe}=J,ke=new Date(n||ne());r&&(te===12&&(te=0),te+=qe==="PM"?12:0),ke.setHours(te),ke.setMinutes(le),Te!=null&&ke.setSeconds(Te),Ie!=null&&ke.setMilliseconds(Ie),w(ke,{lastValue:n,timeParts:V})}function he(F,J){let te=jI(C.current,"* [data-focusable]"),le=te[te.indexOf(F)+J];le==null||le.focus(),re(le)}const{hours:rt,minutes:ct,seconds:Bt,milliseconds:je,meridiem:Ue}=V,fn=!r0(V,o);return I.createElement(os,$p({},E,{role:"group",ref:C},N,{focused:H,disabled:d,readOnly:y,className:ge(f,"rw-time-input rw-widget-input")}),I.createElement(Zl,{size:2,pad:i?2:void 0,value:rt,disabled:d,readOnly:y,"aria-label":"hours",min:De("hours"),max:q("hours"),ref:k,emptyChar:s,onSelect:R,onChange:F=>Pe("hours",F),onKeyDown:F=>L("hours",F)}),l&&I.createElement("span",null,l),I.createElement(Zl,{size:2,pad:i?2:void 0,value:ct,disabled:d,readOnly:y,"aria-label":"minutes",min:De("minutes"),max:q("minutes"),emptyChar:s,onSelect:R,onChange:F=>Pe("minutes",F),onKeyDown:F=>L("minutes",F)}),T&&I.createElement("span",null,T),(o==="seconds"||o==="milliseconds")&&I.createElement(I.Fragment,null,I.createElement(Zl,{size:2,pad:i?2:void 0,value:Bt,disabled:d,readOnly:y,"aria-label":"seconds",min:De("seconds"),max:q("seconds"),emptyChar:s,onSelect:R,onChange:F=>Pe("seconds",F),onKeyDown:F=>L("seconds",F)}),P&&I.createElement("span",null,P)),o==="milliseconds"&&I.createElement(I.Fragment,null,I.createElement(Zl,{size:3,pad:i?3:void 0,value:je,disabled:d,readOnly:y,"aria-label":"milliseconds",min:De("milliseconds"),max:q("milliseconds"),emptyChar:s,onSelect:R,onChange:F=>Pe("milliseconds",F),onKeyDown:F=>L("milliseconds",F)}),h&&I.createElement("span",null,h)),r&&I.createElement("div",{role:"listbox","aria-label":"AM/PM","aria-disabled":d,"aria-readonly":y,className:"rw-time-part-meridiem"},I.createElement("div",{"data-focusable":!0,role:"option","aria-atomic":!0,"aria-selected":!0,"aria-setsize":2,"aria-live":"assertive","aria-disabled":d,"aria-readonly":y,"aria-posinset":Ue==="AM"?1:2,tabIndex:d?void 0:0,onFocus:R,onSelect:R,onKeyDown:F=>L("meridiem",F)},I.createElement("abbr",null,Ue))),!a&&I.createElement(iy,{label:"clear input",onClick:ae,disabled:d||y,className:ge("rw-time-input-clear",fn&&"rw-show")},TI))}dy.propTypes=f4;dy.defaultProps=h4;const p4=["input","textarea","select",'button:not([tabindex="-1"])','[tabindex="0"]'].join(","),m4=()=>document;function g4(e,t=p4){const n=g.useRef(!1);return MI(m4,"keydown",r=>{if(!n.current||!e.current||r.key!=="Tab")return;const i=e.current.querySelectorAll(t);r.shiftKey&&r.target===i[0]?(i[i.length-1].focus(),r.preventDefault()):(!r.shiftKey&&r.target===i[i.length-1]||!e.current.contains(r.target))&&(i[0].focus(),r.preventDefault())}),g.useMemo(()=>({focus(){const i=e.current.querySelectorAll(t)[0];i&&i.focus()},start(){n.current=!0},stop(){n.current=!1}}),[e,t])}const y4=["id","value","onChange","onSelect","onToggle","onKeyDown","onKeyPress","onCurrentDateChange","inputProps","calendarProps","timeInputProps","popupProps","autoFocus","tabIndex","disabled","readOnly","className","valueFormat","valueDisplayFormat","valueEditFormat","containerClassName","name","selectIcon","placeholder","includeTime","min","max","open","dropUp","parse","messages","formats","currentDate","popupTransition","popupComponent","timePrecision","aria-labelledby","aria-describedby"];function xi(){return xi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xi.apply(this,arguments)}function v4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}let _4={value:_.instanceOf(Date),onChange:_.func,open:_.bool,onToggle:_.func,currentDate:_.instanceOf(Date),onCurrentDateChange:_.func,onSelect:_.func,min:_.instanceOf(Date),max:_.instanceOf(Date),valueFormat:_.any,valueDisplayFormat:_.any,valueEditFormat:_.any,includeTime:_.bool,timePrecision:_.oneOf(["minutes","seconds","milliseconds"]),timeInputProps:_.object,selectIcon:_.node,dropUp:_.bool,popupTransition:_.elementType,placeholder:_.string,name:_.string,autoFocus:_.bool,disabled:_.bool,readOnly:_.bool,parse:_.oneOfType([_.any,_.func]),tabIndex:_.any,"aria-labelledby":_.string,"aria-describedby":_.string,localizer:_.any,onKeyDown:_.func,onKeyPress:_.func,onBlur:_.func,onFocus:_.func,containerClassName:_.string,calendarProps:_.object,inputProps:_.object,messages:_.shape({dateButton:_.string})};const E4=Object.assign({},ci.defaultProps,{min:new Date(1900,0,1),max:new Date(2099,11,31),selectIcon:T2,formats:{}}),py=I.forwardRef((e,t)=>{const n=wI(e,{open:"onToggle",value:"onChange",currentDate:"onCurrentDateChange"}),{id:r,value:i,onChange:s,onSelect:o,onToggle:a,onKeyDown:l,onKeyPress:u,onCurrentDateChange:c,inputProps:h,calendarProps:f,timeInputProps:d,popupProps:y,autoFocus:v,tabIndex:w,disabled:m,readOnly:p,className:E,valueFormat:T,valueDisplayFormat:P=T,valueEditFormat:C=T,containerClassName:k,name:N,selectIcon:H,placeholder:V,includeTime:_e=!1,min:ne,max:De,open:q,dropUp:re,parse:ae,messages:Pe,formats:R,currentDate:L,popupTransition:z,popupComponent:se=Sl,timePrecision:he,"aria-labelledby":rt,"aria-describedby":ct}=n,Bt=v4(n,y4),je=ay(Pe,R),Ue=g.useRef(null),fn=g.useRef(null),F=g4(fn),J=Pt(r,"_input"),te=Pt(r,"_date"),le=_e?"datetime":"date",Te=jf(q,a),[Ie,qe]=vi(Ue,e,{didHandle(j){j?q&&F.focus():(Te.close(),F.stop())}}),ke=g.useCallback(j=>{var Ne,Oe;if(typeof ae=="function"){var Ht;return(Ht=ae(j,je))!=null?Ht:null}return(Ne=je.parseDate(j,(Oe=ae??C)!=null?Oe:P))!=null?Ne:null},[je,ae,P,C]),Je=gn((j,Ne,Oe)=>{p||m||(Oe&&(j=hn(j)),s&&(j==null||i==null?j!=i&&s(j,Ne):B.eq(j,i)||s(j,Ne)))}),Wt=gn(j=>{p||(Ke(l,[j]),!j.defaultPrevented&&(j.key==="Escape"&&q?Te.close():j.altKey&&(j.key==="ArrowDown"?(j.preventDefault(),Te.open()):j.key==="ArrowUp"&&(j.preventDefault(),Te.close()))))}),Q=gn(j=>{Ke(u,[j]),j.defaultPrevented}),Jn=gn(j=>{var Ne;let Oe=B.merge(j,i,L),Ht=tt(j);_e||Te.close(),Ke(o,[Oe,Ht]),Je(Oe,Ht,!0),(Ne=Ue.current)==null||Ne.focus()}),M=gn(j=>{Je(j,tt(j),!0)}),ye=gn(j=>{p||m||(j.preventDefault(),Te())}),oe=()=>{F.start(),requestAnimationFrame(()=>{F.focus()})},Re=()=>{F.stop(),qe&&ft()};function ft(){var j,Ne;q?(j=fn.current)==null||j.focus():(Ne=Ue.current)==null||Ne.focus()}function hn(j){return j==null?j:B.max(B.min(j,De),ne)}function tt(j){return j instanceof Date&&!isNaN(j.getTime())?je.formatDate(j,le):""}g.useImperativeHandle(t,()=>({focus:ft}));let Kt=Mf(qe,q);const ht=(h==null?void 0:h.readOnly)!=null?h==null?void 0:h.readOnly:p;return I.createElement(os,xi({},Bt,{defaultValue:void 0,open:!!q,dropUp:re,focused:qe,disabled:m,readOnly:p,onKeyDown:Wt,onKeyPress:Q},Ie,{className:ge(E,"rw-date-picker")}),I.createElement($f,{className:k},I.createElement(ZI,xi({},h,{id:J,ref:Ue,role:"combobox",name:N,value:i,tabIndex:w,autoFocus:v,placeholder:V,disabled:m,readOnly:ht,formatter:le,displayFormat:P,editFormat:C,editing:qe,localizer:je,parse:ke,onChange:Je,"aria-haspopup":!0,"aria-labelledby":rt,"aria-describedby":ct,"aria-expanded":!!q,"aria-owns":te})),I.createElement(GI,{icon:H,label:je.messages.dateButton(),disabled:m||p,onClick:ye})),!!Kt&&I.createElement(se,xi({},y,{dropUp:re,open:q,role:"dialog",ref:fn,id:te,className:"rw-calendar-popup",transition:z,onEntering:oe,onExited:Re}),I.createElement(ci,xi({min:ne,max:De,bordered:!1},f,{messages:Object.assign({},Pe,f==null?void 0:f.messages),tabIndex:-1,value:i,autoFocus:!1,onChange:Jn,currentDate:L,onCurrentDateChange:c,"aria-hidden":!q,"aria-live":"polite","aria-labelledby":J})),_e&&I.createElement(dy,xi({},d,{value:i,precision:he,onChange:M,datePart:L}))))});py.displayName="DatePicker";py.propTypes=_4;py.defaultProps=E4;const jp=2**31-1;function tS(e,t,n){const r=n-Date.now();e.current=r<=jp?setTimeout(t,r):setTimeout(()=>tS(e,t,n),jp)}function w4(){const e=bf(),t=g.useRef();return BI(()=>clearTimeout(t.current)),g.useMemo(()=>{const n=()=>clearTimeout(t.current);function r(i,s=0){e()&&(n(),s<=jp?t.current=setTimeout(i,s):tS(t,i,Date.now()+s))}return{set:r,clear:n,handleRef:t}},[])}const T4=["children"];function Up(){return Up=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Up.apply(this,arguments)}function I4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const my={},S4={searchTerm:ie.string,focused:ie.bool,onSelect:ie.func.isRequired,activeId:ie.string};function gy(e){let{children:t}=e,n=I4(e,T4);return I.createElement(cy,Up({},n,{dataItem:my,className:"rw-list-option-create",selected:!1}),t)}gy.propTypes=S4;const nS=I.forwardRef(function({name:e,autoComplete:t,value:n,allowSearch:r,placeholder:i,textAccessor:s,dataKeyAccessor:o,searchTerm:a,onSearch:l,onAutofill:u,onAutofillChange:c,renderValue:h,disabled:f,readOnly:d},y){const[v,w]=g.useState(!1),m=g.useRef(null),p=({animationName:H})=>{let V;if(H==="react-widgets-autofill-start")V=!0;else if(H==="react-widgets-autofill-cancel")V=!1;else return;w(V),u(V)},E=H=>{w(!1),c(H)};let T=o(n),P=n==null?"":s(n),C=String(T??"");C===String({})&&(C="");const k=!n&&i?I.createElement("span",{className:"rw-placeholder"},i):h?h({item:n,dataKey:T,text:P}):P;g.useImperativeHandle(y,()=>({focus(){m.current&&m.current.focus()}}));const N=v?{display:"none"}:void 0;return I.createElement("div",{className:"rw-dropdown-list-input"},t!=="off"&&I.createElement("input",{name:e,tabIndex:-1,disabled:f,readOnly:d,value:C??"",autoComplete:t,onChange:E,onAnimationStart:p,"aria-hidden":!v,className:ge("rw-detect-autofill",!v&&"rw-sr")}),I.createElement(I.Fragment,null,r&&I.createElement("input",{ref:m,disabled:f,readOnly:d,style:N,className:"rw-dropdownlist-search",autoComplete:"off",value:a||"",size:(a||"").length+2,onChange:l}),!a&&I.createElement("span",{className:"rw-dropdown-list-value",style:N},k)))});nS.displayName="DropdownListInput";function rS(e,{searchTerm:t="",data:n,dataItems:r,accessors:i}){const s=a=>i.text(a).toLowerCase()===t.toLowerCase();return!!((e===!0||e==="onFilter"&&t)&&!(r&&r.some(s)||n.some(s)))}const C4=["className","busy","visible","icon","spinner"];function zp(){return zp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zp.apply(this,arguments)}function x4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const iS=e=>{let{className:t,busy:n,visible:r,icon:i=Vf,spinner:s=ry}=e,o=x4(e,C4);return g.createElement("span",zp({},o,{"aria-hidden":"true",className:ge(t,"rw-btn rw-picker-caret")}),n?s:r?i:null)},P4=["id","autoFocus","textField","dataKey","value","defaultValue","onChange","open","defaultOpen","onToggle","searchTerm","defaultSearchTerm","onSearch","filter","allowCreate","delay","focusFirstItem","className","containerClassName","placeholder","busy","disabled","readOnly","selectIcon","busySpinner","dropUp","tabIndex","popupTransition","name","autoComplete","onSelect","onCreate","onKeyPress","onKeyDown","onClick","inputProps","listProps","popupProps","renderListItem","renderListGroup","optionComponent","renderValue","groupBy","onBlur","onFocus","listComponent","popupComponent","data","messages"];function Ns(){return Ns=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ns.apply(this,arguments)}function R4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const A4={value:_.any,onChange:_.func,open:_.bool,onToggle:_.func,data:_.array,dataKey:Tn,textField:Tn,allowCreate:_.oneOf([!0,!1,"onFilter"]),renderValue:_.func,renderListItem:_.func,listComponent:Vh,optionComponent:Vh,renderPopup:_.func,renderListGroup:_.func,groupBy:Tn,onSelect:_.func,onCreate:_.func,onSearch:_.func,searchTerm:_.string,busy:_.bool,selectIcon:_.node,busySpinner:_.node,placeholder:_.string,dropUp:_.bool,popupTransition:Vh,disabled:cn.acceptsArray,readOnly:cn,containerClassName:_.string,inputProps:_.object,listProps:_.object,messages:_.shape({open:_.string,emptyList:nn,emptyFilter:nn,createOption:nn})};function k4(e){const t=w4(),n=g.useRef("");function r(i,s){let o=(n.current+i).toLowerCase();i&&(n.current=o,t.set(()=>{n.current="",s(o)},e))}return r}const sS=I.forwardRef(function(t,n){let{id:r,autoFocus:i,textField:s,dataKey:o,value:a,defaultValue:l,onChange:u,open:c,defaultOpen:h=!1,onToggle:f,searchTerm:d,defaultSearchTerm:y="",onSearch:v,filter:w=!0,allowCreate:m=!1,delay:p=500,focusFirstItem:E,className:T,containerClassName:P,placeholder:C,busy:k,disabled:N,readOnly:H,selectIcon:V=Vf,busySpinner:_e,dropUp:ne,tabIndex:De,popupTransition:q,name:re,autoComplete:ae,onSelect:Pe,onCreate:R,onKeyPress:L,onKeyDown:z,onClick:se,inputProps:he,listProps:rt,popupProps:ct,renderListItem:Bt,renderListGroup:je,optionComponent:Ue,renderValue:fn,groupBy:F,onBlur:J,onFocus:te,listComponent:le=So,popupComponent:Te=Sl,data:Ie=[],messages:qe}=t,ke=R4(t,P4);const[Je,Wt]=wn(a,l,u),[Q,Jn]=wn(c,h,f),[M,ye]=wn(d,y,v),oe=g.useRef(null),Re=g.useRef(null),ft=g.useRef(null),hn=Pt(r,"_input"),tt=Pt(r,"_listbox"),Kt=Pt(r,"_listbox_active_option"),ht=Ff(s,o),j=ay(qe);FI(!!i,oe);const Ne=jf(Q,Jn),Oe=N===!0,Ht=!!H,[dn,Fn]=vi(oe,{disabled:Oe,onBlur:J,onFocus:te},{didHandle(G){if(G){w&&qt();return}Ne.close(),pn()}}),Rn=fy(Ie,Q?w:!1,M,ht.text),as=g.useMemo(()=>Rn[ht.indexOf(Rn,Je)],[Rn,Je,ht]),ze=Za({activeId:Kt,scope:oe,focusFirstItem:E,anchorItem:Q?as:void 0}),[tn,ls]=g.useState(!1),_i=k4(p),yt=ze.getFocused();YI(oe,Kt,yt&&Q,[yt]);const Be=rS(m,{searchTerm:M,data:Rn,accessors:ht}),jn=G=>{Ke(R,[M]),pn(G),Ne.close(),qt()},Ei=(G,Ee)=>{if(!(H||Oe)&&G!==void 0){if(Ee==null||Ee.preventDefault(),G===my){jn(Ee);return}Ke(Pe,[G,{originalEvent:Ee}]),wi(G,Ee,!0),Ne.close(),qt()}},Dr=G=>{H||Oe||(G.preventDefault(),qt(),Ne(),Ke(se,[G]))},ue=G=>{if(H||Oe)return;let{key:Ee,altKey:dt,ctrlKey:Nr,shiftKey:cs}=G;Ke(z,[G]);let hr=()=>{pn(),Ne.close(),Q&&setTimeout(qt)};if(!G.defaultPrevented){if(Ee==="End"&&Q&&!cs)G.preventDefault(),ze.focus(ze.last());else if(Ee==="Home"&&Q&&!cs)G.preventDefault(),ze.focus(ze.first());else if(Ee==="Escape"&&(Q||M))G.preventDefault(),hr();else if(Ee==="Enter"&&Q&&Nr&&Be)G.preventDefault(),jn(G);else if((Ee==="Enter"||Ee===" "&&!w)&&Q)G.preventDefault(),ze.hasFocused()&&Ei(ze.getFocused(),G);else if(Ee==="ArrowDown"){if(G.preventDefault(),!Q){Ne.open();return}ze.focus(ze.next())}else if(Ee==="ArrowUp"){if(G.preventDefault(),dt)return hr();ze.focus(ze.prev())}}},We=G=>{H||Oe||(Ke(L,[G]),!(G.defaultPrevented||w)&&_i(String.fromCharCode(G.which),Ee=>{if(!Q)return;let dt=Ti=>JI.startsWith(ht.text(Ti).toLowerCase(),Ee.toLowerCase());const[Nr,cs]=ze.get(),hr=Nr.length,W=Nr.indexOf(cs)+1,we=W>=hr?0:W;let Un=0,An=we;for(;Un<hr;){An=(Un+we)%hr;let Ti=Nr[An];if(dt(ze.toDataItem(Ti)))break;Un++}Un!==hr&&ze.focus(Nr[An])}))},Zn=G=>{!Q&&!G.target.value.trim()?G.preventDefault():Co(G.target.value,G,"input"),Ne.open()},us=G=>{let Ee=G.target.value.toLowerCase();if(Ee==="")return void wi(null);for(const dt of Ie)if(String(ht.value(dt)).toLowerCase()===Ee||ht.text(dt).toLowerCase()===Ee){wi(dt,G);break}};function wi(G,Ee,dt=!1){ht.matches(G,Je)||(Ke(Wt,[G,{originalEvent:Ee,source:dt?"listbox":"input",lastValue:Je,searchTerm:M}]),pn(Ee),Ne.close())}function qt(){w?Re.current.focus():oe.current.focus()}function pn(G){Co("",G,"clear")}function Co(G,Ee,dt="input"){M!==G&&ye(G,{action:dt,originalEvent:Ee,lastSearchTerm:M})}g.useImperativeHandle(n,()=>({focus:qt}));let xo=ht.findOrSelf(Rn,Je),Uf=Mf(Fn,Q);const Po=Object.assign({},ke,{role:"combobox",id:hn,tabIndex:w?-1:De||0,"aria-owns":ke["aria-owns"]?`${tt} ${ke["aria-owns"]}`:tt,"aria-controls":ke["aria-controls"]?`${tt} ${ke["aria-controls"]}`:tt,"aria-expanded":!!Q,"aria-haspopup":"listbox","aria-busy":!!k,"aria-live":Q?"polite":void 0,"aria-autocomplete":"list","aria-disabled":Oe,"aria-readonly":Ht});return I.createElement(uo.Provider,{value:ze.context},I.createElement(os,Ns({},Po,{open:!!Q,dropUp:!!ne,focused:!!Fn,disabled:Oe,readOnly:Ht,autofilling:tn},dn,{onKeyDown:ue,onKeyPress:We,className:ge(T,"rw-dropdown-list"),ref:oe}),I.createElement($f,{onClick:Dr,tabIndex:w?-1:0,className:ge(P,"rw-widget-input")},I.createElement(nS,Ns({},he,{value:xo,dataKeyAccessor:ht.value,textAccessor:ht.text,name:re,readOnly:H,disabled:Oe,allowSearch:!!w,searchTerm:M,ref:Re,autoComplete:ae,onSearch:Zn,onAutofill:ls,onAutofillChange:us,placeholder:C,renderValue:fn})),I.createElement(iS,{visible:!0,busy:k,icon:V,spinner:_e})),Uf&&I.createElement(Te,Ns({},ct,{dropUp:ne,open:Q,transition:q,onEntered:qt,onEntering:()=>ft.current.scrollIntoView()}),I.createElement(le,Ns({},rt,{id:tt,data:Rn,tabIndex:-1,disabled:N,groupBy:F,searchTerm:M,accessors:ht,renderItem:Bt,renderGroup:je,optionComponent:Ue,value:as,onChange:(G,Ee)=>Ei(G,Ee.originalEvent),"aria-live":Q?"polite":void 0,"aria-labelledby":hn,"aria-hidden":!Q,ref:ft,messages:{emptyList:Ie.length?j.messages.emptyFilter:j.messages.emptyList}})),Be&&I.createElement(gy,{onSelect:jn},j.messages.createOption(Je,M||"")))))});sS.displayName="DropdownList";sS.propTypes=A4;const D4=["defaultValue","value","onChange","textField","dataKey","data","onKeyDown","disabled","readOnly","onBlur","onFocus","multiple"];function Bp(){return Bp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bp.apply(this,arguments)}function N4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const O4={data:_.array,dataKey:Tn,textField:Tn,onSelect:_.func,onMove:_.func,onHoverOption:_.func,optionComponent:_.elementType,renderItem:_.func,renderGroup:_.func,focusedItem:_.any,selectedItem:_.any,searchTerm:_.string,disabled:cn.acceptsArray,messages:_.shape({emptyList:_.func.isRequired})},oS=I.forwardRef(function(t,n){let{defaultValue:r,value:i,onChange:s,textField:o,dataKey:a,data:l,onKeyDown:u,disabled:c,readOnly:h,onBlur:f,onFocus:d,multiple:y}=t,v=N4(t,D4);const[w,m]=wn(i,r,s),p=Ff(o,a),E=g.useMemo(()=>VI(w,y).map(re=>p.findOrSelf(l,re)),[w,y,p,l]),T=g.useRef(null),P=g.useRef(E[E.length-1]),C=Za({scope:T,anchorItem:P.current}),k=c===!0,N=(re,ae)=>{k||h||(P.current=ae.dataItem,m(re,ae))},H=WI(!!y,E,N),[V,_e]=vi(T,{disabled:k,onBlur:f,onFocus:d},{didHandle(re){re?ne({preventScroll:!0}):C.focus(void 0)}});function ne(re){T.current&&T.current.focus(re)}const De=re=>{if(k||h)return;let{key:ae,shiftKey:Pe}=re;Ke(u,[re]),!re.defaultPrevented&&(ae==="End"&&!Pe?(re.preventDefault(),C.focus(C.last())):ae==="Home"&&!Pe?(re.preventDefault(),C.focus(C.first())):ae==="Enter"||ae===" "?(re.preventDefault(),C.getFocused()&&H(C.getFocused(),re)):ae==="ArrowDown"?(re.preventDefault(),C.focus(C.next())):ae==="ArrowUp"&&(re.preventDefault(),C.focus(C.prev())))},q=$I({focused:_e,readOnly:h,disabled:k,className:ge(v.className,"rw-listbox rw-widget-input rw-widget")});return I.createElement(uo.Provider,{value:C.context},I.createElement(So,Bp({},v,q,{disabled:c,tabIndex:k?-1:0,data:l,elementRef:T,value:E,multiple:y,accessors:p},V,{onChange:N,onKeyDown:De})))});oS.displayName="Listbox";oS.propTypes=O4;function V4(e,t,n){e.closest&&!n&&e.closest(t);var r=e;do{if(OI(r,t))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}const b4=["disabled","readOnly"];function Wp(){return Wp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wp.apply(this,arguments)}function L4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const M4={value:_.string,placeholder:_.string,maxLength:_.number,onChange:_.func.isRequired,disabled:cn,readOnly:cn},yy=I.forwardRef((e,t)=>{let{disabled:n,readOnly:r}=e,i=L4(e,b4),s=Math.max(String(i.value||i.placeholder||"").length,1)+1;return I.createElement("input",Wp({spellCheck:"false",autoCapitalize:"off"},i,{size:s,ref:t,autoComplete:"off",className:"rw-multiselect-input","aria-disabled":n,"aria-readonly":r,disabled:n,readOnly:r}))});yy.displayName="MultiselectInput";yy.propTypes=M4;function $4({className:e,children:t,style:n,label:r,disabled:i,readOnly:s,onRemove:o,clearTagIcon:a,dataItem:l}){const[u,c,h]=UI(l),f=d=>{i||o(l,d)};return I.createElement("div",{ref:u,role:"option",id:h,"data-rw-option":"","data-rw-focusable":i?void 0:"","data-rw-focused":c?"":void 0,className:ge(e,"rw-multiselect-tag",i&&"rw-state-disabled",c&&!i&&"rw-state-focus"),style:n},I.createElement("span",{className:"rw-multiselect-tag-label"},t),I.createElement("button",{type:"button",tabIndex:-1,onClick:f,onTouchEnd:f,disabled:i||s,className:"rw-multiselect-tag-btn","aria-label":r||"Remove item"},a))}function F4({id:e,value:t,textAccessor:n,label:r,disabled:i,readOnly:s,onDelete:o,children:a,clearTagIcon:l,renderTagValue:u,tagOptionComponent:c=$4}){return I.createElement("div",{id:e,role:"listbox","aria-label":r,"aria-multiselectable":"true","aria-orientation":"horizontal",className:"rw-multiselect-taglist"},t.map((h,f)=>{const d=Array.isArray(i)?i.includes(h):!!i;return I.createElement(c,{key:f,dataItem:h,onRemove:o,clearTagIcon:l,disabled:d,readOnly:s},u?u({item:h}):n(h))}),a)}const j4=["dataKey","textField","autoFocus","id","value","defaultValue","onChange","open","defaultOpen","onToggle","focusFirstItem","searchTerm","defaultSearchTerm","onSearch","filter","allowCreate","className","containerClassName","placeholder","busy","disabled","readOnly","selectIcon","clearTagIcon","busySpinner","dropUp","tabIndex","popupTransition","showPlaceholderWithValues","showSelectedItemsInList","onSelect","onCreate","onKeyDown","onBlur","onFocus","inputProps","listProps","popupProps","renderListItem","renderListGroup","renderTagValue","optionComponent","tagOptionComponent","groupBy","listComponent","popupComponent","tagListComponent","data","messages"];function Os(){return Os=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Os.apply(this,arguments)}function U4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const z4=13,i0="insert",Lh="remove";let B4={data:_.array,value:_.array,onChange:_.func,searchTerm:_.string,onSearch:_.func,open:_.bool,handleOpen:_.func,dataKey:Tn,textField:Tn,renderTagValue:_.func,renderListItem:_.func,renderListGroup:_.func,groupBy:Tn,allowCreate:_.oneOf([!0,!1,"onFilter"]),onSelect:_.func,onCreate:_.func,busy:_.bool,selectIcon:_.node,clearTagIcon:_.node,busySpinner:_.node,dropUp:_.bool,popupTransition:_.elementType,containerClassName:_.string,inputProps:_.object,listProps:_.object,autoFocus:_.bool,placeholder:_.string,showPlaceholderWithValues:_.bool,showSelectedItemsInList:_.bool,disabled:cn.acceptsArray,readOnly:cn,messages:_.shape({open:nn,emptyList:nn,emptyFilter:nn,createOption:nn,tagsLabel:nn,selectedItems:nn,noneSelected:nn,removeLabel:nn})};const W4=[];function K4(e=W4,t,n,r,i,s){return t=g.useMemo(()=>s?t:t.filter(o=>!e.some(a=>n.matches(o,a))),[t,s,e,n]),[fy(t,r||!1,i,n.text),t.length]}const aS=I.forwardRef(function(t,n){let{dataKey:r,textField:i,autoFocus:s,id:o,value:a,defaultValue:l=[],onChange:u,open:c,defaultOpen:h=!1,onToggle:f,focusFirstItem:d=!1,searchTerm:y,defaultSearchTerm:v="",onSearch:w,filter:m="startsWith",allowCreate:p=!1,className:E,containerClassName:T,placeholder:P,busy:C,disabled:k,readOnly:N,selectIcon:H,clearTagIcon:V=TI,busySpinner:_e,dropUp:ne,tabIndex:De,popupTransition:q,showPlaceholderWithValues:re=!1,showSelectedItemsInList:ae=!1,onSelect:Pe,onCreate:R,onKeyDown:L,onBlur:z,onFocus:se,inputProps:he,listProps:rt,popupProps:ct,renderListItem:Bt,renderListGroup:je,renderTagValue:Ue,optionComponent:fn,tagOptionComponent:F,groupBy:J,listComponent:te=So,popupComponent:le=Sl,tagListComponent:Te=F4,data:Ie=[],messages:qe}=t,ke=U4(t,j4),[Je,Wt]=wn(a,l,u);const[Q,Jn]=wn(c,h,f),[M,ye]=wn(y,v,w),oe=g.useRef(null),Re=g.useRef(null),ft=g.useRef(null),hn=Pt(o,"_input"),tt=Pt(o,"_taglist"),Kt=Pt(o,"_listbox"),ht=Pt(o,"_createlist_option"),j=Pt(o,"_taglist_active_tag"),Ne=Pt(o,"_listbox_active_option"),Oe=Ff(i,r),Ht=oy(qe),dn=jf(Q,Jn),Fn=k===!0,Rn=!!N,[as,ze]=vi(oe,{disabled:Fn,onBlur:z,onFocus:se},{didHandle(W,we){if(W)return dt();dn.close(),G(we),Be.focus(null)}}),tn=g.useMemo(()=>Je.map(W=>Oe.findOrSelf(Ie,W)),[Ie,Je,Oe]),[ls,_i]=K4(tn,Ie,Oe,Q?m:!1,M,ae),yt=Za({scope:oe,scopeSelector:".rw-popup",focusFirstItem:d,activeId:Ne,anchorItem:Q?tn[tn.length-1]:void 0}),Be=Za({scope:oe,scopeSelector:".rw-multiselect-taglist",activeId:j}),jn=rS(p,{searchTerm:M,data:ls,dataItems:tn,accessors:Oe}),Ei=Be.getFocused();g.useEffect(()=>{Q||Vp(Re.current,Ei?j:"")},[j,Q,Ei]);const Dr=yt.getFocused();g.useEffect(()=>{Q&&Vp(Re.current,Dr?Ne:"")},[Ne,Q,Dr]);const ue=(W,we)=>{Fn||N||Be.size()===0||(dt(),Po(W,we,Lh))},We=g.useRef(!1),Zn=W=>{W.key==="Backspace"&&W.currentTarget.value&&!We.current&&(We.current=!0)},us=W=>{W.key==="Backspace"&&We.current&&(We.current=!1)},wi=W=>{Ee(W.target.value,W,"input"),dn.open()},qt=W=>{Fn||N||(W.preventDefault(),dt(),V4(W.target,".rw-select")&&Q?dn.close():dn.open())},pn=()=>{Fn||!Re.current||(dt(),Re.current&&Re.current.select())},Co=(W,we)=>{if(W!==void 0){if(we.preventDefault(),W===my){xo(we);return}Ke(Pe,[W,{originalEvent:we}]),!ae||!tn.includes(W)?Po(W,we,i0):Po(W,we,Lh),dt()}},xo=W=>{Ke(R,[M]),G(W),dt()},Uf=W=>{if(N){W.preventDefault();return}let{key:we,keyCode:Un,altKey:An,ctrlKey:Ti}=W;if(Ke(L,[W]),!W.defaultPrevented)if(we==="ArrowDown"){if(W.preventDefault(),!Q){dn.open();return}yt.focus(yt.next()),Be.focus(null)}else if(we==="ArrowUp"&&(Q||An)){if(W.preventDefault(),An){dn.close();return}yt.focus(yt.prev()),Be.focus(null)}else if(we==="End")W.preventDefault(),Q?(yt.focus(yt.last()),Be.focus(null)):(Be.focus(Be.last()),yt.focus(null));else if(we==="Home")W.preventDefault(),Q?yt.focus(yt.first()):yt.focus(Be.first());else if(Q&&Un===z4){if(W.preventDefault(),Ti&&jn)return xo(W);Co(yt.getFocused(),W)}else we==="Escape"?Q?dn.close():Be.focus(null):!M&&!We.current&&(we==="ArrowLeft"?Be.focus(Be.prev({behavior:"loop"})):we==="ArrowRight"?Be.focus(Be.next({behavior:"loop"})):we==="Delete"&&Be.getFocused()?ue(Be.getFocused(),W):we==="Backspace"?ue(Be.toDataItem(Be.last()),W):we===" "&&!Q&&(W.preventDefault(),dn.open()))};function Po(W,we,Un){let An=tn;switch(Un){case i0:An=An.concat(W);break;case Lh:An=An.filter(Ti=>Ti!==W);break}Wt(An,{action:Un,dataItem:W,originalEvent:we,searchTerm:M,lastValue:Je}),G(we)}function G(W){Ee("",W,"clear")}function Ee(W,we,Un="input"){W!==M&&ye(W,{action:Un,originalEvent:we,lastSearchTerm:M})}function dt(){Re.current&&Re.current.focus()}g.useImperativeHandle(n,()=>({focus:dt}));let Nr=Mf(ze,Q),cs=!!tn.length,hr=`${Kt} `+(cs?tt:"")+(jn?ht:"");return I.createElement(os,Os({},ke,{ref:oe,open:Q,dropUp:ne,focused:ze,disabled:Fn,readOnly:Rn,onKeyDown:Uf},as,{className:ge(E,"rw-multiselect")}),I.createElement($f,{onClick:qt,onTouchEnd:qt,onDoubleClick:pn,className:ge(T,"rw-widget-input")},I.createElement(uo.Provider,{value:Be.context},I.createElement(Te,{id:tt,textAccessor:Oe.text,clearTagIcon:V,label:Ht.tagsLabel(),value:tn,readOnly:Rn,disabled:k,onDelete:ue,tagOptionComponent:F,renderTagValue:Ue},I.createElement(yy,Os({},he,{role:"combobox",autoFocus:s,tabIndex:De||0,"aria-expanded":!!Q,"aria-busy":!!C,"aria-owns":hr,"aria-controls":Kt,"aria-haspopup":"listbox","aria-autocomplete":"list",value:M,disabled:Fn,readOnly:Rn,placeholder:(Je.length&&!re?"":P)||"",onKeyDown:Zn,onKeyUp:us,onChange:wi,ref:Re})))),I.createElement(iS,{busy:C,spinner:_e,icon:H,visible:ze})),I.createElement(uo.Provider,{value:yt.context},Nr&&I.createElement(le,Os({},ct,{dropUp:ne,open:Q,transition:q,onEntering:()=>ft.current.scrollIntoView()}),I.createElement(te,Os({},rt,{id:Kt,data:ls,tabIndex:-1,disabled:k,searchTerm:M,accessors:Oe,renderItem:Bt,renderGroup:je,value:tn,groupBy:J,optionComponent:fn,onChange:(W,we)=>Co(W,we.originalEvent),"aria-live":"polite","aria-labelledby":hn,"aria-hidden":!Q,ref:ft,messages:{emptyList:_i?Ht.emptyFilter:Ht.emptyList}})),jn&&I.createElement(gy,{onSelect:xo},Ht.createOption(Je,M)))))});aS.displayName="Multiselect";aS.propTypes=B4;function H4(e){e===void 0&&(e=ly());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}const q4=["disabled","readOnly","placeholder","innerRef","min","max","localizer","editing"];function Kp(){return Kp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kp.apply(this,arguments)}function Q4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}let G4=e=>(e||"").trim()==="-";function Y4(e,t){let n=t.decimalCharacter(),[r,i]=e.split(n);return!!(i&&i.match(/0+$/))}function X4(e,t){let n=t.decimalCharacter(),r=e.length-1;if(e.length<1)return!1;let i=e[r];return i===n&&e.indexOf(i)===r}class lS extends I.Component{constructor(...t){super(...t),this.state={},this.handleBlur=n=>{let r=this.state.stringValue,i=this.parseNumber(r);this.isIntermediateValue(i,r)&&(isNaN(i)&&(i=null),this.props.onChange(i,n))},this.handleChange=n=>{let{value:r,onChange:i}=this.props,s=n.target.value,o=this.parseNumber(s),a=this.isIntermediateValue(o,s);if(s==null||s.trim()===""){this.setStringValue(""),i(null,n);return}a?this.setStringValue(s):o!==r?i(o,n):s!=this.state.stringValue&&this.setStringValue(s)}}getSnapshotBeforeUpdate({editing:t}){return{reselectText:!t&&this.props.editing&&this.isSelectingAllText()}}static getDerivedStateFromProps(t,n){let{value:r,editing:i,localizer:s}=t,o=s.decimalCharacter();const a=r==null||isNaN(r)?"":i?(""+r).replace(".",o):s.formatNumber(r);return n.lastValueFromProps!==a?{stringValue:a,lastValueFromProps:a}:null}componentDidUpdate(t,n,{reselectText:r}){r&&Aa.findDOMNode(this).select()}setStringValue(t){this.setState({stringValue:t})}isIntermediateValue(t,n){let{localizer:r,min:i}=this.props;return!!(t<i||G4(n)||X4(n,r)||Y4(n,r))}isSelectingAllText(){const t=Ep&&Aa.findDOMNode(this);return Ep&&H4()===t&&t.selectionStart===0&&t.selectionEnd===t.value.length}parseNumber(t){let{localizer:n,parse:r}=this.props;return r?r(t,n):n.parseNumber(t)}render(){let t=this.props,{disabled:n,readOnly:r,placeholder:i,innerRef:s,min:o,max:a}=t,l=Q4(t,q4),u=this.state.stringValue;return I.createElement(Il,Kp({},l,{ref:s,inputMode:"numeric",className:"rw-widget-input",onChange:this.handleChange,onBlur:this.handleBlur,"aria-valuenow":u,"aria-valuemin":isFinite(o)?o:void 0,"aria-valuemax":isFinite(a)?a:void 0,disabled:n,readOnly:r,placeholder:i,value:u}))}}lS.defaultProps={value:null,editing:!1};lS.propTypes={value:_.number,editing:_.bool,placeholder:_.string,localizer:_.object.isRequired,parse:_.func,min:_.number,max:_.number,disabled:cn,readOnly:cn,onChange:_.func.isRequired};_.number,_.func,_.number,_.number,_.number,_.oneOfType([_.number,_.oneOf(["auto"])]),_.any,_.func,_.node,_.node,_.any,_.string,_.string,_.func,_.func,_.func,_.bool,_.string,_.object,_.shape({increment:_.string,decrement:_.string}),_.object;const J4=()=>{const e=uc(f=>f.productsReducer.products),t=ol(),{customerID:n,customerName:r}=Bm(),[i,s]=g.useState(""),[o,a]=g.useState(!1),[l,u]=g.useState("");g.useEffect(()=>{o&&t("..")},[o]);const c=async()=>{if(+i.quantity<=0){u("Not enough quantity! can't add the product.");return}const f=new Date,d=f.getFullYear(),y=f.getMonth()+1,v=f.getDate(),w={customerID:n,productID:i.id,date:`${v}/${y}/${d}`,price:i.price};await dO(qi(_n,"purchases"),w).then(()=>{u("New product added to customer!"),h()})},h=async()=>{const f=Mi(_n,"products",i.id);await Gg(f,{...i,quantity:+i.quantity-1}).then(console.log("Product and references updated successfully"))};return S.jsxs("div",{style:{border:"1px solid"},children:[S.jsx("div",{style:{float:"right"},children:S.jsx("button",{onClick:()=>a(!0),children:"X"})}),S.jsx("h2",{children:"Add new product"}),"Name:",` ${r}`,S.jsx("br",{}),"ID:",` ${n}`,S.jsx("br",{}),S.jsx("div",{style:{width:"50%",margin:"20px auto"},children:S.jsx(hy,{data:e,defaultValue:"",dataKey:"id",textField:"name",onChange:f=>s(f)})}),S.jsx("button",{onClick:()=>{c()},children:"Save"}),S.jsx("br",{}),S.jsx("br",{}),S.jsx("p",{children:l})]})},Z4=()=>{const e=uc(w=>w.purchasesReducer.buyingCustomers),{productID:t,productName:n,productPrice:r,productQuantity:i}=Bm(),s=ol(),[o,a]=g.useState(!1),[l,u]=g.useState(n),[c,h]=g.useState(r),[f,d]=g.useState(i);g.useEffect(()=>{o&&s("..")},[o]);const y=async()=>{const w=Mi(_n,"products",t);await Gg(w,{name:l,price:c,quantity:f}).then(console.log("Product and references updated successfully"))},v=async()=>{const w=Mi(_n,"products",t),m=qi(_n,"purchases");await lc(w).then(async()=>{(await Qg(so(m,ac("productID","==",t)))).forEach(async E=>{await lc(E.ref)}),console.log("Product and references deleted successfully"),a(!0)})};return S.jsxs("div",{style:{border:"1px solid"},children:[S.jsx("div",{style:{float:"right"},children:S.jsx("button",{onClick:()=>a(!0),children:"X"})}),S.jsx("h2",{children:"Edit product details"}),S.jsx("b",{children:"ID:"})," ",t," ",S.jsx("br",{}),S.jsx("br",{}),S.jsx("b",{children:"Name:"})," ",S.jsx("input",{type:"text",defaultValue:l,onChange:w=>u(w.target.value)})," ",S.jsx("br",{}),S.jsx("br",{}),S.jsx("b",{children:"Price:"})," ",S.jsx("input",{type:"number",defaultValue:+c,onChange:w=>h(+w.target.value)})," ",S.jsx("br",{}),S.jsx("br",{}),S.jsx("b",{children:"Quantity:"})," ",S.jsx("input",{type:"number",defaultValue:+f,onChange:w=>d(+w.target.value)})," ",S.jsx("br",{}),S.jsx("br",{}),S.jsx("button",{onClick:y,children:"Save"}),S.jsx("button",{onClick:v,children:"Delete"}),S.jsx("br",{}),S.jsx("br",{}),S.jsx("h3",{children:"List of Buying Customers"}),e.map(w=>S.jsx("div",{children:S.jsx(bi,{to:`/products/edit/${w.customerID}`,children:`${w.name}`})},w.customerID))]})},s0=()=>{const{customerID:e}=Bm(),t=ol(),[n,r]=g.useState(!1),[i,s]=g.useState({id:"",firstName:"",lastName:"",city:""});g.useEffect(()=>{n&&t("..")},[n]),g.useEffect(()=>{(async()=>{const u=Mi(_n,"customers",e);try{const c=await hO(u);c.exists()?s({...c.data()}):console.log("Document does not exist")}catch(c){console.error("Error getting document:",c)}})()},[]);const o=async()=>{const l=Mi(_n,"customers",i.id);await Gg(l,{firstName:i.firstName,lastName:i.lastName,city:i.city}).then(console.log("Customer and references updated successfully"))},a=async()=>{const l=Mi(_n,"customers",i.id),u=qi(_n,"purchases");await lc(l).then(async()=>{(await Qg(so(u,ac("customerID","==",i.id)))).forEach(async h=>{await lc(h.ref)}),console.log("Product and references deleted successfully"),r(!0)})};return S.jsxs("div",{style:{border:"1px solid"},children:[S.jsx("div",{style:{float:"right"},children:S.jsx("button",{onClick:()=>r(!0),children:"X"})}),S.jsx("h2",{children:"Edit customer"}),S.jsx("b",{children:"ID:"})," ",i==null?void 0:i.id," ",S.jsx("br",{}),S.jsx("br",{}),S.jsx("b",{children:"First Name:"})," ",S.jsx("input",{type:"text",onChange:l=>{s(u=>({...u,firstName:l.target.value}))},defaultValue:`${i.firstName}`})," ",S.jsx("br",{}),S.jsx("br",{}),S.jsx("b",{children:"Last Name:"})," ",S.jsx("input",{type:"text",onChange:l=>{s(u=>({...u,lastName:l.target.value}))},defaultValue:`${i.lastName}`})," ",S.jsx("br",{}),S.jsx("br",{}),S.jsx("b",{children:"City:"})," ",S.jsx("input",{type:"text",onChange:l=>{s(u=>({...u,city:l.target.value}))},defaultValue:`${i.city}`})," ",S.jsx("br",{}),S.jsx("br",{}),S.jsx("button",{onClick:o,children:"Save"}),S.jsx("button",{onClick:a,children:"Delete"}),S.jsx("br",{}),S.jsx("br",{})]})};function eL(){return S.jsxs(S.Fragment,{children:[S.jsx("h1",{style:{borderBottom:"1px solid"},children:"Store Management"}),S.jsx("div",{children:S.jsx("div",{style:{fontSize:"30px",marginBottom:"15px",textAlign:"left"},children:S.jsx(bi,{to:"/",children:"Main Menu"})})}),S.jsxs(PP,{children:[S.jsx(dr,{path:"/",element:S.jsx($P,{})}),S.jsxs(dr,{path:"/products",element:S.jsx(c2,{}),children:[S.jsx(dr,{path:"add/:customerID/:customerName",element:S.jsx(J4,{})}),S.jsx(dr,{path:"edit/:productID/:productName/:productPrice/:productQuantity",element:S.jsx(Z4,{})}),S.jsx(dr,{path:"edit/:customerID",element:S.jsx(s0,{})})]}),S.jsx(dr,{path:"/customers",element:S.jsx(MP,{}),children:S.jsx(dr,{path:"edit/:customerID",element:S.jsx(s0,{})})}),S.jsx(dr,{path:"/purchases",element:S.jsx(f2,{})})]})]})}function Qt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var o0=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Mh=function(){return Math.random().toString(36).substring(7).split("").join(".")},pc={INIT:"@@redux/INIT"+Mh(),REPLACE:"@@redux/REPLACE"+Mh(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Mh()}};function tL(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function uS(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Qt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Qt(1));return n(uS)(e,t)}if(typeof e!="function")throw new Error(Qt(2));var i=e,s=t,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(Qt(3));return s}function h(v){if(typeof v!="function")throw new Error(Qt(4));if(l)throw new Error(Qt(5));var w=!0;return u(),a.push(v),function(){if(w){if(l)throw new Error(Qt(6));w=!1,u();var p=a.indexOf(v);a.splice(p,1),o=null}}}function f(v){if(!tL(v))throw new Error(Qt(7));if(typeof v.type>"u")throw new Error(Qt(8));if(l)throw new Error(Qt(9));try{l=!0,s=i(s,v)}finally{l=!1}for(var w=o=a,m=0;m<w.length;m++){var p=w[m];p()}return v}function d(v){if(typeof v!="function")throw new Error(Qt(10));i=v,f({type:pc.REPLACE})}function y(){var v,w=h;return v={subscribe:function(p){if(typeof p!="object"||p===null)throw new Error(Qt(11));function E(){p.next&&p.next(c())}E();var T=w(E);return{unsubscribe:T}}},v[o0]=function(){return this},v}return f({type:pc.INIT}),r={dispatch:f,subscribe:h,getState:c,replaceReducer:d},r[o0]=y,r}var nL=uS;function rL(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:pc.INIT});if(typeof r>"u")throw new Error(Qt(12));if(typeof n(void 0,{type:pc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Qt(13))})}function iL(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var s=Object.keys(n),o;try{rL(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,h={},f=0;f<s.length;f++){var d=s[f],y=n[d],v=l[d],w=y(v,u);if(typeof w>"u")throw u&&u.type,new Error(Qt(14));h[d]=w,c=c||w!==v}return c=c||s.length!==Object.keys(l).length,c?h:l}}const sL={products:[]},oL=(e=sL,t)=>{switch(t.type){case"init-products":return{...e,products:t.payload.productsData};case"reduce-product-quantity":return{...e,products:[e.products.map(n=>n.id===t.payload.productID?{...n,quantity:n.quantity-1}:n)]};default:return e}},aL={totalPurchases:0,purchasedProducts:[],buyingCustomers:[]},lL=(e=aL,t)=>{switch(t.type){case"add-purchase":return{...e,totalPurchases:t.payload.totalPurchases};case"set-purchased-products":return{...e,purchasedProducts:t.payload.purchasedProduct};case"set-purchasing-customers":return{...e,buyingCustomers:t.payload.buyingCustomers};default:return e}},uL=iL({productsReducer:oL,purchasesReducer:lL}),cL=nL(uL,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());$h.createRoot(document.getElementById("root")).render(S.jsx(s2,{store:cL,children:S.jsx(OP,{children:S.jsx(eL,{})})}));
