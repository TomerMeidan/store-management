function dS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function vc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var u0={exports:{}},_c={},c0={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sl=Symbol.for("react.element"),pS=Symbol.for("react.portal"),mS=Symbol.for("react.fragment"),gS=Symbol.for("react.strict_mode"),yS=Symbol.for("react.profiler"),vS=Symbol.for("react.provider"),_S=Symbol.for("react.context"),ES=Symbol.for("react.forward_ref"),wS=Symbol.for("react.suspense"),TS=Symbol.for("react.memo"),IS=Symbol.for("react.lazy"),vy=Symbol.iterator;function SS(e){return e===null||typeof e!="object"?null:(e=vy&&e[vy]||e["@@iterator"],typeof e=="function"?e:null)}var f0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h0=Object.assign,d0={};function po(e,t,n){this.props=e,this.context=t,this.refs=d0,this.updater=n||f0}po.prototype.isReactComponent={};po.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};po.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function p0(){}p0.prototype=po.prototype;function qp(e,t,n){this.props=e,this.context=t,this.refs=d0,this.updater=n||f0}var Qp=qp.prototype=new p0;Qp.constructor=qp;h0(Qp,po.prototype);Qp.isPureReactComponent=!0;var _y=Array.isArray,m0=Object.prototype.hasOwnProperty,Gp={current:null},g0={key:!0,ref:!0,__self:!0,__source:!0};function y0(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)m0.call(t,r)&&!g0.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:sl,type:e,key:s,ref:o,props:i,_owner:Gp.current}}function CS(e,t){return{$$typeof:sl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Yp(e){return typeof e=="object"&&e!==null&&e.$$typeof===sl}function xS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ey=/\/+/g;function Wf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xS(""+e.key):t.toString(36)}function iu(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case sl:case pS:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Wf(o,0):r,_y(i)?(n="",e!=null&&(n=e.replace(Ey,"$&/")+"/"),iu(i,t,n,"",function(u){return u})):i!=null&&(Yp(i)&&(i=CS(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ey,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",_y(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Wf(s,a);o+=iu(s,t,n,l,i)}else if(l=SS(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Wf(s,a++),o+=iu(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Al(e,t,n){if(e==null)return e;var r=[],i=0;return iu(e,r,"","",function(s){return t.call(n,s,i++)}),r}function PS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var en={current:null},su={transition:null},RS={ReactCurrentDispatcher:en,ReactCurrentBatchConfig:su,ReactCurrentOwner:Gp};fe.Children={map:Al,forEach:function(e,t,n){Al(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Al(e,function(){t++}),t},toArray:function(e){return Al(e,function(t){return t})||[]},only:function(e){if(!Yp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=po;fe.Fragment=mS;fe.Profiler=yS;fe.PureComponent=qp;fe.StrictMode=gS;fe.Suspense=wS;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RS;fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=h0({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Gp.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)m0.call(t,l)&&!g0.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:sl,type:e.type,key:i,ref:s,props:r,_owner:o}};fe.createContext=function(e){return e={$$typeof:_S,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:vS,_context:e},e.Consumer=e};fe.createElement=y0;fe.createFactory=function(e){var t=y0.bind(null,e);return t.type=e,t};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:ES,render:e}};fe.isValidElement=Yp;fe.lazy=function(e){return{$$typeof:IS,_payload:{_status:-1,_result:e},_init:PS}};fe.memo=function(e,t){return{$$typeof:TS,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=su.transition;su.transition={};try{e()}finally{su.transition=t}};fe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};fe.useCallback=function(e,t){return en.current.useCallback(e,t)};fe.useContext=function(e){return en.current.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e){return en.current.useDeferredValue(e)};fe.useEffect=function(e,t){return en.current.useEffect(e,t)};fe.useId=function(){return en.current.useId()};fe.useImperativeHandle=function(e,t,n){return en.current.useImperativeHandle(e,t,n)};fe.useInsertionEffect=function(e,t){return en.current.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return en.current.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return en.current.useMemo(e,t)};fe.useReducer=function(e,t,n){return en.current.useReducer(e,t,n)};fe.useRef=function(e){return en.current.useRef(e)};fe.useState=function(e){return en.current.useState(e)};fe.useSyncExternalStore=function(e,t,n){return en.current.useSyncExternalStore(e,t,n)};fe.useTransition=function(){return en.current.useTransition()};fe.version="18.2.0";c0.exports=fe;var g=c0.exports;const S=vc(g),AS=dS({__proto__:null,default:S},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DS=g,kS=Symbol.for("react.element"),NS=Symbol.for("react.fragment"),OS=Object.prototype.hasOwnProperty,VS=DS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bS={key:!0,ref:!0,__self:!0,__source:!0};function v0(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)OS.call(t,r)&&!bS.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:kS,type:e,key:s,ref:o,props:i,_owner:VS.current}}_c.Fragment=NS;_c.jsx=v0;_c.jsxs=v0;u0.exports=_c;var T=u0.exports,jh={},_0={exports:{}},Cn={},E0={exports:{}},w0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,L){var B=R.length;R.push(L);e:for(;0<B;){var se=B-1>>>1,he=R[se];if(0<i(he,L))R[se]=L,R[B]=he,B=se;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var L=R[0],B=R.pop();if(B!==L){R[0]=B;e:for(var se=0,he=R.length,rt=he>>>1;se<rt;){var ct=2*(se+1)-1,Wt=R[ct],je=ct+1,Ue=R[je];if(0>i(Wt,B))je<he&&0>i(Ue,Wt)?(R[se]=Ue,R[je]=B,se=je):(R[se]=Wt,R[ct]=B,se=ct);else if(je<he&&0>i(Ue,B))R[se]=Ue,R[je]=B,se=je;else break e}}return L}function i(R,L){var B=R.sortIndex-L.sortIndex;return B!==0?B:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,h=3,d=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(R){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=R)r(u),L.sortIndex=L.expirationTime,t(l,L);else break;L=n(u)}}function I(R){if(v=!1,E(R),!y)if(n(l)!==null)y=!0,ae(P);else{var L=n(u);L!==null&&Pe(I,L.startTime-R)}}function P(R,L){y=!1,v&&(v=!1,m(N),N=-1),d=!0;var B=h;try{for(E(L),f=n(l);f!==null&&(!(f.expirationTime>L)||R&&!_e());){var se=f.callback;if(typeof se=="function"){f.callback=null,h=f.priorityLevel;var he=se(f.expirationTime<=L);L=e.unstable_now(),typeof he=="function"?f.callback=he:f===n(l)&&r(l),E(L)}else r(l);f=n(l)}if(f!==null)var rt=!0;else{var ct=n(u);ct!==null&&Pe(I,ct.startTime-L),rt=!1}return rt}finally{f=null,h=B,d=!1}}var C=!1,D=null,N=-1,H=5,V=-1;function _e(){return!(e.unstable_now()-V<H)}function ne(){if(D!==null){var R=e.unstable_now();V=R;var L=!0;try{L=D(!0,R)}finally{L?ke():(C=!1,D=null)}}else C=!1}var ke;if(typeof p=="function")ke=function(){p(ne)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,re=q.port2;q.port1.onmessage=ne,ke=function(){re.postMessage(null)}}else ke=function(){w(ne,0)};function ae(R){D=R,C||(C=!0,ke())}function Pe(R,L){N=w(function(){R(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){y||d||(y=!0,ae(P))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var B=h;h=L;try{return R()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var B=h;h=R;try{return L()}finally{h=B}},e.unstable_scheduleCallback=function(R,L,B){var se=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?se+B:se):B=se,R){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=B+he,R={id:c++,callback:L,priorityLevel:R,startTime:B,expirationTime:he,sortIndex:-1},B>se?(R.sortIndex=B,t(u,R),n(l)===null&&R===n(u)&&(v?(m(N),N=-1):v=!0,Pe(I,B-se))):(R.sortIndex=he,t(l,R),y||d||(y=!0,ae(P))),R},e.unstable_shouldYield=_e,e.unstable_wrapCallback=function(R){var L=h;return function(){var B=h;h=L;try{return R.apply(this,arguments)}finally{h=B}}}})(w0);E0.exports=w0;var LS=E0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0=g,In=LS;function k(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var I0=new Set,ga={};function rs(e,t){qs(e,t),qs(e+"Capture",t)}function qs(e,t){for(ga[e]=t,e=0;e<t.length;e++)I0.add(t[e])}var Sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uh=Object.prototype.hasOwnProperty,MS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wy={},Ty={};function $S(e){return Uh.call(Ty,e)?!0:Uh.call(wy,e)?!1:MS.test(e)?Ty[e]=!0:(wy[e]=!0,!1)}function FS(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function jS(e,t,n,r){if(t===null||typeof t>"u"||FS(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tn(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ot[e]=new tn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ot[t]=new tn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ot[e]=new tn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ot[e]=new tn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ot[e]=new tn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ot[e]=new tn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ot[e]=new tn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ot[e]=new tn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ot[e]=new tn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Xp=/[\-:]([a-z])/g;function Jp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Xp,Jp);Ot[t]=new tn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Xp,Jp);Ot[t]=new tn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Xp,Jp);Ot[t]=new tn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ot[e]=new tn(e,1,!1,e.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ot[e]=new tn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zp(e,t,n,r){var i=Ot.hasOwnProperty(t)?Ot[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(jS(t,n,i,r)&&(n=null),r||i===null?$S(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var kr=T0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dl=Symbol.for("react.element"),ws=Symbol.for("react.portal"),Ts=Symbol.for("react.fragment"),em=Symbol.for("react.strict_mode"),Bh=Symbol.for("react.profiler"),S0=Symbol.for("react.provider"),C0=Symbol.for("react.context"),tm=Symbol.for("react.forward_ref"),zh=Symbol.for("react.suspense"),Wh=Symbol.for("react.suspense_list"),nm=Symbol.for("react.memo"),$r=Symbol.for("react.lazy"),x0=Symbol.for("react.offscreen"),Iy=Symbol.iterator;function No(e){return e===null||typeof e!="object"?null:(e=Iy&&e[Iy]||e["@@iterator"],typeof e=="function"?e:null)}var Ye=Object.assign,Kf;function zo(e){if(Kf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Kf=t&&t[1]||""}return`
`+Kf+e}var Hf=!1;function qf(e,t){if(!e||Hf)return"";Hf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Hf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?zo(e):""}function US(e){switch(e.tag){case 5:return zo(e.type);case 16:return zo("Lazy");case 13:return zo("Suspense");case 19:return zo("SuspenseList");case 0:case 2:case 15:return e=qf(e.type,!1),e;case 11:return e=qf(e.type.render,!1),e;case 1:return e=qf(e.type,!0),e;default:return""}}function Kh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ts:return"Fragment";case ws:return"Portal";case Bh:return"Profiler";case em:return"StrictMode";case zh:return"Suspense";case Wh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case C0:return(e.displayName||"Context")+".Consumer";case S0:return(e._context.displayName||"Context")+".Provider";case tm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nm:return t=e.displayName||null,t!==null?t:Kh(e.type)||"Memo";case $r:t=e._payload,e=e._init;try{return Kh(e(t))}catch{}}return null}function BS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kh(t);case 8:return t===em?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ai(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function P0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zS(e){var t=P0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function kl(e){e._valueTracker||(e._valueTracker=zS(e))}function R0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=P0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function wu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hh(e,t){var n=t.checked;return Ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Sy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ai(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function A0(e,t){t=t.checked,t!=null&&Zp(e,"checked",t,!1)}function qh(e,t){A0(e,t);var n=ai(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qh(e,t.type,n):t.hasOwnProperty("defaultValue")&&Qh(e,t.type,ai(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Qh(e,t,n){(t!=="number"||wu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Wo=Array.isArray;function Ms(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ai(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Gh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(k(91));return Ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(k(92));if(Wo(n)){if(1<n.length)throw Error(k(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ai(n)}}function D0(e,t){var n=ai(t.value),r=ai(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Py(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function k0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?k0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Nl,N0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Nl=Nl||document.createElement("div"),Nl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Nl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ya(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ea={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WS=["Webkit","ms","Moz","O"];Object.keys(ea).forEach(function(e){WS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ea[t]=ea[e]})});function O0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ea.hasOwnProperty(e)&&ea[e]?(""+t).trim():t+"px"}function V0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=O0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var KS=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xh(e,t){if(t){if(KS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(k(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(k(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(k(61))}if(t.style!=null&&typeof t.style!="object")throw Error(k(62))}}function Jh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zh=null;function rm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ed=null,$s=null,Fs=null;function Ry(e){if(e=ll(e)){if(typeof ed!="function")throw Error(k(280));var t=e.stateNode;t&&(t=Sc(t),ed(e.stateNode,e.type,t))}}function b0(e){$s?Fs?Fs.push(e):Fs=[e]:$s=e}function L0(){if($s){var e=$s,t=Fs;if(Fs=$s=null,Ry(e),t)for(e=0;e<t.length;e++)Ry(t[e])}}function M0(e,t){return e(t)}function $0(){}var Qf=!1;function F0(e,t,n){if(Qf)return e(t,n);Qf=!0;try{return M0(e,t,n)}finally{Qf=!1,($s!==null||Fs!==null)&&($0(),L0())}}function va(e,t){var n=e.stateNode;if(n===null)return null;var r=Sc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(k(231,t,typeof n));return n}var td=!1;if(Sr)try{var Oo={};Object.defineProperty(Oo,"passive",{get:function(){td=!0}}),window.addEventListener("test",Oo,Oo),window.removeEventListener("test",Oo,Oo)}catch{td=!1}function HS(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ta=!1,Tu=null,Iu=!1,nd=null,qS={onError:function(e){ta=!0,Tu=e}};function QS(e,t,n,r,i,s,o,a,l){ta=!1,Tu=null,HS.apply(qS,arguments)}function GS(e,t,n,r,i,s,o,a,l){if(QS.apply(this,arguments),ta){if(ta){var u=Tu;ta=!1,Tu=null}else throw Error(k(198));Iu||(Iu=!0,nd=u)}}function is(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function j0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ay(e){if(is(e)!==e)throw Error(k(188))}function YS(e){var t=e.alternate;if(!t){if(t=is(e),t===null)throw Error(k(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ay(i),e;if(s===r)return Ay(i),t;s=s.sibling}throw Error(k(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?e:t}function U0(e){return e=YS(e),e!==null?B0(e):null}function B0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=B0(e);if(t!==null)return t;e=e.sibling}return null}var z0=In.unstable_scheduleCallback,Dy=In.unstable_cancelCallback,XS=In.unstable_shouldYield,JS=In.unstable_requestPaint,nt=In.unstable_now,ZS=In.unstable_getCurrentPriorityLevel,im=In.unstable_ImmediatePriority,W0=In.unstable_UserBlockingPriority,Su=In.unstable_NormalPriority,eC=In.unstable_LowPriority,K0=In.unstable_IdlePriority,Ec=null,ur=null;function tC(e){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(Ec,e,void 0,(e.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:iC,nC=Math.log,rC=Math.LN2;function iC(e){return e>>>=0,e===0?32:31-(nC(e)/rC|0)|0}var Ol=64,Vl=4194304;function Ko(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ko(a):(s&=o,s!==0&&(r=Ko(s)))}else o=n&~i,o!==0?r=Ko(o):s!==0&&(r=Ko(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Qn(t),i=1<<n,r|=e[n],t&=~i;return r}function sC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oC(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Qn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=sC(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function rd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function H0(){var e=Ol;return Ol<<=1,!(Ol&4194240)&&(Ol=64),e}function Gf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ol(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qn(t),e[t]=n}function aC(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Qn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function sm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Qn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Se=0;function q0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Q0,om,G0,Y0,X0,id=!1,bl=[],Qr=null,Gr=null,Yr=null,_a=new Map,Ea=new Map,Br=[],lC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ky(e,t){switch(e){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":_a.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ea.delete(t.pointerId)}}function Vo(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ll(t),t!==null&&om(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function uC(e,t,n,r,i){switch(t){case"focusin":return Qr=Vo(Qr,e,t,n,r,i),!0;case"dragenter":return Gr=Vo(Gr,e,t,n,r,i),!0;case"mouseover":return Yr=Vo(Yr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return _a.set(s,Vo(_a.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ea.set(s,Vo(Ea.get(s)||null,e,t,n,r,i)),!0}return!1}function J0(e){var t=ki(e.target);if(t!==null){var n=is(t);if(n!==null){if(t=n.tag,t===13){if(t=j0(n),t!==null){e.blockedOn=t,X0(e.priority,function(){G0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ou(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=sd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Zh=r,n.target.dispatchEvent(r),Zh=null}else return t=ll(n),t!==null&&om(t),e.blockedOn=n,!1;t.shift()}return!0}function Ny(e,t,n){ou(e)&&n.delete(t)}function cC(){id=!1,Qr!==null&&ou(Qr)&&(Qr=null),Gr!==null&&ou(Gr)&&(Gr=null),Yr!==null&&ou(Yr)&&(Yr=null),_a.forEach(Ny),Ea.forEach(Ny)}function bo(e,t){e.blockedOn===t&&(e.blockedOn=null,id||(id=!0,In.unstable_scheduleCallback(In.unstable_NormalPriority,cC)))}function wa(e){function t(i){return bo(i,e)}if(0<bl.length){bo(bl[0],e);for(var n=1;n<bl.length;n++){var r=bl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Qr!==null&&bo(Qr,e),Gr!==null&&bo(Gr,e),Yr!==null&&bo(Yr,e),_a.forEach(t),Ea.forEach(t),n=0;n<Br.length;n++)r=Br[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Br.length&&(n=Br[0],n.blockedOn===null);)J0(n),n.blockedOn===null&&Br.shift()}var js=kr.ReactCurrentBatchConfig,xu=!0;function fC(e,t,n,r){var i=Se,s=js.transition;js.transition=null;try{Se=1,am(e,t,n,r)}finally{Se=i,js.transition=s}}function hC(e,t,n,r){var i=Se,s=js.transition;js.transition=null;try{Se=4,am(e,t,n,r)}finally{Se=i,js.transition=s}}function am(e,t,n,r){if(xu){var i=sd(e,t,n,r);if(i===null)sh(e,t,r,Pu,n),ky(e,r);else if(uC(i,e,t,n,r))r.stopPropagation();else if(ky(e,r),t&4&&-1<lC.indexOf(e)){for(;i!==null;){var s=ll(i);if(s!==null&&Q0(s),s=sd(e,t,n,r),s===null&&sh(e,t,r,Pu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else sh(e,t,r,null,n)}}var Pu=null;function sd(e,t,n,r){if(Pu=null,e=rm(r),e=ki(e),e!==null)if(t=is(e),t===null)e=null;else if(n=t.tag,n===13){if(e=j0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pu=e,null}function Z0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZS()){case im:return 1;case W0:return 4;case Su:case eC:return 16;case K0:return 536870912;default:return 16}default:return 16}}var Wr=null,lm=null,au=null;function eE(){if(au)return au;var e,t=lm,n=t.length,r,i="value"in Wr?Wr.value:Wr.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return au=i.slice(e,1<r?1-r:void 0)}function lu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ll(){return!0}function Oy(){return!1}function xn(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ll:Oy,this.isPropagationStopped=Oy,this}return Ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ll)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ll)},persist:function(){},isPersistent:Ll}),t}var mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},um=xn(mo),al=Ye({},mo,{view:0,detail:0}),dC=xn(al),Yf,Xf,Lo,wc=Ye({},al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Lo&&(Lo&&e.type==="mousemove"?(Yf=e.screenX-Lo.screenX,Xf=e.screenY-Lo.screenY):Xf=Yf=0,Lo=e),Yf)},movementY:function(e){return"movementY"in e?e.movementY:Xf}}),Vy=xn(wc),pC=Ye({},wc,{dataTransfer:0}),mC=xn(pC),gC=Ye({},al,{relatedTarget:0}),Jf=xn(gC),yC=Ye({},mo,{animationName:0,elapsedTime:0,pseudoElement:0}),vC=xn(yC),_C=Ye({},mo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),EC=xn(_C),wC=Ye({},mo,{data:0}),by=xn(wC),TC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=SC[e])?!!t[e]:!1}function cm(){return CC}var xC=Ye({},al,{key:function(e){if(e.key){var t=TC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=lu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?IC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cm,charCode:function(e){return e.type==="keypress"?lu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?lu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),PC=xn(xC),RC=Ye({},wc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ly=xn(RC),AC=Ye({},al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cm}),DC=xn(AC),kC=Ye({},mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),NC=xn(kC),OC=Ye({},wc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),VC=xn(OC),bC=[9,13,27,32],fm=Sr&&"CompositionEvent"in window,na=null;Sr&&"documentMode"in document&&(na=document.documentMode);var LC=Sr&&"TextEvent"in window&&!na,tE=Sr&&(!fm||na&&8<na&&11>=na),My=" ",$y=!1;function nE(e,t){switch(e){case"keyup":return bC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Is=!1;function MC(e,t){switch(e){case"compositionend":return rE(t);case"keypress":return t.which!==32?null:($y=!0,My);case"textInput":return e=t.data,e===My&&$y?null:e;default:return null}}function $C(e,t){if(Is)return e==="compositionend"||!fm&&nE(e,t)?(e=eE(),au=lm=Wr=null,Is=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tE&&t.locale!=="ko"?null:t.data;default:return null}}var FC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!FC[e.type]:t==="textarea"}function iE(e,t,n,r){b0(r),t=Ru(t,"onChange"),0<t.length&&(n=new um("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ra=null,Ta=null;function jC(e){mE(e,0)}function Tc(e){var t=xs(e);if(R0(t))return e}function UC(e,t){if(e==="change")return t}var sE=!1;if(Sr){var Zf;if(Sr){var eh="oninput"in document;if(!eh){var jy=document.createElement("div");jy.setAttribute("oninput","return;"),eh=typeof jy.oninput=="function"}Zf=eh}else Zf=!1;sE=Zf&&(!document.documentMode||9<document.documentMode)}function Uy(){ra&&(ra.detachEvent("onpropertychange",oE),Ta=ra=null)}function oE(e){if(e.propertyName==="value"&&Tc(Ta)){var t=[];iE(t,Ta,e,rm(e)),F0(jC,t)}}function BC(e,t,n){e==="focusin"?(Uy(),ra=t,Ta=n,ra.attachEvent("onpropertychange",oE)):e==="focusout"&&Uy()}function zC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tc(Ta)}function WC(e,t){if(e==="click")return Tc(t)}function KC(e,t){if(e==="input"||e==="change")return Tc(t)}function HC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jn=typeof Object.is=="function"?Object.is:HC;function Ia(e,t){if(Jn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Uh.call(t,i)||!Jn(e[i],t[i]))return!1}return!0}function By(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zy(e,t){var n=By(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=By(n)}}function aE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?aE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lE(){for(var e=window,t=wu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wu(e.document)}return t}function hm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qC(e){var t=lE(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&aE(n.ownerDocument.documentElement,n)){if(r!==null&&hm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=zy(n,s);var o=zy(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var QC=Sr&&"documentMode"in document&&11>=document.documentMode,Ss=null,od=null,ia=null,ad=!1;function Wy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ad||Ss==null||Ss!==wu(r)||(r=Ss,"selectionStart"in r&&hm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ia&&Ia(ia,r)||(ia=r,r=Ru(od,"onSelect"),0<r.length&&(t=new um("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ss)))}function Ml(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cs={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionend:Ml("Transition","TransitionEnd")},th={},uE={};Sr&&(uE=document.createElement("div").style,"AnimationEvent"in window||(delete Cs.animationend.animation,delete Cs.animationiteration.animation,delete Cs.animationstart.animation),"TransitionEvent"in window||delete Cs.transitionend.transition);function Ic(e){if(th[e])return th[e];if(!Cs[e])return e;var t=Cs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in uE)return th[e]=t[n];return e}var cE=Ic("animationend"),fE=Ic("animationiteration"),hE=Ic("animationstart"),dE=Ic("transitionend"),pE=new Map,Ky="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mi(e,t){pE.set(e,t),rs(t,[e])}for(var nh=0;nh<Ky.length;nh++){var rh=Ky[nh],GC=rh.toLowerCase(),YC=rh[0].toUpperCase()+rh.slice(1);mi(GC,"on"+YC)}mi(cE,"onAnimationEnd");mi(fE,"onAnimationIteration");mi(hE,"onAnimationStart");mi("dblclick","onDoubleClick");mi("focusin","onFocus");mi("focusout","onBlur");mi(dE,"onTransitionEnd");qs("onMouseEnter",["mouseout","mouseover"]);qs("onMouseLeave",["mouseout","mouseover"]);qs("onPointerEnter",["pointerout","pointerover"]);qs("onPointerLeave",["pointerout","pointerover"]);rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rs("onBeforeInput",["compositionend","keypress","textInput","paste"]);rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ho));function Hy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,GS(r,t,void 0,e),e.currentTarget=null}function mE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Hy(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Hy(i,a,u),s=l}}}if(Iu)throw e=nd,Iu=!1,nd=null,e}function Le(e,t){var n=t[hd];n===void 0&&(n=t[hd]=new Set);var r=e+"__bubble";n.has(r)||(gE(t,e,2,!1),n.add(r))}function ih(e,t,n){var r=0;t&&(r|=4),gE(n,e,r,t)}var $l="_reactListening"+Math.random().toString(36).slice(2);function Sa(e){if(!e[$l]){e[$l]=!0,I0.forEach(function(n){n!=="selectionchange"&&(XC.has(n)||ih(n,!1,e),ih(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$l]||(t[$l]=!0,ih("selectionchange",!1,t))}}function gE(e,t,n,r){switch(Z0(t)){case 1:var i=fC;break;case 4:i=hC;break;default:i=am}n=i.bind(null,t,n,e),i=void 0,!td||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function sh(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ki(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}F0(function(){var u=s,c=rm(n),f=[];e:{var h=pE.get(e);if(h!==void 0){var d=um,y=e;switch(e){case"keypress":if(lu(n)===0)break e;case"keydown":case"keyup":d=PC;break;case"focusin":y="focus",d=Jf;break;case"focusout":y="blur",d=Jf;break;case"beforeblur":case"afterblur":d=Jf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Vy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=mC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=DC;break;case cE:case fE:case hE:d=vC;break;case dE:d=NC;break;case"scroll":d=dC;break;case"wheel":d=VC;break;case"copy":case"cut":case"paste":d=EC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Ly}var v=(t&4)!==0,w=!v&&e==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var p=u,E;p!==null;){E=p;var I=E.stateNode;if(E.tag===5&&I!==null&&(E=I,m!==null&&(I=va(p,m),I!=null&&v.push(Ca(p,I,E)))),w)break;p=p.return}0<v.length&&(h=new d(h,y,null,n,c),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",h&&n!==Zh&&(y=n.relatedTarget||n.fromElement)&&(ki(y)||y[Cr]))break e;if((d||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,d?(y=n.relatedTarget||n.toElement,d=u,y=y?ki(y):null,y!==null&&(w=is(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(d=null,y=u),d!==y)){if(v=Vy,I="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(v=Ly,I="onPointerLeave",m="onPointerEnter",p="pointer"),w=d==null?h:xs(d),E=y==null?h:xs(y),h=new v(I,p+"leave",d,n,c),h.target=w,h.relatedTarget=E,I=null,ki(c)===u&&(v=new v(m,p+"enter",y,n,c),v.target=E,v.relatedTarget=w,I=v),w=I,d&&y)t:{for(v=d,m=y,p=0,E=v;E;E=ps(E))p++;for(E=0,I=m;I;I=ps(I))E++;for(;0<p-E;)v=ps(v),p--;for(;0<E-p;)m=ps(m),E--;for(;p--;){if(v===m||m!==null&&v===m.alternate)break t;v=ps(v),m=ps(m)}v=null}else v=null;d!==null&&qy(f,h,d,v,!1),y!==null&&w!==null&&qy(f,w,y,v,!0)}}e:{if(h=u?xs(u):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var P=UC;else if(Fy(h))if(sE)P=KC;else{P=zC;var C=BC}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(P=WC);if(P&&(P=P(e,u))){iE(f,P,n,c);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Qh(h,"number",h.value)}switch(C=u?xs(u):window,e){case"focusin":(Fy(C)||C.contentEditable==="true")&&(Ss=C,od=u,ia=null);break;case"focusout":ia=od=Ss=null;break;case"mousedown":ad=!0;break;case"contextmenu":case"mouseup":case"dragend":ad=!1,Wy(f,n,c);break;case"selectionchange":if(QC)break;case"keydown":case"keyup":Wy(f,n,c)}var D;if(fm)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Is?nE(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(tE&&n.locale!=="ko"&&(Is||N!=="onCompositionStart"?N==="onCompositionEnd"&&Is&&(D=eE()):(Wr=c,lm="value"in Wr?Wr.value:Wr.textContent,Is=!0)),C=Ru(u,N),0<C.length&&(N=new by(N,e,null,n,c),f.push({event:N,listeners:C}),D?N.data=D:(D=rE(n),D!==null&&(N.data=D)))),(D=LC?MC(e,n):$C(e,n))&&(u=Ru(u,"onBeforeInput"),0<u.length&&(c=new by("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=D))}mE(f,t)})}function Ca(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ru(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=va(e,n),s!=null&&r.unshift(Ca(e,s,i)),s=va(e,t),s!=null&&r.push(Ca(e,s,i))),e=e.return}return r}function ps(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qy(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=va(n,s),l!=null&&o.unshift(Ca(n,l,a))):i||(l=va(n,s),l!=null&&o.push(Ca(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var JC=/\r\n?/g,ZC=/\u0000|\uFFFD/g;function Qy(e){return(typeof e=="string"?e:""+e).replace(JC,`
`).replace(ZC,"")}function Fl(e,t,n){if(t=Qy(t),Qy(e)!==t&&n)throw Error(k(425))}function Au(){}var ld=null,ud=null;function cd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fd=typeof setTimeout=="function"?setTimeout:void 0,ex=typeof clearTimeout=="function"?clearTimeout:void 0,Gy=typeof Promise=="function"?Promise:void 0,tx=typeof queueMicrotask=="function"?queueMicrotask:typeof Gy<"u"?function(e){return Gy.resolve(null).then(e).catch(nx)}:fd;function nx(e){setTimeout(function(){throw e})}function oh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),wa(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);wa(t)}function Xr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var go=Math.random().toString(36).slice(2),sr="__reactFiber$"+go,xa="__reactProps$"+go,Cr="__reactContainer$"+go,hd="__reactEvents$"+go,rx="__reactListeners$"+go,ix="__reactHandles$"+go;function ki(e){var t=e[sr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Cr]||n[sr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Yy(e);e!==null;){if(n=e[sr])return n;e=Yy(e)}return t}e=n,n=e.parentNode}return null}function ll(e){return e=e[sr]||e[Cr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(k(33))}function Sc(e){return e[xa]||null}var dd=[],Ps=-1;function gi(e){return{current:e}}function Fe(e){0>Ps||(e.current=dd[Ps],dd[Ps]=null,Ps--)}function Ve(e,t){Ps++,dd[Ps]=e.current,e.current=t}var li={},Bt=gi(li),ln=gi(!1),Bi=li;function Qs(e,t){var n=e.type.contextTypes;if(!n)return li;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function un(e){return e=e.childContextTypes,e!=null}function Du(){Fe(ln),Fe(Bt)}function Xy(e,t,n){if(Bt.current!==li)throw Error(k(168));Ve(Bt,t),Ve(ln,n)}function yE(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(k(108,BS(e)||"Unknown",i));return Ye({},n,r)}function ku(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||li,Bi=Bt.current,Ve(Bt,e),Ve(ln,ln.current),!0}function Jy(e,t,n){var r=e.stateNode;if(!r)throw Error(k(169));n?(e=yE(e,t,Bi),r.__reactInternalMemoizedMergedChildContext=e,Fe(ln),Fe(Bt),Ve(Bt,e)):Fe(ln),Ve(ln,n)}var yr=null,Cc=!1,ah=!1;function vE(e){yr===null?yr=[e]:yr.push(e)}function sx(e){Cc=!0,vE(e)}function yi(){if(!ah&&yr!==null){ah=!0;var e=0,t=Se;try{var n=yr;for(Se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}yr=null,Cc=!1}catch(i){throw yr!==null&&(yr=yr.slice(e+1)),z0(im,yi),i}finally{Se=t,ah=!1}}return null}var Rs=[],As=0,Nu=null,Ou=0,Dn=[],kn=0,zi=null,vr=1,_r="";function Pi(e,t){Rs[As++]=Ou,Rs[As++]=Nu,Nu=e,Ou=t}function _E(e,t,n){Dn[kn++]=vr,Dn[kn++]=_r,Dn[kn++]=zi,zi=e;var r=vr;e=_r;var i=32-Qn(r)-1;r&=~(1<<i),n+=1;var s=32-Qn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,vr=1<<32-Qn(t)+i|n<<i|r,_r=s+e}else vr=1<<s|n<<i|r,_r=e}function dm(e){e.return!==null&&(Pi(e,1),_E(e,1,0))}function pm(e){for(;e===Nu;)Nu=Rs[--As],Rs[As]=null,Ou=Rs[--As],Rs[As]=null;for(;e===zi;)zi=Dn[--kn],Dn[kn]=null,_r=Dn[--kn],Dn[kn]=null,vr=Dn[--kn],Dn[kn]=null}var En=null,vn=null,He=!1,qn=null;function EE(e,t){var n=On(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Zy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,En=e,vn=Xr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,En=e,vn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zi!==null?{id:vr,overflow:_r}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=On(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,En=e,vn=null,!0):!1;default:return!1}}function pd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function md(e){if(He){var t=vn;if(t){var n=t;if(!Zy(e,t)){if(pd(e))throw Error(k(418));t=Xr(n.nextSibling);var r=En;t&&Zy(e,t)?EE(r,n):(e.flags=e.flags&-4097|2,He=!1,En=e)}}else{if(pd(e))throw Error(k(418));e.flags=e.flags&-4097|2,He=!1,En=e}}}function ev(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;En=e}function jl(e){if(e!==En)return!1;if(!He)return ev(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cd(e.type,e.memoizedProps)),t&&(t=vn)){if(pd(e))throw wE(),Error(k(418));for(;t;)EE(e,t),t=Xr(t.nextSibling)}if(ev(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vn=Xr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vn=null}}else vn=En?Xr(e.stateNode.nextSibling):null;return!0}function wE(){for(var e=vn;e;)e=Xr(e.nextSibling)}function Gs(){vn=En=null,He=!1}function mm(e){qn===null?qn=[e]:qn.push(e)}var ox=kr.ReactCurrentBatchConfig;function Kn(e,t){if(e&&e.defaultProps){t=Ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Vu=gi(null),bu=null,Ds=null,gm=null;function ym(){gm=Ds=bu=null}function vm(e){var t=Vu.current;Fe(Vu),e._currentValue=t}function gd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Us(e,t){bu=e,gm=Ds=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(an=!0),e.firstContext=null)}function Mn(e){var t=e._currentValue;if(gm!==e)if(e={context:e,memoizedValue:t,next:null},Ds===null){if(bu===null)throw Error(k(308));Ds=e,bu.dependencies={lanes:0,firstContext:e}}else Ds=Ds.next=e;return t}var Ni=null;function _m(e){Ni===null?Ni=[e]:Ni.push(e)}function TE(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,_m(t)):(n.next=i.next,i.next=n),t.interleaved=n,xr(e,r)}function xr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Fr=!1;function Em(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function IE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Jr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,xr(e,n)}return i=r.interleaved,i===null?(t.next=t,_m(r)):(t.next=i.next,i.next=t),r.interleaved=t,xr(e,n)}function uu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,sm(e,n)}}function tv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Lu(e,t,n,r){var i=e.updateQueue;Fr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,d=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,v=a;switch(h=t,d=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){f=y.call(d,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(d,f,h):y,h==null)break e;f=Ye({},f,h);break e;case 2:Fr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else d={eventTime:d,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=d,l=f):c=c.next=d,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Ki|=o,e.lanes=o,e.memoizedState=f}}function nv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(k(191,i));i.call(r)}}}var SE=new T0.Component().refs;function yd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var xc={isMounted:function(e){return(e=e._reactInternals)?is(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Jt(),i=ei(e),s=wr(r,i);s.payload=t,n!=null&&(s.callback=n),t=Jr(e,s,i),t!==null&&(Gn(t,e,i,r),uu(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Jt(),i=ei(e),s=wr(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Jr(e,s,i),t!==null&&(Gn(t,e,i,r),uu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Jt(),r=ei(e),i=wr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Jr(e,i,r),t!==null&&(Gn(t,e,r,n),uu(t,e,r))}};function rv(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Ia(n,r)||!Ia(i,s):!0}function CE(e,t,n){var r=!1,i=li,s=t.contextType;return typeof s=="object"&&s!==null?s=Mn(s):(i=un(t)?Bi:Bt.current,r=t.contextTypes,s=(r=r!=null)?Qs(e,i):li),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=xc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function iv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xc.enqueueReplaceState(t,t.state,null)}function vd(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=SE,Em(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Mn(s):(s=un(t)?Bi:Bt.current,i.context=Qs(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(yd(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&xc.enqueueReplaceState(i,i.state,null),Lu(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Mo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===SE&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,e))}return e}function Ul(e,t){throw e=Object.prototype.toString.call(t),Error(k(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sv(e){var t=e._init;return t(e._payload)}function xE(e){function t(m,p){if(e){var E=m.deletions;E===null?(m.deletions=[p],m.flags|=16):E.push(p)}}function n(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=ti(m,p),m.index=0,m.sibling=null,m}function s(m,p,E){return m.index=E,e?(E=m.alternate,E!==null?(E=E.index,E<p?(m.flags|=2,p):E):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,p,E,I){return p===null||p.tag!==6?(p=ph(E,m.mode,I),p.return=m,p):(p=i(p,E),p.return=m,p)}function l(m,p,E,I){var P=E.type;return P===Ts?c(m,p,E.props.children,I,E.key):p!==null&&(p.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===$r&&sv(P)===p.type)?(I=i(p,E.props),I.ref=Mo(m,p,E),I.return=m,I):(I=mu(E.type,E.key,E.props,null,m.mode,I),I.ref=Mo(m,p,E),I.return=m,I)}function u(m,p,E,I){return p===null||p.tag!==4||p.stateNode.containerInfo!==E.containerInfo||p.stateNode.implementation!==E.implementation?(p=mh(E,m.mode,I),p.return=m,p):(p=i(p,E.children||[]),p.return=m,p)}function c(m,p,E,I,P){return p===null||p.tag!==7?(p=$i(E,m.mode,I,P),p.return=m,p):(p=i(p,E),p.return=m,p)}function f(m,p,E){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ph(""+p,m.mode,E),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Dl:return E=mu(p.type,p.key,p.props,null,m.mode,E),E.ref=Mo(m,null,p),E.return=m,E;case ws:return p=mh(p,m.mode,E),p.return=m,p;case $r:var I=p._init;return f(m,I(p._payload),E)}if(Wo(p)||No(p))return p=$i(p,m.mode,E,null),p.return=m,p;Ul(m,p)}return null}function h(m,p,E,I){var P=p!==null?p.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return P!==null?null:a(m,p,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Dl:return E.key===P?l(m,p,E,I):null;case ws:return E.key===P?u(m,p,E,I):null;case $r:return P=E._init,h(m,p,P(E._payload),I)}if(Wo(E)||No(E))return P!==null?null:c(m,p,E,I,null);Ul(m,E)}return null}function d(m,p,E,I,P){if(typeof I=="string"&&I!==""||typeof I=="number")return m=m.get(E)||null,a(p,m,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Dl:return m=m.get(I.key===null?E:I.key)||null,l(p,m,I,P);case ws:return m=m.get(I.key===null?E:I.key)||null,u(p,m,I,P);case $r:var C=I._init;return d(m,p,E,C(I._payload),P)}if(Wo(I)||No(I))return m=m.get(E)||null,c(p,m,I,P,null);Ul(p,I)}return null}function y(m,p,E,I){for(var P=null,C=null,D=p,N=p=0,H=null;D!==null&&N<E.length;N++){D.index>N?(H=D,D=null):H=D.sibling;var V=h(m,D,E[N],I);if(V===null){D===null&&(D=H);break}e&&D&&V.alternate===null&&t(m,D),p=s(V,p,N),C===null?P=V:C.sibling=V,C=V,D=H}if(N===E.length)return n(m,D),He&&Pi(m,N),P;if(D===null){for(;N<E.length;N++)D=f(m,E[N],I),D!==null&&(p=s(D,p,N),C===null?P=D:C.sibling=D,C=D);return He&&Pi(m,N),P}for(D=r(m,D);N<E.length;N++)H=d(D,m,N,E[N],I),H!==null&&(e&&H.alternate!==null&&D.delete(H.key===null?N:H.key),p=s(H,p,N),C===null?P=H:C.sibling=H,C=H);return e&&D.forEach(function(_e){return t(m,_e)}),He&&Pi(m,N),P}function v(m,p,E,I){var P=No(E);if(typeof P!="function")throw Error(k(150));if(E=P.call(E),E==null)throw Error(k(151));for(var C=P=null,D=p,N=p=0,H=null,V=E.next();D!==null&&!V.done;N++,V=E.next()){D.index>N?(H=D,D=null):H=D.sibling;var _e=h(m,D,V.value,I);if(_e===null){D===null&&(D=H);break}e&&D&&_e.alternate===null&&t(m,D),p=s(_e,p,N),C===null?P=_e:C.sibling=_e,C=_e,D=H}if(V.done)return n(m,D),He&&Pi(m,N),P;if(D===null){for(;!V.done;N++,V=E.next())V=f(m,V.value,I),V!==null&&(p=s(V,p,N),C===null?P=V:C.sibling=V,C=V);return He&&Pi(m,N),P}for(D=r(m,D);!V.done;N++,V=E.next())V=d(D,m,N,V.value,I),V!==null&&(e&&V.alternate!==null&&D.delete(V.key===null?N:V.key),p=s(V,p,N),C===null?P=V:C.sibling=V,C=V);return e&&D.forEach(function(ne){return t(m,ne)}),He&&Pi(m,N),P}function w(m,p,E,I){if(typeof E=="object"&&E!==null&&E.type===Ts&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Dl:e:{for(var P=E.key,C=p;C!==null;){if(C.key===P){if(P=E.type,P===Ts){if(C.tag===7){n(m,C.sibling),p=i(C,E.props.children),p.return=m,m=p;break e}}else if(C.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===$r&&sv(P)===C.type){n(m,C.sibling),p=i(C,E.props),p.ref=Mo(m,C,E),p.return=m,m=p;break e}n(m,C);break}else t(m,C);C=C.sibling}E.type===Ts?(p=$i(E.props.children,m.mode,I,E.key),p.return=m,m=p):(I=mu(E.type,E.key,E.props,null,m.mode,I),I.ref=Mo(m,p,E),I.return=m,m=I)}return o(m);case ws:e:{for(C=E.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===E.containerInfo&&p.stateNode.implementation===E.implementation){n(m,p.sibling),p=i(p,E.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else t(m,p);p=p.sibling}p=mh(E,m.mode,I),p.return=m,m=p}return o(m);case $r:return C=E._init,w(m,p,C(E._payload),I)}if(Wo(E))return y(m,p,E,I);if(No(E))return v(m,p,E,I);Ul(m,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,E),p.return=m,m=p):(n(m,p),p=ph(E,m.mode,I),p.return=m,m=p),o(m)):n(m,p)}return w}var Ys=xE(!0),PE=xE(!1),ul={},cr=gi(ul),Pa=gi(ul),Ra=gi(ul);function Oi(e){if(e===ul)throw Error(k(174));return e}function wm(e,t){switch(Ve(Ra,t),Ve(Pa,e),Ve(cr,ul),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yh(t,e)}Fe(cr),Ve(cr,t)}function Xs(){Fe(cr),Fe(Pa),Fe(Ra)}function RE(e){Oi(Ra.current);var t=Oi(cr.current),n=Yh(t,e.type);t!==n&&(Ve(Pa,e),Ve(cr,n))}function Tm(e){Pa.current===e&&(Fe(cr),Fe(Pa))}var Qe=gi(0);function Mu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lh=[];function Im(){for(var e=0;e<lh.length;e++)lh[e]._workInProgressVersionPrimary=null;lh.length=0}var cu=kr.ReactCurrentDispatcher,uh=kr.ReactCurrentBatchConfig,Wi=0,Ge=null,pt=null,_t=null,$u=!1,sa=!1,Aa=0,ax=0;function Vt(){throw Error(k(321))}function Sm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function Cm(e,t,n,r,i,s){if(Wi=s,Ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cu.current=e===null||e.memoizedState===null?fx:hx,e=n(r,i),sa){s=0;do{if(sa=!1,Aa=0,25<=s)throw Error(k(301));s+=1,_t=pt=null,t.updateQueue=null,cu.current=dx,e=n(r,i)}while(sa)}if(cu.current=Fu,t=pt!==null&&pt.next!==null,Wi=0,_t=pt=Ge=null,$u=!1,t)throw Error(k(300));return e}function xm(){var e=Aa!==0;return Aa=0,e}function ir(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ge.memoizedState=_t=e:_t=_t.next=e,_t}function $n(){if(pt===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=_t===null?Ge.memoizedState:_t.next;if(t!==null)_t=t,pt=e;else{if(e===null)throw Error(k(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},_t===null?Ge.memoizedState=_t=e:_t=_t.next=e}return _t}function Da(e,t){return typeof t=="function"?t(e):t}function ch(e){var t=$n(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=pt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Wi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ge.lanes|=c,Ki|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Jn(r,t.memoizedState)||(an=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Ge.lanes|=s,Ki|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function fh(e){var t=$n(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Jn(s,t.memoizedState)||(an=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function AE(){}function DE(e,t){var n=Ge,r=$n(),i=t(),s=!Jn(r.memoizedState,i);if(s&&(r.memoizedState=i,an=!0),r=r.queue,Pm(OE.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||_t!==null&&_t.memoizedState.tag&1){if(n.flags|=2048,ka(9,NE.bind(null,n,r,i,t),void 0,null),wt===null)throw Error(k(349));Wi&30||kE(n,t,i)}return i}function kE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function NE(e,t,n,r){t.value=n,t.getSnapshot=r,VE(t)&&bE(e)}function OE(e,t,n){return n(function(){VE(t)&&bE(e)})}function VE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch{return!0}}function bE(e){var t=xr(e,1);t!==null&&Gn(t,e,1,-1)}function ov(e){var t=ir();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:e},t.queue=e,e=e.dispatch=cx.bind(null,Ge,e),[t.memoizedState,e]}function ka(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function LE(){return $n().memoizedState}function fu(e,t,n,r){var i=ir();Ge.flags|=e,i.memoizedState=ka(1|t,n,void 0,r===void 0?null:r)}function Pc(e,t,n,r){var i=$n();r=r===void 0?null:r;var s=void 0;if(pt!==null){var o=pt.memoizedState;if(s=o.destroy,r!==null&&Sm(r,o.deps)){i.memoizedState=ka(t,n,s,r);return}}Ge.flags|=e,i.memoizedState=ka(1|t,n,s,r)}function av(e,t){return fu(8390656,8,e,t)}function Pm(e,t){return Pc(2048,8,e,t)}function ME(e,t){return Pc(4,2,e,t)}function $E(e,t){return Pc(4,4,e,t)}function FE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jE(e,t,n){return n=n!=null?n.concat([e]):null,Pc(4,4,FE.bind(null,t,e),n)}function Rm(){}function UE(e,t){var n=$n();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Sm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function BE(e,t){var n=$n();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Sm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function zE(e,t,n){return Wi&21?(Jn(n,t)||(n=H0(),Ge.lanes|=n,Ki|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,an=!0),e.memoizedState=n)}function lx(e,t){var n=Se;Se=n!==0&&4>n?n:4,e(!0);var r=uh.transition;uh.transition={};try{e(!1),t()}finally{Se=n,uh.transition=r}}function WE(){return $n().memoizedState}function ux(e,t,n){var r=ei(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},KE(e))HE(t,n);else if(n=TE(e,t,n,r),n!==null){var i=Jt();Gn(n,e,r,i),qE(n,t,r)}}function cx(e,t,n){var r=ei(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(KE(e))HE(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Jn(a,o)){var l=t.interleaved;l===null?(i.next=i,_m(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=TE(e,t,i,r),n!==null&&(i=Jt(),Gn(n,e,r,i),qE(n,t,r))}}function KE(e){var t=e.alternate;return e===Ge||t!==null&&t===Ge}function HE(e,t){sa=$u=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qE(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,sm(e,n)}}var Fu={readContext:Mn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},fx={readContext:Mn,useCallback:function(e,t){return ir().memoizedState=[e,t===void 0?null:t],e},useContext:Mn,useEffect:av,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,fu(4194308,4,FE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fu(4194308,4,e,t)},useInsertionEffect:function(e,t){return fu(4,2,e,t)},useMemo:function(e,t){var n=ir();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ir();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ux.bind(null,Ge,e),[r.memoizedState,e]},useRef:function(e){var t=ir();return e={current:e},t.memoizedState=e},useState:ov,useDebugValue:Rm,useDeferredValue:function(e){return ir().memoizedState=e},useTransition:function(){var e=ov(!1),t=e[0];return e=lx.bind(null,e[1]),ir().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ge,i=ir();if(He){if(n===void 0)throw Error(k(407));n=n()}else{if(n=t(),wt===null)throw Error(k(349));Wi&30||kE(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,av(OE.bind(null,r,s,e),[e]),r.flags|=2048,ka(9,NE.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ir(),t=wt.identifierPrefix;if(He){var n=_r,r=vr;n=(r&~(1<<32-Qn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Aa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ax++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hx={readContext:Mn,useCallback:UE,useContext:Mn,useEffect:Pm,useImperativeHandle:jE,useInsertionEffect:ME,useLayoutEffect:$E,useMemo:BE,useReducer:ch,useRef:LE,useState:function(){return ch(Da)},useDebugValue:Rm,useDeferredValue:function(e){var t=$n();return zE(t,pt.memoizedState,e)},useTransition:function(){var e=ch(Da)[0],t=$n().memoizedState;return[e,t]},useMutableSource:AE,useSyncExternalStore:DE,useId:WE,unstable_isNewReconciler:!1},dx={readContext:Mn,useCallback:UE,useContext:Mn,useEffect:Pm,useImperativeHandle:jE,useInsertionEffect:ME,useLayoutEffect:$E,useMemo:BE,useReducer:fh,useRef:LE,useState:function(){return fh(Da)},useDebugValue:Rm,useDeferredValue:function(e){var t=$n();return pt===null?t.memoizedState=e:zE(t,pt.memoizedState,e)},useTransition:function(){var e=fh(Da)[0],t=$n().memoizedState;return[e,t]},useMutableSource:AE,useSyncExternalStore:DE,useId:WE,unstable_isNewReconciler:!1};function Js(e,t){try{var n="",r=t;do n+=US(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function hh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function _d(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var px=typeof WeakMap=="function"?WeakMap:Map;function QE(e,t,n){n=wr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Uu||(Uu=!0,Ad=r),_d(e,t)},n}function GE(e,t,n){n=wr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){_d(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){_d(e,t),typeof r!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function lv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new px;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Rx.bind(null,e,t,n),t.then(e,e))}function uv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cv(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=wr(-1,1),t.tag=2,Jr(n,t,1))),n.lanes|=1),e)}var mx=kr.ReactCurrentOwner,an=!1;function Yt(e,t,n,r){t.child=e===null?PE(t,null,n,r):Ys(t,e.child,n,r)}function fv(e,t,n,r,i){n=n.render;var s=t.ref;return Us(t,i),r=Cm(e,t,n,r,s,i),n=xm(),e!==null&&!an?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Pr(e,t,i)):(He&&n&&dm(t),t.flags|=1,Yt(e,t,r,i),t.child)}function hv(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Lm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,YE(e,t,s,r,i)):(e=mu(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ia,n(o,r)&&e.ref===t.ref)return Pr(e,t,i)}return t.flags|=1,e=ti(s,r),e.ref=t.ref,e.return=t,t.child=e}function YE(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Ia(s,r)&&e.ref===t.ref)if(an=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(an=!0);else return t.lanes=e.lanes,Pr(e,t,i)}return Ed(e,t,n,r,i)}function XE(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Ns,gn),gn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ve(Ns,gn),gn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ve(Ns,gn),gn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ve(Ns,gn),gn|=r;return Yt(e,t,i,n),t.child}function JE(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ed(e,t,n,r,i){var s=un(n)?Bi:Bt.current;return s=Qs(t,s),Us(t,i),n=Cm(e,t,n,r,s,i),r=xm(),e!==null&&!an?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Pr(e,t,i)):(He&&r&&dm(t),t.flags|=1,Yt(e,t,n,i),t.child)}function dv(e,t,n,r,i){if(un(n)){var s=!0;ku(t)}else s=!1;if(Us(t,i),t.stateNode===null)hu(e,t),CE(t,n,r),vd(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Mn(u):(u=un(n)?Bi:Bt.current,u=Qs(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&iv(t,o,r,u),Fr=!1;var h=t.memoizedState;o.state=h,Lu(t,r,o,i),l=t.memoizedState,a!==r||h!==l||ln.current||Fr?(typeof c=="function"&&(yd(t,n,c,r),l=t.memoizedState),(a=Fr||rv(t,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,IE(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Kn(t.type,a),o.props=u,f=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Mn(l):(l=un(n)?Bi:Bt.current,l=Qs(t,l));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&iv(t,o,r,l),Fr=!1,h=t.memoizedState,o.state=h,Lu(t,r,o,i);var y=t.memoizedState;a!==f||h!==y||ln.current||Fr?(typeof d=="function"&&(yd(t,n,d,r),y=t.memoizedState),(u=Fr||rv(t,n,u,r,h,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return wd(e,t,n,r,s,i)}function wd(e,t,n,r,i,s){JE(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Jy(t,n,!1),Pr(e,t,s);r=t.stateNode,mx.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ys(t,e.child,null,s),t.child=Ys(t,null,a,s)):Yt(e,t,a,s),t.memoizedState=r.state,i&&Jy(t,n,!0),t.child}function ZE(e){var t=e.stateNode;t.pendingContext?Xy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xy(e,t.context,!1),wm(e,t.containerInfo)}function pv(e,t,n,r,i){return Gs(),mm(i),t.flags|=256,Yt(e,t,n,r),t.child}var Td={dehydrated:null,treeContext:null,retryLane:0};function Id(e){return{baseLanes:e,cachePool:null,transitions:null}}function ew(e,t,n){var r=t.pendingProps,i=Qe.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ve(Qe,i&1),e===null)return md(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Dc(o,r,0,null),e=$i(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Id(n),t.memoizedState=Td,e):Am(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return gx(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ti(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ti(a,s):(s=$i(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Id(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Td,r}return s=e.child,e=s.sibling,r=ti(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Am(e,t){return t=Dc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bl(e,t,n,r){return r!==null&&mm(r),Ys(t,e.child,null,n),e=Am(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gx(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=hh(Error(k(422))),Bl(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Dc({mode:"visible",children:r.children},i,0,null),s=$i(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Ys(t,e.child,null,o),t.child.memoizedState=Id(o),t.memoizedState=Td,s);if(!(t.mode&1))return Bl(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(k(419)),r=hh(s,r,void 0),Bl(e,t,o,r)}if(a=(o&e.childLanes)!==0,an||a){if(r=wt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,xr(e,i),Gn(r,e,i,-1))}return bm(),r=hh(Error(k(421))),Bl(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Ax.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,vn=Xr(i.nextSibling),En=t,He=!0,qn=null,e!==null&&(Dn[kn++]=vr,Dn[kn++]=_r,Dn[kn++]=zi,vr=e.id,_r=e.overflow,zi=t),t=Am(t,r.children),t.flags|=4096,t)}function mv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),gd(e.return,t,n)}function dh(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function tw(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Yt(e,t,r.children,n),r=Qe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mv(e,n,t);else if(e.tag===19)mv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ve(Qe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Mu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),dh(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Mu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}dh(t,!0,n,null,s);break;case"together":dh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ki|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(k(153));if(t.child!==null){for(e=t.child,n=ti(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ti(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function yx(e,t,n){switch(t.tag){case 3:ZE(t),Gs();break;case 5:RE(t);break;case 1:un(t.type)&&ku(t);break;case 4:wm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ve(Vu,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ve(Qe,Qe.current&1),t.flags|=128,null):n&t.child.childLanes?ew(e,t,n):(Ve(Qe,Qe.current&1),e=Pr(e,t,n),e!==null?e.sibling:null);Ve(Qe,Qe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return tw(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(Qe,Qe.current),r)break;return null;case 22:case 23:return t.lanes=0,XE(e,t,n)}return Pr(e,t,n)}var nw,Sd,rw,iw;nw=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sd=function(){};rw=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Oi(cr.current);var s=null;switch(n){case"input":i=Hh(e,i),r=Hh(e,r),s=[];break;case"select":i=Ye({},i,{value:void 0}),r=Ye({},r,{value:void 0}),s=[];break;case"textarea":i=Gh(e,i),r=Gh(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Au)}Xh(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ga.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ga.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Le("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};iw=function(e,t,n,r){n!==r&&(t.flags|=4)};function $o(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function bt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vx(e,t,n){var r=t.pendingProps;switch(pm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(t),null;case 1:return un(t.type)&&Du(),bt(t),null;case 3:return r=t.stateNode,Xs(),Fe(ln),Fe(Bt),Im(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(jl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qn!==null&&(Nd(qn),qn=null))),Sd(e,t),bt(t),null;case 5:Tm(t);var i=Oi(Ra.current);if(n=t.type,e!==null&&t.stateNode!=null)rw(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(k(166));return bt(t),null}if(e=Oi(cr.current),jl(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[sr]=t,r[xa]=s,e=(t.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(i=0;i<Ho.length;i++)Le(Ho[i],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Sy(r,s),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Le("invalid",r);break;case"textarea":xy(r,s),Le("invalid",r)}Xh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Fl(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Fl(r.textContent,a,e),i=["children",""+a]):ga.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Le("scroll",r)}switch(n){case"input":kl(r),Cy(r,s,!0);break;case"textarea":kl(r),Py(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Au)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=k0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[sr]=t,e[xa]=r,nw(e,t,!1,!1),t.stateNode=e;e:{switch(o=Jh(n,r),n){case"dialog":Le("cancel",e),Le("close",e),i=r;break;case"iframe":case"object":case"embed":Le("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ho.length;i++)Le(Ho[i],e);i=r;break;case"source":Le("error",e),i=r;break;case"img":case"image":case"link":Le("error",e),Le("load",e),i=r;break;case"details":Le("toggle",e),i=r;break;case"input":Sy(e,r),i=Hh(e,r),Le("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ye({},r,{value:void 0}),Le("invalid",e);break;case"textarea":xy(e,r),i=Gh(e,r),Le("invalid",e);break;default:i=r}Xh(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?V0(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&N0(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ya(e,l):typeof l=="number"&&ya(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ga.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Le("scroll",e):l!=null&&Zp(e,s,l,o))}switch(n){case"input":kl(e),Cy(e,r,!1);break;case"textarea":kl(e),Py(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ai(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Ms(e,!!r.multiple,s,!1):r.defaultValue!=null&&Ms(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Au)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return bt(t),null;case 6:if(e&&t.stateNode!=null)iw(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(k(166));if(n=Oi(Ra.current),Oi(cr.current),jl(t)){if(r=t.stateNode,n=t.memoizedProps,r[sr]=t,(s=r.nodeValue!==n)&&(e=En,e!==null))switch(e.tag){case 3:Fl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fl(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sr]=t,t.stateNode=r}return bt(t),null;case 13:if(Fe(Qe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&vn!==null&&t.mode&1&&!(t.flags&128))wE(),Gs(),t.flags|=98560,s=!1;else if(s=jl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(k(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(k(317));s[sr]=t}else Gs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;bt(t),s=!1}else qn!==null&&(Nd(qn),qn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Qe.current&1?mt===0&&(mt=3):bm())),t.updateQueue!==null&&(t.flags|=4),bt(t),null);case 4:return Xs(),Sd(e,t),e===null&&Sa(t.stateNode.containerInfo),bt(t),null;case 10:return vm(t.type._context),bt(t),null;case 17:return un(t.type)&&Du(),bt(t),null;case 19:if(Fe(Qe),s=t.memoizedState,s===null)return bt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)$o(s,!1);else{if(mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Mu(e),o!==null){for(t.flags|=128,$o(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ve(Qe,Qe.current&1|2),t.child}e=e.sibling}s.tail!==null&&nt()>Zs&&(t.flags|=128,r=!0,$o(s,!1),t.lanes=4194304)}else{if(!r)if(e=Mu(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),$o(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!He)return bt(t),null}else 2*nt()-s.renderingStartTime>Zs&&n!==1073741824&&(t.flags|=128,r=!0,$o(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=nt(),t.sibling=null,n=Qe.current,Ve(Qe,r?n&1|2:n&1),t):(bt(t),null);case 22:case 23:return Vm(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?gn&1073741824&&(bt(t),t.subtreeFlags&6&&(t.flags|=8192)):bt(t),null;case 24:return null;case 25:return null}throw Error(k(156,t.tag))}function _x(e,t){switch(pm(t),t.tag){case 1:return un(t.type)&&Du(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xs(),Fe(ln),Fe(Bt),Im(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Tm(t),null;case 13:if(Fe(Qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(k(340));Gs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fe(Qe),null;case 4:return Xs(),null;case 10:return vm(t.type._context),null;case 22:case 23:return Vm(),null;case 24:return null;default:return null}}var zl=!1,$t=!1,Ex=typeof WeakSet=="function"?WeakSet:Set,b=null;function ks(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(e,t,r)}else n.current=null}function Cd(e,t,n){try{n()}catch(r){Ze(e,t,r)}}var gv=!1;function wx(e,t){if(ld=xu,e=lE(),hm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=e,h=null;t:for(;;){for(var d;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===e)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ud={focusedElem:e,selectionRange:n},xu=!1,b=t;b!==null;)if(t=b,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,b=e;else for(;b!==null;){t=b;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,w=y.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:Kn(t.type,v),w);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(I){Ze(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,b=e;break}b=t.return}return y=gv,gv=!1,y}function oa(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Cd(t,n,s)}i=i.next}while(i!==r)}}function Rc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function xd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function sw(e){var t=e.alternate;t!==null&&(e.alternate=null,sw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[sr],delete t[xa],delete t[hd],delete t[rx],delete t[ix])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ow(e){return e.tag===5||e.tag===3||e.tag===4}function yv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ow(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Au));else if(r!==4&&(e=e.child,e!==null))for(Pd(e,t,n),e=e.sibling;e!==null;)Pd(e,t,n),e=e.sibling}function Rd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Rd(e,t,n),e=e.sibling;e!==null;)Rd(e,t,n),e=e.sibling}var Ct=null,Hn=!1;function Lr(e,t,n){for(n=n.child;n!==null;)aw(e,t,n),n=n.sibling}function aw(e,t,n){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(Ec,n)}catch{}switch(n.tag){case 5:$t||ks(n,t);case 6:var r=Ct,i=Hn;Ct=null,Lr(e,t,n),Ct=r,Hn=i,Ct!==null&&(Hn?(e=Ct,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ct.removeChild(n.stateNode));break;case 18:Ct!==null&&(Hn?(e=Ct,n=n.stateNode,e.nodeType===8?oh(e.parentNode,n):e.nodeType===1&&oh(e,n),wa(e)):oh(Ct,n.stateNode));break;case 4:r=Ct,i=Hn,Ct=n.stateNode.containerInfo,Hn=!0,Lr(e,t,n),Ct=r,Hn=i;break;case 0:case 11:case 14:case 15:if(!$t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Cd(n,t,o),i=i.next}while(i!==r)}Lr(e,t,n);break;case 1:if(!$t&&(ks(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ze(n,t,a)}Lr(e,t,n);break;case 21:Lr(e,t,n);break;case 22:n.mode&1?($t=(r=$t)||n.memoizedState!==null,Lr(e,t,n),$t=r):Lr(e,t,n);break;default:Lr(e,t,n)}}function vv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ex),t.forEach(function(r){var i=Dx.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function zn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ct=a.stateNode,Hn=!1;break e;case 3:Ct=a.stateNode.containerInfo,Hn=!0;break e;case 4:Ct=a.stateNode.containerInfo,Hn=!0;break e}a=a.return}if(Ct===null)throw Error(k(160));aw(s,o,i),Ct=null,Hn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ze(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)lw(t,e),t=t.sibling}function lw(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zn(t,e),rr(e),r&4){try{oa(3,e,e.return),Rc(3,e)}catch(v){Ze(e,e.return,v)}try{oa(5,e,e.return)}catch(v){Ze(e,e.return,v)}}break;case 1:zn(t,e),rr(e),r&512&&n!==null&&ks(n,n.return);break;case 5:if(zn(t,e),rr(e),r&512&&n!==null&&ks(n,n.return),e.flags&32){var i=e.stateNode;try{ya(i,"")}catch(v){Ze(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&A0(i,s),Jh(a,o);var u=Jh(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?V0(i,f):c==="dangerouslySetInnerHTML"?N0(i,f):c==="children"?ya(i,f):Zp(i,c,f,u)}switch(a){case"input":qh(i,s);break;case"textarea":D0(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?Ms(i,!!s.multiple,d,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ms(i,!!s.multiple,s.defaultValue,!0):Ms(i,!!s.multiple,s.multiple?[]:"",!1))}i[xa]=s}catch(v){Ze(e,e.return,v)}}break;case 6:if(zn(t,e),rr(e),r&4){if(e.stateNode===null)throw Error(k(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(v){Ze(e,e.return,v)}}break;case 3:if(zn(t,e),rr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wa(t.containerInfo)}catch(v){Ze(e,e.return,v)}break;case 4:zn(t,e),rr(e);break;case 13:zn(t,e),rr(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Nm=nt())),r&4&&vv(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?($t=(u=$t)||c,zn(t,e),$t=u):zn(t,e),rr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(b=e,c=e.child;c!==null;){for(f=b=c;b!==null;){switch(h=b,d=h.child,h.tag){case 0:case 11:case 14:case 15:oa(4,h,h.return);break;case 1:ks(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){Ze(r,n,v)}}break;case 5:ks(h,h.return);break;case 22:if(h.memoizedState!==null){Ev(f);continue}}d!==null?(d.return=h,b=d):Ev(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=O0("display",o))}catch(v){Ze(e,e.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Ze(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:zn(t,e),rr(e),r&4&&vv(e);break;case 21:break;default:zn(t,e),rr(e)}}function rr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ow(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ya(i,""),r.flags&=-33);var s=yv(e);Rd(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=yv(e);Pd(e,a,o);break;default:throw Error(k(161))}}catch(l){Ze(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tx(e,t,n){b=e,uw(e)}function uw(e,t,n){for(var r=(e.mode&1)!==0;b!==null;){var i=b,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||zl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||$t;a=zl;var u=$t;if(zl=o,($t=l)&&!u)for(b=i;b!==null;)o=b,l=o.child,o.tag===22&&o.memoizedState!==null?wv(i):l!==null?(l.return=o,b=l):wv(i);for(;s!==null;)b=s,uw(s),s=s.sibling;b=i,zl=a,$t=u}_v(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,b=s):_v(e)}}function _v(e){for(;b!==null;){var t=b;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$t||Rc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!$t)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Kn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&nv(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}nv(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&wa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}$t||t.flags&512&&xd(t)}catch(h){Ze(t,t.return,h)}}if(t===e){b=null;break}if(n=t.sibling,n!==null){n.return=t.return,b=n;break}b=t.return}}function Ev(e){for(;b!==null;){var t=b;if(t===e){b=null;break}var n=t.sibling;if(n!==null){n.return=t.return,b=n;break}b=t.return}}function wv(e){for(;b!==null;){var t=b;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Rc(4,t)}catch(l){Ze(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ze(t,i,l)}}var s=t.return;try{xd(t)}catch(l){Ze(t,s,l)}break;case 5:var o=t.return;try{xd(t)}catch(l){Ze(t,o,l)}}}catch(l){Ze(t,t.return,l)}if(t===e){b=null;break}var a=t.sibling;if(a!==null){a.return=t.return,b=a;break}b=t.return}}var Ix=Math.ceil,ju=kr.ReactCurrentDispatcher,Dm=kr.ReactCurrentOwner,Vn=kr.ReactCurrentBatchConfig,me=0,wt=null,ot=null,Dt=0,gn=0,Ns=gi(0),mt=0,Na=null,Ki=0,Ac=0,km=0,aa=null,sn=null,Nm=0,Zs=1/0,gr=null,Uu=!1,Ad=null,Zr=null,Wl=!1,Kr=null,Bu=0,la=0,Dd=null,du=-1,pu=0;function Jt(){return me&6?nt():du!==-1?du:du=nt()}function ei(e){return e.mode&1?me&2&&Dt!==0?Dt&-Dt:ox.transition!==null?(pu===0&&(pu=H0()),pu):(e=Se,e!==0||(e=window.event,e=e===void 0?16:Z0(e.type)),e):1}function Gn(e,t,n,r){if(50<la)throw la=0,Dd=null,Error(k(185));ol(e,n,r),(!(me&2)||e!==wt)&&(e===wt&&(!(me&2)&&(Ac|=n),mt===4&&zr(e,Dt)),cn(e,r),n===1&&me===0&&!(t.mode&1)&&(Zs=nt()+500,Cc&&yi()))}function cn(e,t){var n=e.callbackNode;oC(e,t);var r=Cu(e,e===wt?Dt:0);if(r===0)n!==null&&Dy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Dy(n),t===1)e.tag===0?sx(Tv.bind(null,e)):vE(Tv.bind(null,e)),tx(function(){!(me&6)&&yi()}),n=null;else{switch(q0(r)){case 1:n=im;break;case 4:n=W0;break;case 16:n=Su;break;case 536870912:n=K0;break;default:n=Su}n=yw(n,cw.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cw(e,t){if(du=-1,pu=0,me&6)throw Error(k(327));var n=e.callbackNode;if(Bs()&&e.callbackNode!==n)return null;var r=Cu(e,e===wt?Dt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=zu(e,r);else{t=r;var i=me;me|=2;var s=hw();(wt!==e||Dt!==t)&&(gr=null,Zs=nt()+500,Mi(e,t));do try{xx();break}catch(a){fw(e,a)}while(!0);ym(),ju.current=s,me=i,ot!==null?t=0:(wt=null,Dt=0,t=mt)}if(t!==0){if(t===2&&(i=rd(e),i!==0&&(r=i,t=kd(e,i))),t===1)throw n=Na,Mi(e,0),zr(e,r),cn(e,nt()),n;if(t===6)zr(e,r);else{if(i=e.current.alternate,!(r&30)&&!Sx(i)&&(t=zu(e,r),t===2&&(s=rd(e),s!==0&&(r=s,t=kd(e,s))),t===1))throw n=Na,Mi(e,0),zr(e,r),cn(e,nt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(k(345));case 2:Ri(e,sn,gr);break;case 3:if(zr(e,r),(r&130023424)===r&&(t=Nm+500-nt(),10<t)){if(Cu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Jt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=fd(Ri.bind(null,e,sn,gr),t);break}Ri(e,sn,gr);break;case 4:if(zr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Qn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ix(r/1960))-r,10<r){e.timeoutHandle=fd(Ri.bind(null,e,sn,gr),r);break}Ri(e,sn,gr);break;case 5:Ri(e,sn,gr);break;default:throw Error(k(329))}}}return cn(e,nt()),e.callbackNode===n?cw.bind(null,e):null}function kd(e,t){var n=aa;return e.current.memoizedState.isDehydrated&&(Mi(e,t).flags|=256),e=zu(e,t),e!==2&&(t=sn,sn=n,t!==null&&Nd(t)),e}function Nd(e){sn===null?sn=e:sn.push.apply(sn,e)}function Sx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Jn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zr(e,t){for(t&=~km,t&=~Ac,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Qn(t),r=1<<n;e[n]=-1,t&=~r}}function Tv(e){if(me&6)throw Error(k(327));Bs();var t=Cu(e,0);if(!(t&1))return cn(e,nt()),null;var n=zu(e,t);if(e.tag!==0&&n===2){var r=rd(e);r!==0&&(t=r,n=kd(e,r))}if(n===1)throw n=Na,Mi(e,0),zr(e,t),cn(e,nt()),n;if(n===6)throw Error(k(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ri(e,sn,gr),cn(e,nt()),null}function Om(e,t){var n=me;me|=1;try{return e(t)}finally{me=n,me===0&&(Zs=nt()+500,Cc&&yi())}}function Hi(e){Kr!==null&&Kr.tag===0&&!(me&6)&&Bs();var t=me;me|=1;var n=Vn.transition,r=Se;try{if(Vn.transition=null,Se=1,e)return e()}finally{Se=r,Vn.transition=n,me=t,!(me&6)&&yi()}}function Vm(){gn=Ns.current,Fe(Ns)}function Mi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ex(n)),ot!==null)for(n=ot.return;n!==null;){var r=n;switch(pm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Du();break;case 3:Xs(),Fe(ln),Fe(Bt),Im();break;case 5:Tm(r);break;case 4:Xs();break;case 13:Fe(Qe);break;case 19:Fe(Qe);break;case 10:vm(r.type._context);break;case 22:case 23:Vm()}n=n.return}if(wt=e,ot=e=ti(e.current,null),Dt=gn=t,mt=0,Na=null,km=Ac=Ki=0,sn=aa=null,Ni!==null){for(t=0;t<Ni.length;t++)if(n=Ni[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ni=null}return e}function fw(e,t){do{var n=ot;try{if(ym(),cu.current=Fu,$u){for(var r=Ge.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$u=!1}if(Wi=0,_t=pt=Ge=null,sa=!1,Aa=0,Dm.current=null,n===null||n.return===null){mt=1,Na=t,ot=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Dt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=uv(o);if(d!==null){d.flags&=-257,cv(d,o,a,s,t),d.mode&1&&lv(s,u,t),t=d,l=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(l),t.updateQueue=v}else y.add(l);break e}else{if(!(t&1)){lv(s,u,t),bm();break e}l=Error(k(426))}}else if(He&&a.mode&1){var w=uv(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),cv(w,o,a,s,t),mm(Js(l,a));break e}}s=l=Js(l,a),mt!==4&&(mt=2),aa===null?aa=[s]:aa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=QE(s,l,t);tv(s,m);break e;case 1:a=l;var p=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Zr===null||!Zr.has(E)))){s.flags|=65536,t&=-t,s.lanes|=t;var I=GE(s,a,t);tv(s,I);break e}}s=s.return}while(s!==null)}pw(n)}catch(P){t=P,ot===n&&n!==null&&(ot=n=n.return);continue}break}while(!0)}function hw(){var e=ju.current;return ju.current=Fu,e===null?Fu:e}function bm(){(mt===0||mt===3||mt===2)&&(mt=4),wt===null||!(Ki&268435455)&&!(Ac&268435455)||zr(wt,Dt)}function zu(e,t){var n=me;me|=2;var r=hw();(wt!==e||Dt!==t)&&(gr=null,Mi(e,t));do try{Cx();break}catch(i){fw(e,i)}while(!0);if(ym(),me=n,ju.current=r,ot!==null)throw Error(k(261));return wt=null,Dt=0,mt}function Cx(){for(;ot!==null;)dw(ot)}function xx(){for(;ot!==null&&!XS();)dw(ot)}function dw(e){var t=gw(e.alternate,e,gn);e.memoizedProps=e.pendingProps,t===null?pw(e):ot=t,Dm.current=null}function pw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=_x(n,t),n!==null){n.flags&=32767,ot=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{mt=6,ot=null;return}}else if(n=vx(n,t,gn),n!==null){ot=n;return}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);mt===0&&(mt=5)}function Ri(e,t,n){var r=Se,i=Vn.transition;try{Vn.transition=null,Se=1,Px(e,t,n,r)}finally{Vn.transition=i,Se=r}return null}function Px(e,t,n,r){do Bs();while(Kr!==null);if(me&6)throw Error(k(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(k(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(aC(e,s),e===wt&&(ot=wt=null,Dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wl||(Wl=!0,yw(Su,function(){return Bs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Vn.transition,Vn.transition=null;var o=Se;Se=1;var a=me;me|=4,Dm.current=null,wx(e,n),lw(n,e),qC(ud),xu=!!ld,ud=ld=null,e.current=n,Tx(n),JS(),me=a,Se=o,Vn.transition=s}else e.current=n;if(Wl&&(Wl=!1,Kr=e,Bu=i),s=e.pendingLanes,s===0&&(Zr=null),tC(n.stateNode),cn(e,nt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Uu)throw Uu=!1,e=Ad,Ad=null,e;return Bu&1&&e.tag!==0&&Bs(),s=e.pendingLanes,s&1?e===Dd?la++:(la=0,Dd=e):la=0,yi(),null}function Bs(){if(Kr!==null){var e=q0(Bu),t=Vn.transition,n=Se;try{if(Vn.transition=null,Se=16>e?16:e,Kr===null)var r=!1;else{if(e=Kr,Kr=null,Bu=0,me&6)throw Error(k(331));var i=me;for(me|=4,b=e.current;b!==null;){var s=b,o=s.child;if(b.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(b=u;b!==null;){var c=b;switch(c.tag){case 0:case 11:case 15:oa(8,c,s)}var f=c.child;if(f!==null)f.return=c,b=f;else for(;b!==null;){c=b;var h=c.sibling,d=c.return;if(sw(c),c===u){b=null;break}if(h!==null){h.return=d,b=h;break}b=d}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}b=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,b=o;else e:for(;b!==null;){if(s=b,s.flags&2048)switch(s.tag){case 0:case 11:case 15:oa(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,b=m;break e}b=s.return}}var p=e.current;for(b=p;b!==null;){o=b;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,b=E;else e:for(o=p;b!==null;){if(a=b,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Rc(9,a)}}catch(P){Ze(a,a.return,P)}if(a===o){b=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,b=I;break e}b=a.return}}if(me=i,yi(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(Ec,e)}catch{}r=!0}return r}finally{Se=n,Vn.transition=t}}return!1}function Iv(e,t,n){t=Js(n,t),t=QE(e,t,1),e=Jr(e,t,1),t=Jt(),e!==null&&(ol(e,1,t),cn(e,t))}function Ze(e,t,n){if(e.tag===3)Iv(e,e,n);else for(;t!==null;){if(t.tag===3){Iv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zr===null||!Zr.has(r))){e=Js(n,e),e=GE(t,e,1),t=Jr(t,e,1),e=Jt(),t!==null&&(ol(t,1,e),cn(t,e));break}}t=t.return}}function Rx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Jt(),e.pingedLanes|=e.suspendedLanes&n,wt===e&&(Dt&n)===n&&(mt===4||mt===3&&(Dt&130023424)===Dt&&500>nt()-Nm?Mi(e,0):km|=n),cn(e,t)}function mw(e,t){t===0&&(e.mode&1?(t=Vl,Vl<<=1,!(Vl&130023424)&&(Vl=4194304)):t=1);var n=Jt();e=xr(e,t),e!==null&&(ol(e,t,n),cn(e,n))}function Ax(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),mw(e,n)}function Dx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(t),mw(e,n)}var gw;gw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ln.current)an=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return an=!1,yx(e,t,n);an=!!(e.flags&131072)}else an=!1,He&&t.flags&1048576&&_E(t,Ou,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;hu(e,t),e=t.pendingProps;var i=Qs(t,Bt.current);Us(t,n),i=Cm(null,t,r,e,i,n);var s=xm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,un(r)?(s=!0,ku(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Em(t),i.updater=xc,t.stateNode=i,i._reactInternals=t,vd(t,r,e,n),t=wd(null,t,r,!0,s,n)):(t.tag=0,He&&s&&dm(t),Yt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(hu(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Nx(r),e=Kn(r,e),i){case 0:t=Ed(null,t,r,e,n);break e;case 1:t=dv(null,t,r,e,n);break e;case 11:t=fv(null,t,r,e,n);break e;case 14:t=hv(null,t,r,Kn(r.type,e),n);break e}throw Error(k(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Kn(r,i),Ed(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Kn(r,i),dv(e,t,r,i,n);case 3:e:{if(ZE(t),e===null)throw Error(k(387));r=t.pendingProps,s=t.memoizedState,i=s.element,IE(e,t),Lu(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Js(Error(k(423)),t),t=pv(e,t,r,n,i);break e}else if(r!==i){i=Js(Error(k(424)),t),t=pv(e,t,r,n,i);break e}else for(vn=Xr(t.stateNode.containerInfo.firstChild),En=t,He=!0,qn=null,n=PE(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gs(),r===i){t=Pr(e,t,n);break e}Yt(e,t,r,n)}t=t.child}return t;case 5:return RE(t),e===null&&md(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,cd(r,i)?o=null:s!==null&&cd(r,s)&&(t.flags|=32),JE(e,t),Yt(e,t,o,n),t.child;case 6:return e===null&&md(t),null;case 13:return ew(e,t,n);case 4:return wm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ys(t,null,r,n):Yt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Kn(r,i),fv(e,t,r,i,n);case 7:return Yt(e,t,t.pendingProps,n),t.child;case 8:return Yt(e,t,t.pendingProps.children,n),t.child;case 12:return Yt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Ve(Vu,r._currentValue),r._currentValue=o,s!==null)if(Jn(s.value,o)){if(s.children===i.children&&!ln.current){t=Pr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=wr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),gd(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(k(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),gd(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Yt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Us(t,n),i=Mn(i),r=r(i),t.flags|=1,Yt(e,t,r,n),t.child;case 14:return r=t.type,i=Kn(r,t.pendingProps),i=Kn(r.type,i),hv(e,t,r,i,n);case 15:return YE(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Kn(r,i),hu(e,t),t.tag=1,un(r)?(e=!0,ku(t)):e=!1,Us(t,n),CE(t,r,i),vd(t,r,i,n),wd(null,t,r,!0,e,n);case 19:return tw(e,t,n);case 22:return XE(e,t,n)}throw Error(k(156,t.tag))};function yw(e,t){return z0(e,t)}function kx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(e,t,n,r){return new kx(e,t,n,r)}function Lm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Nx(e){if(typeof e=="function")return Lm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===tm)return 11;if(e===nm)return 14}return 2}function ti(e,t){var n=e.alternate;return n===null?(n=On(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function mu(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Lm(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ts:return $i(n.children,i,s,t);case em:o=8,i|=8;break;case Bh:return e=On(12,n,t,i|2),e.elementType=Bh,e.lanes=s,e;case zh:return e=On(13,n,t,i),e.elementType=zh,e.lanes=s,e;case Wh:return e=On(19,n,t,i),e.elementType=Wh,e.lanes=s,e;case x0:return Dc(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case S0:o=10;break e;case C0:o=9;break e;case tm:o=11;break e;case nm:o=14;break e;case $r:o=16,r=null;break e}throw Error(k(130,e==null?e:typeof e,""))}return t=On(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function $i(e,t,n,r){return e=On(7,e,r,t),e.lanes=n,e}function Dc(e,t,n,r){return e=On(22,e,r,t),e.elementType=x0,e.lanes=n,e.stateNode={isHidden:!1},e}function ph(e,t,n){return e=On(6,e,null,t),e.lanes=n,e}function mh(e,t,n){return t=On(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ox(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gf(0),this.expirationTimes=Gf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mm(e,t,n,r,i,s,o,a,l){return e=new Ox(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=On(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Em(s),e}function Vx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ws,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function vw(e){if(!e)return li;e=e._reactInternals;e:{if(is(e)!==e||e.tag!==1)throw Error(k(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(un(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(k(171))}if(e.tag===1){var n=e.type;if(un(n))return yE(e,n,t)}return t}function _w(e,t,n,r,i,s,o,a,l){return e=Mm(n,r,!0,e,i,s,o,a,l),e.context=vw(null),n=e.current,r=Jt(),i=ei(n),s=wr(r,i),s.callback=t??null,Jr(n,s,i),e.current.lanes=i,ol(e,i,r),cn(e,r),e}function kc(e,t,n,r){var i=t.current,s=Jt(),o=ei(i);return n=vw(n),t.context===null?t.context=n:t.pendingContext=n,t=wr(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Jr(i,t,o),e!==null&&(Gn(e,i,o,s),uu(e,i,o)),o}function Wu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $m(e,t){Sv(e,t),(e=e.alternate)&&Sv(e,t)}function bx(){return null}var Ew=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fm(e){this._internalRoot=e}Nc.prototype.render=Fm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(k(409));kc(e,t,null,null)};Nc.prototype.unmount=Fm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hi(function(){kc(null,e,null,null)}),t[Cr]=null}};function Nc(e){this._internalRoot=e}Nc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Y0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Br.length&&t!==0&&t<Br[n].priority;n++);Br.splice(n,0,e),n===0&&J0(e)}};function jm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Oc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cv(){}function Lx(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Wu(o);s.call(u)}}var o=_w(t,r,e,0,null,!1,!1,"",Cv);return e._reactRootContainer=o,e[Cr]=o.current,Sa(e.nodeType===8?e.parentNode:e),Hi(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Wu(l);a.call(u)}}var l=Mm(e,0,!1,null,null,!1,!1,"",Cv);return e._reactRootContainer=l,e[Cr]=l.current,Sa(e.nodeType===8?e.parentNode:e),Hi(function(){kc(t,l,n,r)}),l}function Vc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Wu(o);a.call(l)}}kc(t,o,e,i)}else o=Lx(n,t,e,i,r);return Wu(o)}Q0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ko(t.pendingLanes);n!==0&&(sm(t,n|1),cn(t,nt()),!(me&6)&&(Zs=nt()+500,yi()))}break;case 13:Hi(function(){var r=xr(e,1);if(r!==null){var i=Jt();Gn(r,e,1,i)}}),$m(e,1)}};om=function(e){if(e.tag===13){var t=xr(e,134217728);if(t!==null){var n=Jt();Gn(t,e,134217728,n)}$m(e,134217728)}};G0=function(e){if(e.tag===13){var t=ei(e),n=xr(e,t);if(n!==null){var r=Jt();Gn(n,e,t,r)}$m(e,t)}};Y0=function(){return Se};X0=function(e,t){var n=Se;try{return Se=e,t()}finally{Se=n}};ed=function(e,t,n){switch(t){case"input":if(qh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Sc(r);if(!i)throw Error(k(90));R0(r),qh(r,i)}}}break;case"textarea":D0(e,n);break;case"select":t=n.value,t!=null&&Ms(e,!!n.multiple,t,!1)}};M0=Om;$0=Hi;var Mx={usingClientEntryPoint:!1,Events:[ll,xs,Sc,b0,L0,Om]},Fo={findFiberByHostInstance:ki,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},$x={bundleType:Fo.bundleType,version:Fo.version,rendererPackageName:Fo.rendererPackageName,rendererConfig:Fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=U0(e),e===null?null:e.stateNode},findFiberByHostInstance:Fo.findFiberByHostInstance||bx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kl.isDisabled&&Kl.supportsFiber)try{Ec=Kl.inject($x),ur=Kl}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mx;Cn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jm(t))throw Error(k(200));return Vx(e,t,null,n)};Cn.createRoot=function(e,t){if(!jm(e))throw Error(k(299));var n=!1,r="",i=Ew;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Mm(e,1,!1,null,null,n,!1,r,i),e[Cr]=t.current,Sa(e.nodeType===8?e.parentNode:e),new Fm(t)};Cn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(k(188)):(e=Object.keys(e).join(","),Error(k(268,e)));return e=U0(t),e=e===null?null:e.stateNode,e};Cn.flushSync=function(e){return Hi(e)};Cn.hydrate=function(e,t,n){if(!Oc(t))throw Error(k(200));return Vc(null,e,t,!0,n)};Cn.hydrateRoot=function(e,t,n){if(!jm(e))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Ew;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=_w(t,null,e,1,n??null,i,!1,s,o),e[Cr]=t.current,Sa(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Nc(t)};Cn.render=function(e,t,n){if(!Oc(t))throw Error(k(200));return Vc(null,e,t,!1,n)};Cn.unmountComponentAtNode=function(e){if(!Oc(e))throw Error(k(40));return e._reactRootContainer?(Hi(function(){Vc(null,null,e,!1,function(){e._reactRootContainer=null,e[Cr]=null})}),!0):!1};Cn.unstable_batchedUpdates=Om;Cn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Oc(n))throw Error(k(200));if(e==null||e._reactInternals===void 0)throw Error(k(38));return Vc(e,t,n,!1,r)};Cn.version="18.2.0-next-9e3b772b8-20220608";function ww(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ww)}catch(e){console.error(e)}}ww(),_0.exports=Cn;var Oa=_0.exports;const Hl=vc(Oa);var xv=Oa;jh.createRoot=xv.createRoot,jh.hydrateRoot=xv.hydrateRoot;/**
 * @remix-run/router v1.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Va(){return Va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Va.apply(this,arguments)}var Hr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Hr||(Hr={}));const Pv="popstate";function Fx(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Od("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ku(i)}return Ux(t,n,null,e)}function ut(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Um(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jx(){return Math.random().toString(36).substr(2,8)}function Rv(e,t){return{usr:e.state,key:e.key,idx:t}}function Od(e,t,n,r){return n===void 0&&(n=null),Va({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?yo(t):t,{state:n,key:t&&t.key||r||jx()})}function Ku(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function yo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Ux(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Hr.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Va({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=Hr.Pop;let w=c(),m=w==null?null:w-u;u=w,l&&l({action:a,location:v.location,delta:m})}function h(w,m){a=Hr.Push;let p=Od(v.location,w,m);n&&n(p,w),u=c()+1;let E=Rv(p,u),I=v.createHref(p);try{o.pushState(E,"",I)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(I)}s&&l&&l({action:a,location:v.location,delta:1})}function d(w,m){a=Hr.Replace;let p=Od(v.location,w,m);n&&n(p,w),u=c();let E=Rv(p,u),I=v.createHref(p);o.replaceState(E,"",I),s&&l&&l({action:a,location:v.location,delta:0})}function y(w){let m=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof w=="string"?w:Ku(w);return ut(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let v={get action(){return a},get location(){return e(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Pv,f),l=w,()=>{i.removeEventListener(Pv,f),l=null}},createHref(w){return t(i,w)},createURL:y,encodeLocation(w){let m=y(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:d,go(w){return o.go(w)}};return v}var Av;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Av||(Av={}));function Bx(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?yo(t):t,i=Bm(r.pathname||"/",n);if(i==null)return null;let s=Tw(e);zx(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=Jx(s[a],tP(i));return o}function Tw(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ut(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ni([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(ut(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Tw(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:Yx(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Iw(s.path))i(s,o,l)}),t}function Iw(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Iw(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function zx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Xx(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Wx=/^:\w+$/,Kx=3,Hx=2,qx=1,Qx=10,Gx=-2,Dv=e=>e==="*";function Yx(e,t){let n=e.split("/"),r=n.length;return n.some(Dv)&&(r+=Gx),t&&(r+=Hx),n.filter(i=>!Dv(i)).reduce((i,s)=>i+(Wx.test(s)?Kx:s===""?qx:Qx),r)}function Xx(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Jx(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=Zx({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:ni([i,c.pathname]),pathnameBase:oP(ni([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=ni([i,c.pathnameBase]))}return s}function Zx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=eP(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:h,isOptional:d}=c;if(h==="*"){let v=a[f]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const y=a[f];return d&&!y?u[h]=void 0:u[h]=nP(y||"",h),u},{}),pathname:s,pathnameBase:o,pattern:e}}function eP(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Um(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function tP(e){try{return decodeURI(e)}catch(t){return Um(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function nP(e,t){try{return decodeURIComponent(e)}catch(n){return Um(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Bm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function rP(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?yo(e):e;return{pathname:n?n.startsWith("/")?n:iP(n,t):t,search:aP(r),hash:lP(i)}}function iP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function gh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sP(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Sw(e){return sP(e).map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function Cw(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=yo(e):(i=Va({},e),ut(!i.pathname||!i.pathname.includes("?"),gh("?","pathname","search",i)),ut(!i.pathname||!i.pathname.includes("#"),gh("#","pathname","hash",i)),ut(!i.search||!i.search.includes("#"),gh("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else if(r){let f=t[t.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f.pop();i.pathname=h.join("/")}a="/"+f.join("/")}else{let f=t.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?t[f]:"/"}let l=rP(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ni=e=>e.join("/").replace(/\/\/+/g,"/"),oP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),aP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function uP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const xw=["post","put","patch","delete"];new Set(xw);const cP=["get",...xw];new Set(cP);/**
 * React Router v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hu(){return Hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hu.apply(this,arguments)}const zm=g.createContext(null),fP=g.createContext(null),vo=g.createContext(null),bc=g.createContext(null),Nr=g.createContext({outlet:null,matches:[],isDataRoute:!1}),Pw=g.createContext(null);function hP(e,t){let{relative:n}=t===void 0?{}:t;cl()||ut(!1);let{basename:r,navigator:i}=g.useContext(vo),{hash:s,pathname:o,search:a}=Aw(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ni([r,o])),i.createHref({pathname:l,search:a,hash:s})}function cl(){return g.useContext(bc)!=null}function _o(){return cl()||ut(!1),g.useContext(bc).location}function Rw(e){g.useContext(vo).static||g.useLayoutEffect(e)}function Eo(){let{isDataRoute:e}=g.useContext(Nr);return e?PP():dP()}function dP(){cl()||ut(!1);let e=g.useContext(zm),{basename:t,navigator:n}=g.useContext(vo),{matches:r}=g.useContext(Nr),{pathname:i}=_o(),s=JSON.stringify(Sw(r)),o=g.useRef(!1);return Rw(()=>{o.current=!0}),g.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=Cw(l,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:ni([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,s,i,e])}const pP=g.createContext(null);function mP(e){let t=g.useContext(Nr).outlet;return t&&g.createElement(pP.Provider,{value:e},t)}function Wm(){let{matches:e}=g.useContext(Nr),t=e[e.length-1];return t?t.params:{}}function Aw(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=g.useContext(Nr),{pathname:i}=_o(),s=JSON.stringify(Sw(r));return g.useMemo(()=>Cw(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function gP(e,t){return yP(e,t)}function yP(e,t,n){cl()||ut(!1);let{navigator:r}=g.useContext(vo),{matches:i}=g.useContext(Nr),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=_o(),u;if(t){var c;let v=typeof t=="string"?yo(t):t;a==="/"||(c=v.pathname)!=null&&c.startsWith(a)||ut(!1),u=v}else u=l;let f=u.pathname||"/",h=a==="/"?f:f.slice(a.length)||"/",d=Bx(e,{pathname:h}),y=TP(d&&d.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:ni([a,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:ni([a,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n);return t&&y?g.createElement(bc.Provider,{value:{location:Hu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Hr.Pop}},y):y}function vP(){let e=xP(),t=uP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:i},n):null,s)}const _P=g.createElement(vP,null);class EP extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?g.createElement(Nr.Provider,{value:this.props.routeContext},g.createElement(Pw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wP(e){let{routeContext:t,match:n,children:r}=e,i=g.useContext(zm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Nr.Provider,{value:t},r)}function TP(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let s=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||ut(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,f=null;n&&(f=l.route.errorElement||_P);let h=t.concat(s.slice(0,u+1)),d=()=>{let y;return c?y=f:l.route.Component?y=g.createElement(l.route.Component,null):l.route.element?y=l.route.element:y=a,g.createElement(wP,{match:l,routeContext:{outlet:a,matches:h,isDataRoute:n!=null},children:y})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?g.createElement(EP,{location:n.location,revalidation:n.revalidation,component:f,error:c,children:d(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):d()},null)}var Dw=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Dw||{}),qu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(qu||{});function IP(e){let t=g.useContext(zm);return t||ut(!1),t}function SP(e){let t=g.useContext(fP);return t||ut(!1),t}function CP(e){let t=g.useContext(Nr);return t||ut(!1),t}function kw(e){let t=CP(),n=t.matches[t.matches.length-1];return n.route.id||ut(!1),n.route.id}function xP(){var e;let t=g.useContext(Pw),n=SP(qu.UseRouteError),r=kw(qu.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function PP(){let{router:e}=IP(Dw.UseNavigateStable),t=kw(qu.UseNavigateStable),n=g.useRef(!1);return Rw(()=>{n.current=!0}),g.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Hu({fromRouteId:t},s)))},[e,t])}function Nw(e){return mP(e.context)}function Wn(e){ut(!1)}function RP(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Hr.Pop,navigator:s,static:o=!1}=e;cl()&&ut(!1);let a=t.replace(/^\/*/,"/"),l=g.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=yo(r));let{pathname:u="/",search:c="",hash:f="",state:h=null,key:d="default"}=r,y=g.useMemo(()=>{let v=Bm(u,a);return v==null?null:{location:{pathname:v,search:c,hash:f,state:h,key:d},navigationType:i}},[a,u,c,f,h,d,i]);return y==null?null:g.createElement(vo.Provider,{value:l},g.createElement(bc.Provider,{children:n,value:y}))}function AP(e){let{children:t,location:n}=e;return gP(Vd(t),n)}new Promise(()=>{});function Vd(e,t){t===void 0&&(t=[]);let n=[];return g.Children.forEach(e,(r,i)=>{if(!g.isValidElement(r))return;let s=[...t,i];if(r.type===g.Fragment){n.push.apply(n,Vd(r.props.children,s));return}r.type!==Wn&&ut(!1),!r.props.index||!r.props.children||ut(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Vd(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bd(){return bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bd.apply(this,arguments)}function DP(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function kP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function NP(e,t){return e.button===0&&(!t||t==="_self")&&!kP(e)}const OP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],VP="startTransition",kv=AS[VP];function bP(e){let{basename:t,children:n,future:r,window:i}=e,s=g.useRef();s.current==null&&(s.current=Fx({window:i,v5Compat:!0}));let o=s.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=g.useCallback(f=>{u&&kv?kv(()=>l(f)):l(f)},[l,u]);return g.useLayoutEffect(()=>o.listen(c),[o,c]),g.createElement(RP,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o})}const LP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tr=g.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:f}=t,h=DP(t,OP),{basename:d}=g.useContext(vo),y,v=!1;if(typeof u=="string"&&MP.test(u)&&(y=u,LP))try{let E=new URL(window.location.href),I=u.startsWith("//")?new URL(E.protocol+u):new URL(u),P=Bm(I.pathname,d);I.origin===E.origin&&P!=null?u=P+I.search+I.hash:v=!0}catch{}let w=hP(u,{relative:i}),m=$P(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:f});function p(E){r&&r(E),E.defaultPrevented||m(E)}return g.createElement("a",bd({},h,{href:y||w,onClick:v||s?r:p,ref:n,target:l}))});var Nv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Nv||(Nv={}));var Ov;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ov||(Ov={}));function $P(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=t===void 0?{}:t,l=Eo(),u=_o(),c=Aw(e,{relative:o});return g.useCallback(f=>{if(NP(f,n)){f.preventDefault();let h=r!==void 0?r:Ku(u)===Ku(c);l(e,{replace:h,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,e,s,o,a])}var Vv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},FP=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Vw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,d=u&63;l||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ow(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):FP(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new jP;const h=s<<2|a>>4;if(r.push(h),u!==64){const d=a<<4&240|u>>2;if(r.push(d),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class jP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UP=function(e){const t=Ow(e);return Vw.encodeByteArray(t,!0)},Qu=function(e){return UP(e).replace(/\./g,"")},BP=function(e){try{return Vw.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=()=>zP().__FIREBASE_DEFAULTS__,KP=()=>{if(typeof process>"u"||typeof Vv>"u")return;const e=Vv.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},HP=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&BP(e[1]);return t&&JSON.parse(t)},bw=()=>{try{return WP()||KP()||HP()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},qP=e=>{var t,n;return(n=(t=bw())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},QP=e=>{const t=qP(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Lw=()=>{var e;return(e=bw())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Qu(JSON.stringify(n)),Qu(JSON.stringify(o)),a].join(".")}function XP(){try{return typeof indexedDB=="object"}catch{return!1}}function JP(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="FirebaseError";class wo extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=ZP,Object.setPrototypeOf(this,wo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mw.prototype.create)}}class Mw{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?eR(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new wo(i,a,r)}}function eR(e,t){return e.replace(tR,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const tR=/\{\$([^}]+)}/g;function Ld(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(bv(s)&&bv(o)){if(!Ld(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function bv(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(e){return e&&e._delegate?e._delegate:e}class ba{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nR=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new GP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(iR(t))try{this.getOrInitializeService({instanceIdentifier:Ai})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Ai){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ai){return this.instances.has(t)}getOptions(t=Ai){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rR(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ai){return this.component?this.component.multipleInstances?t:Ai:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function rR(e){return e===Ai?void 0:e}function iR(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new nR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(pe||(pe={}));const oR={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},aR=pe.INFO,lR={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},uR=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=lR[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $w{constructor(t){this.name=t,this._logLevel=aR,this._logHandler=uR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in pe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?oR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...t),this._logHandler(this,pe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...t),this._logHandler(this,pe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...t),this._logHandler(this,pe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...t),this._logHandler(this,pe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...t),this._logHandler(this,pe.ERROR,...t)}}const cR=(e,t)=>t.some(n=>e instanceof n);let Lv,Mv;function fR(){return Lv||(Lv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hR(){return Mv||(Mv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fw=new WeakMap,Md=new WeakMap,jw=new WeakMap,yh=new WeakMap,Km=new WeakMap;function dR(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(ri(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Fw.set(n,e)}).catch(()=>{}),Km.set(t,e),t}function pR(e){if(Md.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Md.set(e,t)}let $d={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Md.get(e);if(t==="objectStoreNames")return e.objectStoreNames||jw.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ri(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function mR(e){$d=e($d)}function gR(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(vh(this),t,...n);return jw.set(r,t.sort?t.sort():[t]),ri(r)}:hR().includes(e)?function(...t){return e.apply(vh(this),t),ri(Fw.get(this))}:function(...t){return ri(e.apply(vh(this),t))}}function yR(e){return typeof e=="function"?gR(e):(e instanceof IDBTransaction&&pR(e),cR(e,fR())?new Proxy(e,$d):e)}function ri(e){if(e instanceof IDBRequest)return dR(e);if(yh.has(e))return yh.get(e);const t=yR(e);return t!==e&&(yh.set(e,t),Km.set(t,e)),t}const vh=e=>Km.get(e);function vR(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=ri(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ri(o.result),l.oldVersion,l.newVersion,ri(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const _R=["get","getKey","getAll","getAllKeys","count"],ER=["put","add","delete","clear"],_h=new Map;function $v(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(_h.get(t))return _h.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ER.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_R.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return _h.set(t,s),s}mR(e=>({...e,get:(t,n,r)=>$v(t,n)||e.get(t,n,r),has:(t,n)=>!!$v(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function TR(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Fd="@firebase/app",Fv="0.9.24";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new $w("@firebase/app"),IR="@firebase/app-compat",SR="@firebase/analytics-compat",CR="@firebase/analytics",xR="@firebase/app-check-compat",PR="@firebase/app-check",RR="@firebase/auth",AR="@firebase/auth-compat",DR="@firebase/database",kR="@firebase/database-compat",NR="@firebase/functions",OR="@firebase/functions-compat",VR="@firebase/installations",bR="@firebase/installations-compat",LR="@firebase/messaging",MR="@firebase/messaging-compat",$R="@firebase/performance",FR="@firebase/performance-compat",jR="@firebase/remote-config",UR="@firebase/remote-config-compat",BR="@firebase/storage",zR="@firebase/storage-compat",WR="@firebase/firestore",KR="@firebase/firestore-compat",HR="firebase",qR="10.7.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="[DEFAULT]",QR={[Fd]:"fire-core",[IR]:"fire-core-compat",[CR]:"fire-analytics",[SR]:"fire-analytics-compat",[PR]:"fire-app-check",[xR]:"fire-app-check-compat",[RR]:"fire-auth",[AR]:"fire-auth-compat",[DR]:"fire-rtdb",[kR]:"fire-rtdb-compat",[NR]:"fire-fn",[OR]:"fire-fn-compat",[VR]:"fire-iid",[bR]:"fire-iid-compat",[LR]:"fire-fcm",[MR]:"fire-fcm-compat",[$R]:"fire-perf",[FR]:"fire-perf-compat",[jR]:"fire-rc",[UR]:"fire-rc-compat",[BR]:"fire-gcs",[zR]:"fire-gcs-compat",[WR]:"fire-fst",[KR]:"fire-fst-compat","fire-js":"fire-js",[HR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=new Map,Ud=new Map;function GR(e,t){try{e.container.addComponent(t)}catch(n){qi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Yu(e){const t=e.name;if(Ud.has(t))return qi.debug(`There were multiple attempts to register component ${t}.`),!1;Ud.set(t,e);for(const n of Gu.values())GR(n,e);return!0}function YR(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ii=new Mw("app","Firebase",XR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=qR;function Uw(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:jd,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw ii.create("bad-app-name",{appName:String(i)});if(n||(n=Lw()),!n)throw ii.create("no-options");const s=Gu.get(i);if(s){if(Ld(n,s.options)&&Ld(r,s.config))return s;throw ii.create("duplicate-app",{appName:i})}const o=new sR(i);for(const l of Ud.values())o.addComponent(l);const a=new JR(n,r,o);return Gu.set(i,a),a}function eA(e=jd){const t=Gu.get(e);if(!t&&e===jd&&Lw())return Uw();if(!t)throw ii.create("no-app",{appName:e});return t}function zs(e,t,n){var r;let i=(r=QR[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qi.warn(a.join(" "));return}Yu(new ba(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="firebase-heartbeat-database",nA=1,La="firebase-heartbeat-store";let Eh=null;function Bw(){return Eh||(Eh=vR(tA,nA,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(La)}}}).catch(e=>{throw ii.create("idb-open",{originalErrorMessage:e.message})})),Eh}async function rA(e){try{return await(await Bw()).transaction(La).objectStore(La).get(zw(e))}catch(t){if(t instanceof wo)qi.warn(t.message);else{const n=ii.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});qi.warn(n.message)}}}async function jv(e,t){try{const r=(await Bw()).transaction(La,"readwrite");await r.objectStore(La).put(t,zw(e)),await r.done}catch(n){if(n instanceof wo)qi.warn(n.message);else{const r=ii.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qi.warn(r.message)}}}function zw(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=1024,sA=30*24*60*60*1e3;class oA{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Uv();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=sA}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Uv(),{heartbeatsToSend:r,unsentEntries:i}=aA(this._heartbeatsCache.heartbeats),s=Qu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Uv(){return new Date().toISOString().substring(0,10)}function aA(e,t=iA){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Bv(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Bv(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class lA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XP()?JP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Bv(e){return Qu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(e){Yu(new ba("platform-logger",t=>new wR(t),"PRIVATE")),Yu(new ba("heartbeat",t=>new oA(t),"PRIVATE")),zs(Fd,Fv,e),zs(Fd,Fv,"esm2017"),zs("fire-js","")}uA("");var cA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},O,Hm=Hm||{},X=cA||self;function Lc(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function fl(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function fA(e){return Object.prototype.hasOwnProperty.call(e,wh)&&e[wh]||(e[wh]=++hA)}var wh="closure_uid_"+(1e9*Math.random()>>>0),hA=0;function dA(e,t,n){return e.call.apply(e.bind,arguments)}function pA(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function jt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?jt=dA:jt=pA,jt.apply(null,arguments)}function ql(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function It(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function vi(){this.s=this.s,this.o=this.o}var mA=0;vi.prototype.s=!1;vi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),mA!=0)&&fA(this)};vi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ww=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function qm(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function zv(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Lc(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function Ut(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ut.prototype.h=function(){this.defaultPrevented=!0};var gA=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};X.addEventListener("test",n,t),X.removeEventListener("test",n,t)}catch{}return e}();function Ma(e){return/^[\s\xa0]*$/.test(e)}function Mc(){var e=X.navigator;return e&&(e=e.userAgent)?e:""}function or(e){return Mc().indexOf(e)!=-1}function Qm(e){return Qm[" "](e),e}Qm[" "]=function(){};function yA(e,t){var n=uD;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var vA=or("Opera"),eo=or("Trident")||or("MSIE"),Kw=or("Edge"),Bd=Kw||eo,Hw=or("Gecko")&&!(Mc().toLowerCase().indexOf("webkit")!=-1&&!or("Edge"))&&!(or("Trident")||or("MSIE"))&&!or("Edge"),_A=Mc().toLowerCase().indexOf("webkit")!=-1&&!or("Edge");function qw(){var e=X.document;return e?e.documentMode:void 0}var zd;e:{var Th="",Ih=function(){var e=Mc();if(Hw)return/rv:([^\);]+)(\)|;)/.exec(e);if(Kw)return/Edge\/([\d\.]+)/.exec(e);if(eo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(_A)return/WebKit\/(\S+)/.exec(e);if(vA)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Ih&&(Th=Ih?Ih[1]:""),eo){var Sh=qw();if(Sh!=null&&Sh>parseFloat(Th)){zd=String(Sh);break e}}zd=Th}var Wd;if(X.document&&eo){var Wv=qw();Wd=Wv||parseInt(zd,10)||void 0}else Wd=void 0;var EA=Wd;function $a(e,t){if(Ut.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Hw){e:{try{Qm(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:wA[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&$a.$.h.call(this)}}It($a,Ut);var wA={2:"touch",3:"pen",4:"mouse"};$a.prototype.h=function(){$a.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var hl="closure_listenable_"+(1e6*Math.random()|0),TA=0;function IA(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++TA,this.fa=this.ia=!1}function $c(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Gm(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function SA(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function Qw(e){const t={};for(const n in e)t[n]=e[n];return t}const Kv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gw(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<Kv.length;s++)n=Kv[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Fc(e){this.src=e,this.g={},this.h=0}Fc.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=Hd(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new IA(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function Kd(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=Ww(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&($c(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Hd(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var Ym="closure_lm_"+(1e6*Math.random()|0),Ch={};function Yw(e,t,n,r,i){if(r&&r.once)return Jw(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Yw(e,t[s],n,r,i);return null}return n=Zm(n),e&&e[hl]?e.O(t,n,fl(r)?!!r.capture:!!r,i):Xw(e,t,n,!1,r,i)}function Xw(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=fl(i)?!!i.capture:!!i,a=Jm(e);if(a||(e[Ym]=a=new Fc(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=CA(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)gA||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(e1(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function CA(){function e(n){return t.call(e.src,e.listener,n)}const t=xA;return e}function Jw(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Jw(e,t[s],n,r,i);return null}return n=Zm(n),e&&e[hl]?e.P(t,n,fl(r)?!!r.capture:!!r,i):Xw(e,t,n,!0,r,i)}function Zw(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Zw(e,t[s],n,r,i);else r=fl(r)?!!r.capture:!!r,n=Zm(n),e&&e[hl]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Hd(s,n,r,i),-1<n&&($c(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Jm(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Hd(t,n,r,i)),(n=-1<e?t[e]:null)&&Xm(n))}function Xm(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[hl])Kd(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(e1(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Jm(t))?(Kd(n,e),n.h==0&&(n.src=null,t[Ym]=null)):$c(e)}}}function e1(e){return e in Ch?Ch[e]:Ch[e]="on"+e}function xA(e,t){if(e.fa)e=!0;else{t=new $a(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Xm(e),e=n.call(r,t)}return e}function Jm(e){return e=e[Ym],e instanceof Fc?e:null}var xh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zm(e){return typeof e=="function"?e:(e[xh]||(e[xh]=function(t){return e.handleEvent(t)}),e[xh])}function Tt(){vi.call(this),this.i=new Fc(this),this.S=this,this.J=null}It(Tt,vi);Tt.prototype[hl]=!0;Tt.prototype.removeEventListener=function(e,t,n,r){Zw(this,e,t,n,r)};function kt(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new Ut(t,e);else if(t instanceof Ut)t.target=t.target||e;else{var i=t;t=new Ut(r,e),Gw(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Ql(o,r,!0,t)&&i}if(o=t.g=e,i=Ql(o,r,!0,t)&&i,i=Ql(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Ql(o,r,!1,t)&&i}Tt.prototype.N=function(){if(Tt.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)$c(n[r]);delete e.g[t],e.h--}}this.J=null};Tt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Tt.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Ql(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Kd(e.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var eg=X.JSON.stringify;class PA{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function RA(){var e=tg;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class AA{constructor(){this.h=this.g=null}add(t,n){const r=t1.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var t1=new PA(()=>new DA,e=>e.reset());class DA{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function kA(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function NA(e){X.setTimeout(()=>{throw e},0)}let Fa,ja=!1,tg=new AA,n1=()=>{const e=X.Promise.resolve(void 0);Fa=()=>{e.then(OA)}};var OA=()=>{for(var e;e=RA();){try{e.h.call(e.g)}catch(n){NA(n)}var t=t1;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ja=!1};function jc(e,t){Tt.call(this),this.h=e||1,this.g=t||X,this.j=jt(this.qb,this),this.l=Date.now()}It(jc,Tt);O=jc.prototype;O.ga=!1;O.T=null;O.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),kt(this,"tick"),this.ga&&(ng(this),this.start()))}};O.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ng(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}O.N=function(){jc.$.N.call(this),ng(this),delete this.g};function rg(e,t,n){if(typeof e=="function")n&&(e=jt(e,n));else if(e&&typeof e.handleEvent=="function")e=jt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:X.setTimeout(e,t||0)}function r1(e){e.g=rg(()=>{e.g=null,e.i&&(e.i=!1,r1(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class VA extends vi{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:r1(this)}N(){super.N(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ua(e){vi.call(this),this.h=e,this.g={}}It(Ua,vi);var Hv=[];function i1(e,t,n,r){Array.isArray(n)||(n&&(Hv[0]=n.toString()),n=Hv);for(var i=0;i<n.length;i++){var s=Yw(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function s1(e){Gm(e.g,function(t,n){this.g.hasOwnProperty(n)&&Xm(t)},e),e.g={}}Ua.prototype.N=function(){Ua.$.N.call(this),s1(this)};Ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Uc(){this.g=!0}Uc.prototype.Ea=function(){this.g=!1};function bA(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function LA(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function Os(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+$A(e,n)+(r?" "+r:"")})}function MA(e,t){e.info(function(){return"TIMEOUT: "+t})}Uc.prototype.info=function(){};function $A(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return eg(n)}catch{return t}}var ss={},qv=null;function Bc(){return qv=qv||new Tt}ss.Ta="serverreachability";function o1(e){Ut.call(this,ss.Ta,e)}It(o1,Ut);function Ba(e){const t=Bc();kt(t,new o1(t))}ss.STAT_EVENT="statevent";function a1(e,t){Ut.call(this,ss.STAT_EVENT,e),this.stat=t}It(a1,Ut);function Xt(e){const t=Bc();kt(t,new a1(t,e))}ss.Ua="timingevent";function l1(e,t){Ut.call(this,ss.Ua,e),this.size=t}It(l1,Ut);function dl(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){e()},t)}var zc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},u1={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ig(){}ig.prototype.h=null;function Qv(e){return e.h||(e.h=e.i())}function c1(){}var pl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function sg(){Ut.call(this,"d")}It(sg,Ut);function og(){Ut.call(this,"c")}It(og,Ut);var qd;function Wc(){}It(Wc,ig);Wc.prototype.g=function(){return new XMLHttpRequest};Wc.prototype.i=function(){return{}};qd=new Wc;function ml(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Ua(this),this.P=FA,e=Bd?125:void 0,this.V=new jc(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new f1}function f1(){this.i=null,this.g="",this.h=!1}var FA=45e3,h1={},Qd={};O=ml.prototype;O.setTimeout=function(e){this.P=e};function Gd(e,t,n){e.L=1,e.A=Hc(Rr(t)),e.u=n,e.S=!0,d1(e,null)}function d1(e,t){e.G=Date.now(),gl(e),e.B=Rr(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),w1(n.i,"t",r),e.o=0,n=e.l.J,e.h=new f1,e.g=B1(e.l,n?t:null,!e.u),0<e.O&&(e.M=new VA(jt(e.Pa,e,e.g),e.O)),i1(e.U,e.g,"readystatechange",e.nb),t=e.I?Qw(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Ba(),bA(e.j,e.v,e.B,e.m,e.W,e.u)}O.nb=function(e){e=e.target;const t=this.M;t&&ar(e)==3?t.l():this.Pa(e)};O.Pa=function(e){try{if(e==this.g)e:{const c=ar(this.g);var t=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||Bd||this.g&&(this.h.h||this.g.ja()||Jv(this.g)))){this.J||c!=4||t==7||(t==8||0>=f?Ba(3):Ba(2)),Kc(this);var n=this.g.da();this.ca=n;t:if(p1(this)){var r=Jv(this.g);e="";var i=r.length,s=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vi(this),ua(this);var o="";break t}this.h.i=new X.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,LA(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ma(a)){var u=a;break t}}u=null}if(n=u)Os(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yd(this,n);else{this.i=!1,this.s=3,Xt(12),Vi(this),ua(this);break e}}this.S?(m1(this,c,o),Bd&&this.i&&c==3&&(i1(this.U,this.V,"tick",this.mb),this.V.start())):(Os(this.j,this.m,o,null),Yd(this,o)),c==4&&Vi(this),this.i&&!this.J&&(c==4?$1(this.l,this):(this.i=!1,gl(this)))}else oD(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Xt(12)):(this.s=0,Xt(13)),Vi(this),ua(this)}}}catch{}finally{}};function p1(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function m1(e,t,n){let r=!0,i;for(;!e.J&&e.o<n.length;)if(i=jA(e,n),i==Qd){t==4&&(e.s=4,Xt(14),r=!1),Os(e.j,e.m,null,"[Incomplete Response]");break}else if(i==h1){e.s=4,Xt(15),Os(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Os(e.j,e.m,i,null),Yd(e,i);p1(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,Xt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),hg(t),t.M=!0,Xt(11))):(Os(e.j,e.m,n,"[Invalid Chunked Response]"),Vi(e),ua(e))}O.mb=function(){if(this.g){var e=ar(this.g),t=this.g.ja();this.o<t.length&&(Kc(this),m1(this,e,t),this.i&&e!=4&&gl(this))}};function jA(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?Qd:(n=Number(t.substring(n,r)),isNaN(n)?h1:(r+=1,r+n>t.length?Qd:(t=t.slice(r,r+n),e.o=r+n,t)))}O.cancel=function(){this.J=!0,Vi(this)};function gl(e){e.Y=Date.now()+e.P,g1(e,e.P)}function g1(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=dl(jt(e.lb,e),t)}function Kc(e){e.C&&(X.clearTimeout(e.C),e.C=null)}O.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(MA(this.j,this.B),this.L!=2&&(Ba(),Xt(17)),Vi(this),this.s=2,ua(this)):g1(this,this.Y-e)};function ua(e){e.l.H==0||e.J||$1(e.l,e)}function Vi(e){Kc(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,ng(e.V),s1(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Yd(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||Xd(n.i,e))){if(!e.K&&Xd(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Zu(n),Yc(n);else break e;fg(n),Xt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=dl(jt(n.ib,n),6e3));if(1>=S1(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else bi(n,11)}else if((e.K||n.g==e)&&Zu(n),!Ma(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const f=u[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const y=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.i;s.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(ag(s,s.h),s.h=null))}if(r.F){const v=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,Me(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=U1(r,r.J?r.pa:null,r.Y),o.K){C1(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Kc(a),gl(a)),r.g=o}else L1(r);0<n.j.length&&Xc(n)}else u[0]!="stop"&&u[0]!="close"||bi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?bi(n,7):cg(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ba(4)}catch{}}function UA(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Lc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function BA(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Lc(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function y1(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Lc(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=BA(e),r=UA(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var v1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zA(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Fi(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Fi){this.h=e.h,Xu(this,e.j),this.s=e.s,this.g=e.g,Ju(this,e.m),this.l=e.l;var t=e.i,n=new za;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Gv(this,n),this.o=e.o}else e&&(t=String(e).match(v1))?(this.h=!1,Xu(this,t[1]||"",!0),this.s=qo(t[2]||""),this.g=qo(t[3]||"",!0),Ju(this,t[4]),this.l=qo(t[5]||"",!0),Gv(this,t[6]||"",!0),this.o=qo(t[7]||"")):(this.h=!1,this.i=new za(null,this.h))}Fi.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Qo(t,Yv,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Qo(t,Yv,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Qo(n,n.charAt(0)=="/"?HA:KA,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Qo(n,QA)),e.join("")};function Rr(e){return new Fi(e)}function Xu(e,t,n){e.j=n?qo(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ju(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Gv(e,t,n){t instanceof za?(e.i=t,GA(e.i,e.h)):(n||(t=Qo(t,qA)),e.i=new za(t,e.h))}function Me(e,t,n){e.i.set(t,n)}function Hc(e){return Me(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function qo(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Qo(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,WA),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function WA(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Yv=/[#\/\?@]/g,KA=/[#\?:]/g,HA=/[#\?]/g,qA=/[#\?@]/g,QA=/#/g;function za(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _i(e){e.g||(e.g=new Map,e.h=0,e.i&&zA(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}O=za.prototype;O.add=function(e,t){_i(this),this.i=null,e=To(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function _1(e,t){_i(e),t=To(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function E1(e,t){return _i(e),t=To(e,t),e.g.has(t)}O.forEach=function(e,t){_i(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};O.ta=function(){_i(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};O.Z=function(e){_i(this);let t=[];if(typeof e=="string")E1(this,e)&&(t=t.concat(this.g.get(To(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};O.set=function(e,t){return _i(this),this.i=null,e=To(this,e),E1(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};O.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function w1(e,t,n){_1(e,t),0<n.length&&(e.i=null,e.g.set(To(e,t),qm(n)),e.h+=n.length)}O.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function To(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function GA(e,t){t&&!e.j&&(_i(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(_1(this,r),w1(this,i,n))},e)),e.j=t}var YA=class{constructor(e,t){this.g=e,this.map=t}};function T1(e){this.l=e||XA,X.PerformanceNavigationTiming?(e=X.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(X.g&&X.g.Ka&&X.g.Ka()&&X.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var XA=10;function I1(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function S1(e){return e.h?1:e.g?e.g.size:0}function Xd(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function ag(e,t){e.g?e.g.add(t):e.h=t}function C1(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}T1.prototype.cancel=function(){if(this.i=x1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function x1(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return qm(e.i)}var JA=class{stringify(e){return X.JSON.stringify(e,void 0)}parse(e){return X.JSON.parse(e,void 0)}};function ZA(){this.g=new JA}function eD(e,t,n){const r=n||"";try{y1(e,function(i,s){let o=i;fl(i)&&(o=eg(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function tD(e,t){const n=new Uc;if(X.Image){const r=new Image;r.onload=ql(Gl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ql(Gl,n,r,"TestLoadImage: error",!1,t),r.onabort=ql(Gl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ql(Gl,n,r,"TestLoadImage: timeout",!1,t),X.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Gl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function qc(e){this.l=e.ec||null,this.j=e.ob||!1}It(qc,ig);qc.prototype.g=function(){return new Qc(this.l,this.j)};qc.prototype.i=function(e){return function(){return e}}({});function Qc(e,t){Tt.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=lg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}It(Qc,Tt);var lg=0;O=Qc.prototype;O.open=function(e,t){if(this.readyState!=lg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Wa(this)};O.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||X).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};O.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yl(this)),this.readyState=lg};O.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Wa(this)),this.g&&(this.readyState=3,Wa(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof X.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;P1(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function P1(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}O.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?yl(this):Wa(this),this.readyState==3&&P1(this)}};O.Za=function(e){this.g&&(this.response=this.responseText=e,yl(this))};O.Ya=function(e){this.g&&(this.response=e,yl(this))};O.ka=function(){this.g&&yl(this)};function yl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Wa(e)}O.setRequestHeader=function(e,t){this.v.append(e,t)};O.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};O.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Wa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Qc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var nD=X.JSON.parse;function et(e){Tt.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=R1,this.L=this.M=!1}It(et,Tt);var R1="",rD=/^https?$/i,iD=["POST","PUT"];O=et.prototype;O.Oa=function(e){this.M=e};O.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():qd.g(),this.C=this.u?Qv(this.u):Qv(qd),this.g.onreadystatechange=jt(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){Xv(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=X.FormData&&e instanceof X.FormData,!(0<=Ww(iD,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{k1(this),0<this.B&&((this.L=sD(this.g))?(this.g.timeout=this.B,this.g.ontimeout=jt(this.ua,this)):this.A=rg(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Xv(this,s)}};function sD(e){return eo&&typeof e.timeout=="number"&&e.ontimeout!==void 0}O.ua=function(){typeof Hm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kt(this,"timeout"),this.abort(8))};function Xv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,A1(e),Gc(e)}function A1(e){e.F||(e.F=!0,kt(e,"complete"),kt(e,"error"))}O.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,kt(this,"complete"),kt(this,"abort"),Gc(this))};O.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gc(this,!0)),et.$.N.call(this)};O.La=function(){this.s||(this.G||this.v||this.l?D1(this):this.kb())};O.kb=function(){D1(this)};function D1(e){if(e.h&&typeof Hm<"u"&&(!e.C[1]||ar(e)!=4||e.da()!=2)){if(e.v&&ar(e)==4)rg(e.La,0,e);else if(kt(e,"readystatechange"),ar(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(v1)[1]||null;!i&&X.self&&X.self.location&&(i=X.self.location.protocol.slice(0,-1)),r=!rD.test(i?i.toLowerCase():"")}n=r}if(n)kt(e,"complete"),kt(e,"success");else{e.m=6;try{var s=2<ar(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",A1(e)}}finally{Gc(e)}}}}function Gc(e,t){if(e.g){k1(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||kt(e,"ready");try{n.onreadystatechange=r}catch{}}}function k1(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(X.clearTimeout(e.A),e.A=null)}O.isActive=function(){return!!this.g};function ar(e){return e.g?e.g.readyState:0}O.da=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}};O.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};O.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),nD(t)}};function Jv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case R1:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function oD(e){const t={};e=(e.g&&2<=ar(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(Ma(e[r]))continue;var n=kA(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}SA(t,function(r){return r.join(", ")})}O.Ia=function(){return this.m};O.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function N1(e){let t="";return Gm(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function ug(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=N1(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Me(e,t,n))}function jo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function O1(e){this.Ga=0,this.j=[],this.l=new Uc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=jo("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=jo("baseRetryDelayMs",5e3,e),this.hb=jo("retryDelaySeedMs",1e4,e),this.eb=jo("forwardChannelMaxRetries",2,e),this.xa=jo("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new T1(e&&e.concurrentRequestLimit),this.Ja=new ZA,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}O=O1.prototype;O.ra=8;O.H=1;function cg(e){if(V1(e),e.H==3){var t=e.W++,n=Rr(e.I);if(Me(n,"SID",e.K),Me(n,"RID",t),Me(n,"TYPE","terminate"),vl(e,n),t=new ml(e,e.l,t),t.L=2,t.A=Hc(Rr(n)),n=!1,X.navigator&&X.navigator.sendBeacon)try{n=X.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&X.Image&&(new Image().src=t.A,n=!0),n||(t.g=B1(t.l,null),t.g.ha(t.A)),t.G=Date.now(),gl(t)}j1(e)}function Yc(e){e.g&&(hg(e),e.g.cancel(),e.g=null)}function V1(e){Yc(e),e.u&&(X.clearTimeout(e.u),e.u=null),Zu(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&X.clearTimeout(e.m),e.m=null)}function Xc(e){if(!I1(e.i)&&!e.m){e.m=!0;var t=e.Na;Fa||n1(),ja||(Fa(),ja=!0),tg.add(t,e),e.C=0}}function aD(e,t){return S1(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=dl(jt(e.Na,e,t),F1(e,e.C)),e.C++,!0)}O.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new ml(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Qw(s),Gw(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=b1(this,i,t),n=Rr(this.I),Me(n,"RID",e),Me(n,"CVER",22),this.F&&Me(n,"X-HTTP-Session-Id",this.F),vl(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(N1(s)))+"&"+t:this.o&&ug(n,this.o,s)),ag(this.i,i),this.bb&&Me(n,"TYPE","init"),this.P?(Me(n,"$req",t),Me(n,"SID","null"),i.aa=!0,Gd(i,n,null)):Gd(i,n,t),this.H=2}}else this.H==3&&(e?Zv(this,e):this.j.length==0||I1(this.i)||Zv(this))};function Zv(e,t){var n;t?n=t.m:n=e.W++;const r=Rr(e.I);Me(r,"SID",e.K),Me(r,"RID",n),Me(r,"AID",e.V),vl(e,r),e.o&&e.s&&ug(r,e.o,e.s),n=new ml(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=b1(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),ag(e.i,n),Gd(n,r,t)}function vl(e,t){e.na&&Gm(e.na,function(n,r){Me(t,r,n)}),e.h&&y1({},function(n,r){Me(t,r,n)})}function b1(e,t,n){n=Math.min(e.j.length,n);var r=e.h?jt(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{eD(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function L1(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Fa||n1(),ja||(Fa(),ja=!0),tg.add(t,e),e.A=0}}function fg(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=dl(jt(e.Ma,e),F1(e,e.A)),e.A++,!0)}O.Ma=function(){if(this.u=null,M1(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=dl(jt(this.jb,this),e)}};O.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xt(10),Yc(this),M1(this))};function hg(e){e.B!=null&&(X.clearTimeout(e.B),e.B=null)}function M1(e){e.g=new ml(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Rr(e.wa);Me(t,"RID","rpc"),Me(t,"SID",e.K),Me(t,"AID",e.V),Me(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Me(t,"TO",e.qa),Me(t,"TYPE","xmlhttp"),vl(e,t),e.o&&e.s&&ug(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Hc(Rr(t)),n.u=null,n.S=!0,d1(n,e)}O.ib=function(){this.v!=null&&(this.v=null,Yc(this),fg(this),Xt(19))};function Zu(e){e.v!=null&&(X.clearTimeout(e.v),e.v=null)}function $1(e,t){var n=null;if(e.g==t){Zu(e),hg(e),e.g=null;var r=2}else if(Xd(e.i,t))n=t.F,C1(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;r=Bc(),kt(r,new l1(r,n)),Xc(e)}else L1(e);else if(i=t.s,i==3||i==0&&0<t.ca||!(r==1&&aD(e,t)||r==2&&fg(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:bi(e,5);break;case 4:bi(e,10);break;case 3:bi(e,6);break;default:bi(e,2)}}}function F1(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function bi(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=jt(e.pb,e);n||(n=new Fi("//www.google.com/images/cleardot.gif"),X.location&&X.location.protocol=="http"||Xu(n,"https"),Hc(n)),tD(n.toString(),r)}else Xt(2);e.H=0,e.h&&e.h.za(t),j1(e),V1(e)}O.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Xt(2)):(this.l.info("Failed to ping google.com"),Xt(1))};function j1(e){if(e.H=0,e.ma=[],e.h){const t=x1(e.i);(t.length!=0||e.j.length!=0)&&(zv(e.ma,t),zv(e.ma,e.j),e.i.i.length=0,qm(e.j),e.j.length=0),e.h.ya()}}function U1(e,t,n){var r=n instanceof Fi?Rr(n):new Fi(n);if(r.g!="")t&&(r.g=t+"."+r.g),Ju(r,r.m);else{var i=X.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Fi(null);r&&Xu(s,r),t&&(s.g=t),i&&Ju(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Me(r,n,t),Me(r,"VER",e.ra),vl(e,r),r}function B1(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new et(new qc({ob:n})):new et(e.va),t.Oa(e.J),t}O.isActive=function(){return!!this.h&&this.h.isActive(this)};function z1(){}O=z1.prototype;O.Ba=function(){};O.Aa=function(){};O.za=function(){};O.ya=function(){};O.isActive=function(){return!0};O.Va=function(){};function ec(){if(eo&&!(10<=Number(EA)))throw Error("Environmental error: no available transport.")}ec.prototype.g=function(e,t){return new Sn(e,t)};function Sn(e,t){Tt.call(this),this.g=new O1(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ma(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ma(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Io(this)}It(Sn,Tt);Sn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Xt(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=U1(e,null,e.Y),Xc(e)};Sn.prototype.close=function(){cg(this.g)};Sn.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=eg(e),e=n);t.j.push(new YA(t.fb++,e)),t.H==3&&Xc(t)};Sn.prototype.N=function(){this.g.h=null,delete this.j,cg(this.g),delete this.g,Sn.$.N.call(this)};function W1(e){sg.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}It(W1,sg);function K1(){og.call(this),this.status=1}It(K1,og);function Io(e){this.g=e}It(Io,z1);Io.prototype.Ba=function(){kt(this.g,"a")};Io.prototype.Aa=function(e){kt(this.g,new W1(e))};Io.prototype.za=function(e){kt(this.g,new K1)};Io.prototype.ya=function(){kt(this.g,"b")};function lD(){this.blockSize=-1}function Zn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}It(Zn,lD);Zn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ph(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}Zn.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)Ph(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Ph(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Ph(this,r),i=0;break}}this.h=i,this.i+=t};Zn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function Ce(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var uD={};function dg(e){return-128<=e&&128>e?yA(e,function(t){return new Ce([t|0],0>t?-1:0)}):new Ce([e|0],0>e?-1:0)}function lr(e){if(isNaN(e)||!isFinite(e))return Ws;if(0>e)return Pt(lr(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Jd;return new Ce(t,0)}function H1(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Pt(H1(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=lr(Math.pow(t,8)),r=Ws,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=lr(Math.pow(t,s)),r=r.R(s).add(lr(o))):(r=r.R(n),r=r.add(lr(o)))}return r}var Jd=4294967296,Ws=dg(0),Zd=dg(1),e_=dg(16777216);O=Ce.prototype;O.ea=function(){if(Nn(this))return-Pt(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Jd+r)*t,t*=Jd}return e};O.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Er(this))return"0";if(Nn(this))return"-"+Pt(this).toString(e);for(var t=lr(Math.pow(e,6)),n=this,r="";;){var i=nc(n,t).g;n=tc(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,Er(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};O.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Er(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Nn(e){return e.h==-1}O.X=function(e){return e=tc(this,e),Nn(e)?-1:Er(e)?0:1};function Pt(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Ce(n,~e.h).add(Zd)}O.abs=function(){return Nn(this)?Pt(this):this};O.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ce(n,n[n.length-1]&-2147483648?-1:0)};function tc(e,t){return e.add(Pt(t))}O.R=function(e){if(Er(this)||Er(e))return Ws;if(Nn(this))return Nn(e)?Pt(this).R(Pt(e)):Pt(Pt(this).R(e));if(Nn(e))return Pt(this.R(Pt(e)));if(0>this.X(e_)&&0>e.X(e_))return lr(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,l=e.D(i)&65535;n[2*r+2*i]+=o*l,Yl(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Yl(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Yl(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Yl(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Ce(n,0)};function Yl(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Uo(e,t){this.g=e,this.h=t}function nc(e,t){if(Er(t))throw Error("division by zero");if(Er(e))return new Uo(Ws,Ws);if(Nn(e))return t=nc(Pt(e),t),new Uo(Pt(t.g),Pt(t.h));if(Nn(t))return t=nc(e,Pt(t)),new Uo(Pt(t.g),t.h);if(30<e.g.length){if(Nn(e)||Nn(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Zd,r=t;0>=r.X(e);)n=t_(n),r=t_(r);var i=ms(n,1),s=ms(r,1);for(r=ms(r,2),n=ms(n,2);!Er(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=ms(r,1),n=ms(n,1)}return t=tc(e,i.R(t)),new Uo(i,t)}for(i=Ws;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=lr(n),o=s.R(t);Nn(o)||0<o.X(e);)n-=r,s=lr(n),o=s.R(t);Er(s)&&(s=Zd),i=i.add(s),e=tc(e,o)}return new Uo(i,e)}O.gb=function(e){return nc(this,e).h};O.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Ce(n,this.h&e.h)};O.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Ce(n,this.h|e.h)};O.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Ce(n,this.h^e.h)};function t_(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Ce(n,e.h)}function ms(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Ce(i,e.h)}ec.prototype.createWebChannel=ec.prototype.g;Sn.prototype.send=Sn.prototype.u;Sn.prototype.open=Sn.prototype.m;Sn.prototype.close=Sn.prototype.close;zc.NO_ERROR=0;zc.TIMEOUT=8;zc.HTTP_ERROR=6;u1.COMPLETE="complete";c1.EventType=pl;pl.OPEN="a";pl.CLOSE="b";pl.ERROR="c";pl.MESSAGE="d";Tt.prototype.listen=Tt.prototype.O;et.prototype.listenOnce=et.prototype.P;et.prototype.getLastError=et.prototype.Sa;et.prototype.getLastErrorCode=et.prototype.Ia;et.prototype.getStatus=et.prototype.da;et.prototype.getResponseJson=et.prototype.Wa;et.prototype.getResponseText=et.prototype.ja;et.prototype.send=et.prototype.ha;et.prototype.setWithCredentials=et.prototype.Oa;Zn.prototype.digest=Zn.prototype.l;Zn.prototype.reset=Zn.prototype.reset;Zn.prototype.update=Zn.prototype.j;Ce.prototype.add=Ce.prototype.add;Ce.prototype.multiply=Ce.prototype.R;Ce.prototype.modulo=Ce.prototype.gb;Ce.prototype.compare=Ce.prototype.X;Ce.prototype.toNumber=Ce.prototype.ea;Ce.prototype.toString=Ce.prototype.toString;Ce.prototype.getBits=Ce.prototype.D;Ce.fromNumber=lr;Ce.fromString=H1;var cD=function(){return new ec},fD=function(){return Bc()},Rh=zc,hD=u1,dD=ss,n_={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Xl=c1,pD=et,mD=Zn,Ks=Ce;const r_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let So="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new $w("@firebase/firestore");function Bo(){return Qi.logLevel}function U(e,...t){if(Qi.logLevel<=pe.DEBUG){const n=t.map(pg);Qi.debug(`Firestore (${So}): ${e}`,...n)}}function Ar(e,...t){if(Qi.logLevel<=pe.ERROR){const n=t.map(pg);Qi.error(`Firestore (${So}): ${e}`,...n)}}function to(e,...t){if(Qi.logLevel<=pe.WARN){const n=t.map(pg);Qi.warn(`Firestore (${So}): ${e}`,...n)}}function pg(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(e="Unexpected state"){const t=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: `+e;throw Ar(t),new Error(t)}function be(e,t){e||Y()}function ee(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends wo{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class gD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class yD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vD{constructor(t){this.t=t,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ir,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ir)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string"),new q1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return be(t===null||typeof t=="string"),new Mt(t)}}class _D{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ED{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new _D(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wD{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TD{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,U("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(be(typeof n.token=="string"),this.R=n.token,new wD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=ID(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function ve(e,t){return e<t?-1:e>t?1:0}function no(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new $(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new $(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new $(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return gt.fromMillis(Date.now())}static fromDate(t){return gt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new gt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ve(this.nanoseconds,t.nanoseconds):ve(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Z(t)}static min(){return new Z(new gt(0,0))}static max(){return new Z(new gt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t,n,r){n===void 0?n=0:n>t.length&&Y(),r===void 0?r=t.length-n:r>t.length-n&&Y(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ka.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ka?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class $e extends Ka{construct(t,n,r){return new $e(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new $(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const SD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends Ka{construct(t,n,r){return new At(t,n,r)}static isValidIdentifier(t){return SD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new At(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new $(x.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new $(x.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new $(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new $(x.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.path=t}static fromPath(t){return new K($e.fromString(t))}static fromName(t){return new K($e.fromString(t).popFirst(5))}static empty(){return new K($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&$e.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return $e.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new K(new $e(t.slice()))}}function CD(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new ui(i,K.empty(),t)}function xD(e){return new ui(e.readTime,e.key,-1)}class ui{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new ui(Z.min(),K.empty(),-1)}static max(){return new ui(Z.max(),K.empty(),-1)}}function PD(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=K.comparator(e.documentKey,t.documentKey),n!==0?n:ve(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(e){if(e.code!==x.FAILED_PRECONDITION||e.message!==RD)throw e;U("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new A((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof A?n:A.resolve(n)}catch(n){return A.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):A.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):A.reject(n)}static resolve(t){return new A((n,r)=>{n(t)})}static reject(t){return new A((n,r)=>{r(t)})}static waitFor(t){return new A((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=A.resolve(!1);for(const r of t)n=n.next(i=>i?A.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new A((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new A((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function El(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}mg._e=-1;function Jc(e){return e==null}function rc(e){return e===0&&1/e==-1/0}function DD(e){return typeof e=="number"&&Number.isInteger(e)&&!rc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function os(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function G1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,n){this.comparator=t,this.root=n||xt.EMPTY}insert(t,n){return new Xe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,xt.BLACK,null,null))}remove(t){return new Xe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Jl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Jl(this.root,t,this.comparator,!1)}getReverseIterator(){return new Jl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Jl(this.root,t,this.comparator,!0)}}class Jl{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class xt{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??xt.RED,this.left=i??xt.EMPTY,this.right=s??xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new xt(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return xt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();const t=this.left.check();if(t!==this.right.check())throw Y();return t+(this.isRed()?0:1)}}xt.EMPTY=null,xt.RED=!0,xt.BLACK=!1;xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(t,n,r,i,s){return this}insert(t,n,r){return new xt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(t){this.comparator=t,this.data=new Xe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new s_(this.data.getIterator())}getIteratorFrom(t){return new s_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Nt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Nt(this.comparator);return n.data=t,n}}class s_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.fields=t,t.sort(At.comparator)}static empty(){return new _n([])}unionWith(t){let n=new Nt(At.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new _n(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return no(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Y1("Invalid base64 string: "+s):s}}(t);return new zt(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new zt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ve(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const kD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ci(e){if(be(!!e),typeof e=="string"){let t=0;const n=kD.exec(e);if(be(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:st(e.seconds),nanos:st(e.nanos)}}function st(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Gi(e){return typeof e=="string"?zt.fromBase64String(e):zt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function yg(e){const t=e.mapValue.fields.__previous_value__;return gg(t)?yg(t):t}function Ha(e){const t=ci(e.mapValue.fields.__local_write_time__.timestampValue);return new gt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(t,n,r,i,s,o,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class qa{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new qa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof qa&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Yi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?gg(e)?4:OD(e)?9007199254740991:10:Y()}function pr(e,t){if(e===t)return!0;const n=Yi(e);if(n!==Yi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ha(e).isEqual(Ha(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ci(i.timestampValue),a=ci(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return Gi(i.bytesValue).isEqual(Gi(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return st(i.geoPointValue.latitude)===st(s.geoPointValue.latitude)&&st(i.geoPointValue.longitude)===st(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return st(i.integerValue)===st(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=st(i.doubleValue),a=st(s.doubleValue);return o===a?rc(o)===rc(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return no(e.arrayValue.values||[],t.arrayValue.values||[],pr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(i_(o)!==i_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!pr(o[l],a[l])))return!1;return!0}(e,t);default:return Y()}}function Qa(e,t){return(e.values||[]).find(n=>pr(n,t))!==void 0}function ro(e,t){if(e===t)return 0;const n=Yi(e),r=Yi(t);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=st(s.integerValue||s.doubleValue),l=st(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return o_(e.timestampValue,t.timestampValue);case 4:return o_(Ha(e),Ha(t));case 5:return ve(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Gi(s),l=Gi(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=ve(a[u],l[u]);if(c!==0)return c}return ve(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=ve(st(s.latitude),st(o.latitude));return a!==0?a:ve(st(s.longitude),st(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=ro(a[u],l[u]);if(c)return c}return ve(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===Zl.mapValue&&o===Zl.mapValue)return 0;if(s===Zl.mapValue)return 1;if(o===Zl.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=ve(l[f],c[f]);if(h!==0)return h;const d=ro(a[l[f]],u[c[f]]);if(d!==0)return d}return ve(l.length,c.length)}(e.mapValue,t.mapValue);default:throw Y()}}function o_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ve(e,t);const n=ci(e),r=ci(t),i=ve(n.seconds,r.seconds);return i!==0?i:ve(n.nanos,r.nanos)}function io(e){return ep(e)}function ep(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=ci(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Gi(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return K.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=ep(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${ep(n.fields[o])}`;return i+"}"}(e.mapValue):Y()}function a_(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function tp(e){return!!e&&"integerValue"in e}function vg(e){return!!e&&"arrayValue"in e}function l_(e){return!!e&&"nullValue"in e}function u_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function gu(e){return!!e&&"mapValue"in e}function ca(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return os(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=ca(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ca(e.arrayValue.values[n]);return t}return Object.assign({},e)}function OD(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.value=t}static empty(){return new on({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!gu(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ca(n)}setAll(t){let n=At.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ca(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());gu(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return pr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];gu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){os(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new on(ca(this.value))}}function X1(e){const t=[];return os(e.fields,(n,r)=>{const i=new At([n]);if(gu(r)){const s=X1(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new _n(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Ft(t,0,Z.min(),Z.min(),Z.min(),on.empty(),0)}static newFoundDocument(t,n,r,i){return new Ft(t,1,n,Z.min(),r,i,0)}static newNoDocument(t,n){return new Ft(t,2,n,Z.min(),Z.min(),on.empty(),0)}static newUnknownDocument(t,n){return new Ft(t,3,n,Z.min(),Z.min(),on.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ft&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(t,n){this.position=t,this.inclusive=n}}function c_(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=K.comparator(K.fromName(o.referenceValue),n.key):r=ro(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function f_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!pr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(t,n="asc"){this.field=t,this.dir=n}}function VD(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{}class at extends J1{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new LD(t,n,r):n==="array-contains"?new FD(t,r):n==="in"?new jD(t,r):n==="not-in"?new UD(t,r):n==="array-contains-any"?new BD(t,r):new at(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new MD(t,r):new $D(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ro(n,this.value)):n!==null&&Yi(this.value)===Yi(n)&&this.matchesComparison(ro(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends J1{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new er(t,n)}matches(t){return Z1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Z1(e){return e.op==="and"}function eT(e){return bD(e)&&Z1(e)}function bD(e){for(const t of e.filters)if(t instanceof er)return!1;return!0}function np(e){if(e instanceof at)return e.field.canonicalString()+e.op.toString()+io(e.value);if(eT(e))return e.filters.map(t=>np(t)).join(",");{const t=e.filters.map(n=>np(n)).join(",");return`${e.op}(${t})`}}function tT(e,t){return e instanceof at?function(r,i){return i instanceof at&&r.op===i.op&&r.field.isEqual(i.field)&&pr(r.value,i.value)}(e,t):e instanceof er?function(r,i){return i instanceof er&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&tT(o,i.filters[a]),!0):!1}(e,t):void Y()}function nT(e){return e instanceof at?function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`}(e):e instanceof er?function(n){return n.op.toString()+" {"+n.getFilters().map(nT).join(" ,")+"}"}(e):"Filter"}class LD extends at{constructor(t,n,r){super(t,n,r),this.key=K.fromName(r.referenceValue)}matches(t){const n=K.comparator(t.key,this.key);return this.matchesComparison(n)}}class MD extends at{constructor(t,n){super(t,"in",n),this.keys=rT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class $D extends at{constructor(t,n){super(t,"not-in",n),this.keys=rT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function rT(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class FD extends at{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return vg(n)&&Qa(n.arrayValue,this.value)}}class jD extends at{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Qa(this.value.arrayValue,n)}}class UD extends at{constructor(t,n){super(t,"not-in",n)}matches(t){if(Qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Qa(this.value.arrayValue,n)}}class BD extends at{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!vg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function h_(e,t=null,n=[],r=[],i=null,s=null,o=null){return new zD(e,t,n,r,i,s,o)}function _g(e){const t=ee(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>np(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Jc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>io(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>io(r)).join(",")),t.ce=n}return t.ce}function Eg(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!VD(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!tT(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!f_(e.startAt,t.startAt)&&f_(e.endAt,t.endAt)}function rp(e){return K.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function WD(e,t,n,r,i,s,o,a){return new wl(e,t,n,r,i,s,o,a)}function Zc(e){return new wl(e)}function d_(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function iT(e){return e.collectionGroup!==null}function fa(e){const t=ee(e);if(t.le===null){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Nt(At.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new sc(s,r))}),n.has(At.keyField().canonicalString())||t.le.push(new sc(At.keyField(),r))}return t.le}function fr(e){const t=ee(e);return t.he||(t.he=KD(t,fa(e))),t.he}function KD(e,t){if(e.limitType==="F")return h_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new sc(i.field,s)});const n=e.endAt?new ic(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ic(e.startAt.position,e.startAt.inclusive):null;return h_(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function ip(e,t){const n=e.filters.concat([t]);return new wl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function sp(e,t,n){return new wl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ef(e,t){return Eg(fr(e),fr(t))&&e.limitType===t.limitType}function sT(e){return`${_g(fr(e))}|lt:${e.limitType}`}function ys(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>nT(i)).join(", ")}]`),Jc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>io(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>io(i)).join(",")),`Target(${r})`}(fr(e))}; limitType=${e.limitType})`}function tf(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):K.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of fa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=c_(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,fa(r),i)||r.endAt&&!function(o,a,l){const u=c_(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,fa(r),i))}(e,t)}function HD(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function oT(e){return(t,n)=>{let r=!1;for(const i of fa(e)){const s=qD(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function qD(e,t,n){const r=e.field.isKeyField()?K.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?ro(l,u):Y()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){os(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return G1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=new Xe(K.comparator);function Dr(){return QD}const aT=new Xe(K.comparator);function Go(...e){let t=aT;for(const n of e)t=t.insert(n.key,n);return t}function lT(e){let t=aT;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Li(){return ha()}function uT(){return ha()}function ha(){return new Co(e=>e.toString(),(e,t)=>e.isEqual(t))}const GD=new Xe(K.comparator),YD=new Nt(K.comparator);function ce(...e){let t=YD;for(const n of e)t=t.add(n);return t}const XD=new Nt(ve);function JD(){return XD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rc(t)?"-0":t}}function fT(e){return{integerValue:""+e}}function ZD(e,t){return DD(t)?fT(t):cT(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(){this._=void 0}}function ek(e,t,n){return e instanceof oc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&gg(s)&&(s=yg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof Ga?dT(e,t):e instanceof Ya?pT(e,t):function(i,s){const o=hT(i,s),a=p_(o)+p_(i.Ie);return tp(o)&&tp(i.Ie)?fT(a):cT(i.serializer,a)}(e,t)}function tk(e,t,n){return e instanceof Ga?dT(e,t):e instanceof Ya?pT(e,t):n}function hT(e,t){return e instanceof ac?function(r){return tp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class oc extends nf{}class Ga extends nf{constructor(t){super(),this.elements=t}}function dT(e,t){const n=mT(t);for(const r of e.elements)n.some(i=>pr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ya extends nf{constructor(t){super(),this.elements=t}}function pT(e,t){let n=mT(t);for(const r of e.elements)n=n.filter(i=>!pr(i,r));return{arrayValue:{values:n}}}class ac extends nf{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function p_(e){return st(e.integerValue||e.doubleValue)}function mT(e){return vg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function nk(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Ga&&i instanceof Ga||r instanceof Ya&&i instanceof Ya?no(r.elements,i.elements,pr):r instanceof ac&&i instanceof ac?pr(r.Ie,i.Ie):r instanceof oc&&i instanceof oc}(e.transform,t.transform)}class rk{constructor(t,n){this.version=t,this.transformResults=n}}class Yn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Yn}static exists(t){return new Yn(void 0,t)}static updateTime(t){return new Yn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function yu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class rf{}function gT(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new wg(e.key,Yn.none()):new Tl(e.key,e.data,Yn.none());{const n=e.data,r=on.empty();let i=new Nt(At.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ei(e.key,r,new _n(i.toArray()),Yn.none())}}function ik(e,t,n){e instanceof Tl?function(i,s,o){const a=i.value.clone(),l=g_(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Ei?function(i,s,o){if(!yu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=g_(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(yT(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function da(e,t,n,r){return e instanceof Tl?function(s,o,a,l){if(!yu(s.precondition,o))return a;const u=s.value.clone(),c=y_(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ei?function(s,o,a,l){if(!yu(s.precondition,o))return a;const u=y_(s.fieldTransforms,l,o),c=o.data;return c.setAll(yT(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(s,o,a){return yu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function sk(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=hT(r.transform,i||null);s!=null&&(n===null&&(n=on.empty()),n.set(r.field,s))}return n||null}function m_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&no(r,i,(s,o)=>nk(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Tl extends rf{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ei extends rf{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function yT(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function g_(e,t,n){const r=new Map;be(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,tk(o,a,n[i]))}return r}function y_(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,ek(s,o,t))}return r}class wg extends rf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ok extends rf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&ik(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=da(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=da(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=uT();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=gT(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ce())}isEqual(t){return this.batchId===t.batchId&&no(this.mutations,t.mutations,(n,r)=>m_(n,r))&&no(this.baseMutations,t.baseMutations,(n,r)=>m_(n,r))}}class Tg{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){be(t.mutations.length===r.length);let i=function(){return GD}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Tg(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,de;function ck(e){switch(e){default:return Y();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function vT(e){if(e===void 0)return Ar("GRPC error has no .code"),x.UNKNOWN;switch(e){case it.OK:return x.OK;case it.CANCELLED:return x.CANCELLED;case it.UNKNOWN:return x.UNKNOWN;case it.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case it.INTERNAL:return x.INTERNAL;case it.UNAVAILABLE:return x.UNAVAILABLE;case it.UNAUTHENTICATED:return x.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case it.NOT_FOUND:return x.NOT_FOUND;case it.ALREADY_EXISTS:return x.ALREADY_EXISTS;case it.PERMISSION_DENIED:return x.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case it.ABORTED:return x.ABORTED;case it.OUT_OF_RANGE:return x.OUT_OF_RANGE;case it.UNIMPLEMENTED:return x.UNIMPLEMENTED;case it.DATA_LOSS:return x.DATA_LOSS;default:return Y()}}(de=it||(it={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=new Ks([4294967295,4294967295],0);function v_(e){const t=fk().encode(e),n=new mD;return n.update(t),new Uint8Array(n.digest())}function __(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Ks([n,r],0),new Ks([i,s],0)]}class Ig{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Yo(`Invalid padding: ${n}`);if(r<0)throw new Yo(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Yo(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Yo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=Ks.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(Ks.fromNumber(r)));return i.compare(hk)===1&&(i=new Ks([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=v_(t),[r,i]=__(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new Ig(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=v_(t),[r,i]=__(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Yo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Il.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new sf(Z.min(),i,new Xe(ve),Dr(),ce())}}class Il{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Il(r,n,ce(),ce(),ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(t,n,r,i){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i}}class _T{constructor(t,n){this.targetId=t,this.fe=n}}class ET{constructor(t,n,r=zt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class E_{constructor(){this.ge=0,this.pe=T_(),this.ye=zt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=ce(),n=ce(),r=ce();return this.pe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y()}}),new Il(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=T_()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,be(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class dk{constructor(t){this.Le=t,this.ke=new Map,this.qe=Dr(),this.Qe=w_(),this.Ke=new Xe(ve)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:Y()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.fe.count,i=this.Ye(n);if(i){const s=i.target;if(rp(s))if(r===0){const o=new K(s.path);this.We(n,o,Ft.newNoDocument(o,Z.min()))}else be(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),l=a?this.et(a,t,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Gi(r).toUint8Array()}catch(l){if(l instanceof Y1)return to("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ig(o,i,s)}catch(l){return to(l instanceof Yo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(n,s,null),i++)}),i}it(t){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&rp(a.target)){const l=new K(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Ft.newNoDocument(l,t))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ce();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const i=new sf(t,n,this.Ke,this.qe,r);return this.qe=Dr(),this.Qe=w_(),this.Ke=new Xe(ve),i}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.st(t,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new E_,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new Nt(ve),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||U("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new E_),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function w_(){return new Xe(K.comparator)}function T_(){return new Xe(K.comparator)}const pk={asc:"ASCENDING",desc:"DESCENDING"},mk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gk={and:"AND",or:"OR"};class yk{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function op(e,t){return e.useProto3Json||Jc(t)?t:{value:t}}function lc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function wT(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function vk(e,t){return lc(e,t.toTimestamp())}function hr(e){return be(!!e),Z.fromTimestamp(function(n){const r=ci(n);return new gt(r.seconds,r.nanos)}(e))}function Sg(e,t){return function(r){return new $e(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function TT(e){const t=$e.fromString(e);return be(xT(t)),t}function ap(e,t){return Sg(e.databaseId,t.path)}function Ah(e,t){const n=TT(t);if(n.get(1)!==e.databaseId.projectId)throw new $(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new $(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new K(IT(n))}function lp(e,t){return Sg(e.databaseId,t)}function _k(e){const t=TT(e);return t.length===4?$e.emptyPath():IT(t)}function up(e){return new $e(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function IT(e){return be(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function I_(e,t,n){return{name:ap(e,t),fields:n.value.mapValue.fields}}function Ek(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Y()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(be(c===void 0||typeof c=="string"),zt.fromBase64String(c||"")):(be(c===void 0||c instanceof Uint8Array),zt.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(u){const c=u.code===void 0?x.UNKNOWN:vT(u.code);return new $(c,u.message||"")}(o);n=new ET(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ah(e,r.document.name),s=hr(r.document.updateTime),o=r.document.createTime?hr(r.document.createTime):Z.min(),a=new on({mapValue:{fields:r.document.fields}}),l=Ft.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new vu(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ah(e,r.document),s=r.readTime?hr(r.readTime):Z.min(),o=Ft.newNoDocument(i,s),a=r.removedTargetIds||[];n=new vu([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ah(e,r.document),s=r.removedTargetIds||[];n=new vu([],s,i,null)}else{if(!("filter"in t))return Y();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new uk(i,s),a=r.targetId;n=new _T(a,o)}}return n}function wk(e,t){let n;if(t instanceof Tl)n={update:I_(e,t.key,t.value)};else if(t instanceof wg)n={delete:ap(e,t.key)};else if(t instanceof Ei)n={update:I_(e,t.key,t.data),updateMask:Dk(t.fieldMask)};else{if(!(t instanceof ok))return Y();n={verify:ap(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof oc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ga)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ya)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ac)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Y()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:vk(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Y()}(e,t.precondition)),n}function Tk(e,t){return e&&e.length>0?(be(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?hr(i.updateTime):hr(s);return o.isEqual(Z.min())&&(o=hr(s)),new rk(o,i.transformResults||[])}(n,t))):[]}function Ik(e,t){return{documents:[lp(e,t.path)]}}function Sk(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=lp(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=lp(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return CT(er.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(f){return{field:vs(f.field),direction:Pk(f.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=op(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function Ck(e){let t=_k(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){be(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(f){const h=ST(f);return h instanceof er&&eT(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(y){return new sc(_s(y.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Jc(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,d=f.values||[];return new ic(d,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,d=f.values||[];return new ic(d,h)}(n.endAt)),WD(t,i,o,s,a,"F",l,u)}function xk(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function ST(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_s(n.unaryFilter.field);return at.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_s(n.unaryFilter.field);return at.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=_s(n.unaryFilter.field);return at.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=_s(n.unaryFilter.field);return at.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(e):e.fieldFilter!==void 0?function(n){return at.create(_s(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return er.create(n.compositeFilter.filters.map(r=>ST(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y()}}(n.compositeFilter.op))}(e):Y()}function Pk(e){return pk[e]}function Rk(e){return mk[e]}function Ak(e){return gk[e]}function vs(e){return{fieldPath:e.canonicalString()}}function _s(e){return At.fromServerFormat(e.fieldPath)}function CT(e){return e instanceof at?function(n){if(n.op==="=="){if(u_(n.value))return{unaryFilter:{field:vs(n.field),op:"IS_NAN"}};if(l_(n.value))return{unaryFilter:{field:vs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(u_(n.value))return{unaryFilter:{field:vs(n.field),op:"IS_NOT_NAN"}};if(l_(n.value))return{unaryFilter:{field:vs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vs(n.field),op:Rk(n.op),value:n.value}}}(e):e instanceof er?function(n){const r=n.getFilters().map(i=>CT(i));return r.length===1?r[0]:{compositeFilter:{op:Ak(n.op),filters:r}}}(e):Y()}function Dk(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function xT(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t,n,r,i,s=Z.min(),o=Z.min(),a=zt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(t){this.ut=t}}function Nk(e){const t=Ck({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?sp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(){this.on=new Vk}addToCollectionParentIndex(t,n){return this.on.add(n),A.resolve()}getCollectionParents(t,n){return A.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return A.resolve()}deleteFieldIndex(t,n){return A.resolve()}deleteAllFieldIndexes(t){return A.resolve()}createTargetIndexes(t,n){return A.resolve()}getDocumentsMatchingTarget(t,n){return A.resolve(null)}getIndexType(t,n){return A.resolve(0)}getFieldIndexes(t,n){return A.resolve([])}getNextCollectionGroupToUpdate(t){return A.resolve(null)}getMinOffset(t,n){return A.resolve(ui.min())}getMinOffsetFromCollectionGroup(t,n){return A.resolve(ui.min())}updateCollectionGroup(t,n,r){return A.resolve()}updateIndexEntries(t,n){return A.resolve()}}class Vk{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Nt($e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Nt($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new so(0)}static Nn(){return new so(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(){this.changes=new Co(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ft.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?A.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&da(r.mutation,i,_n.empty(),gt.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,ce()).next(()=>r))}getLocalViewOfDocuments(t,n,r=ce()){const i=Li();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=Go();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Li();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,ce()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Dr();const o=ha(),a=function(){return ha()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ei)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),da(c.mutation,u,c.mutation.getFieldMask(),gt.now())):o.set(u.key,_n.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new Lk(c,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,n){const r=ha();let i=new Xe((o,a)=>o-a),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||_n.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||ce()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=uT();c.forEach(h=>{if(!s.has(h)){const d=gT(n.get(h),r.get(h));d!==null&&f.set(h,d),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,f))}return A.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return K.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):iT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):A.resolve(Li());let a=-1,l=s;return o.next(u=>A.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?A.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,ce())).next(c=>({batchId:a,changes:lT(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new K(n)).next(r=>{let i=Go();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=Go();return this.indexManager.getCollectionParents(t,s).next(a=>A.forEach(a,l=>{const u=function(f,h){return new wl(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Ft.newInvalidDocument(c)))});let a=Go();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&da(c.mutation,u,_n.empty(),gt.now()),tf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return A.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:hr(i.createTime)}}(n)),A.resolve()}getNamedQuery(t,n){return A.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(i){return{name:i.name,query:Nk(i.bundledQuery),readTime:hr(i.readTime)}}(n)),A.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(){this.overlays=new Xe(K.comparator),this.lr=new Map}getOverlay(t,n){return A.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Li();return A.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.lt(t,n,s)}),A.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),A.resolve()}getOverlaysForCollection(t,n,r){const i=Li(),s=n.length+1,o=new K(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return A.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new Xe((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Li(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Li(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return A.resolve(a)}lt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new lk(n,r));let s=this.lr.get(n);s===void 0&&(s=ce(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(){this.hr=new Nt(vt.Pr),this.Ir=new Nt(vt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const r=new vt(t,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.dr(new vt(t,n))}Ar(t,n){t.forEach(r=>this.removeReference(r,n))}Rr(t){const n=new K(new $e([])),r=new vt(n,t),i=new vt(n,t+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new K(new $e([])),r=new vt(n,t),i=new vt(n,t+1);let s=ce();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new vt(t,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class vt{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return K.comparator(t.key,n.key)||ve(t.gr,n.gr)}static Tr(t,n){return ve(t.gr,n.gr)||K.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Nt(vt.Pr)}checkEmpty(t){return A.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ak(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new vt(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return A.resolve(o)}lookupMutationBatch(t,n){return A.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return A.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return A.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new vt(n,0),i=new vt(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),A.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Nt(ve);return n.forEach(i=>{const s=new vt(i,0),o=new vt(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),A.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;K.isDocumentKey(s)||(s=s.child(""));const o=new vt(new K(s),0);let a=new Nt(ve);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),A.resolve(this.br(a))}br(t){const n=[];return t.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){be(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return A.forEach(n.mutations,i=>{const s=new vt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.yr=r})}Fn(t){}containsKey(t,n){const r=new vt(n,0),i=this.yr.firstAfterOrEqual(r);return A.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,A.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(t){this.Cr=t,this.docs=function(){return new Xe(K.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return A.resolve(r?r.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(t,n){let r=Dr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ft.newInvalidDocument(i))}),A.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Dr();const o=n.path,a=new K(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||PD(xD(c),r)<=0||(i.has(c.key)||tf(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return A.resolve(s)}getAllFromCollectionGroup(t,n,r,i){Y()}vr(t,n){return A.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Bk(this)}getSize(t){return A.resolve(this.size)}}class Bk extends bk{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(t,i)):this._r.removeEntry(r)}),A.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(t){this.persistence=t,this.Fr=new Co(n=>_g(n),Eg),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Cg,this.targetCount=0,this.Nr=so.On()}forEachTarget(t,n){return this.Fr.forEach((r,i)=>n(i)),A.resolve()}getLastRemoteSnapshotVersion(t){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return A.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),A.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new so(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,A.resolve()}updateTargetData(t,n){return this.kn(n),A.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,A.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),A.waitFor(s).next(()=>i)}getTargetCount(t){return A.resolve(this.targetCount)}getTargetData(t,n){const r=this.Fr.get(n)||null;return A.resolve(r)}addMatchingKeys(t,n,r){return this.Or.Er(n,r),A.resolve()}removeMatchingKeys(t,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),A.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),A.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Or.mr(n);return A.resolve(r)}containsKey(t,n){return A.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(t,n){this.Br={},this.overlays={},this.Lr=new mg(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new zk(this),this.indexManager=new Ok,this.remoteDocumentCache=function(i){return new Uk(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new kk(n),this.Kr=new $k(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Fk,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new jk(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,r){U("MemoryPersistence","Starting transaction:",t);const i=new Kk(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(t,n){return A.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class Kk extends AD{constructor(t){super(),this.currentSequenceNumber=t}}class xg{constructor(t){this.persistence=t,this.Gr=new Cg,this.zr=null}static jr(t){return new xg(t)}get Hr(){if(this.zr)return this.zr;throw Y()}addReference(t,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),A.resolve()}removeReference(t,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),A.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),A.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.Hr,r=>{const i=K.fromPath(r);return this.Jr(t,i).next(s=>{s||n.removeEntry(i,Z.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return A.or([()=>A.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}static Qi(t,n){let r=ce(),i=ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Pg(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.zi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Hk;return this.Hi(t,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(t,n,o,a.size)})}).next(()=>s.result)}Ji(t,n,r,i){return r.documentReadCount<this.Ui?(Bo()<=pe.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",ys(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),A.resolve()):(Bo()<=pe.DEBUG&&U("QueryEngine","Query:",ys(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Bo()<=pe.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",ys(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,fr(n))):A.resolve())}zi(t,n){if(d_(n))return A.resolve(null);let r=fr(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=sp(n,null,"F"),r=fr(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=ce(...s);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(t,sp(n,null,"F")):this.Xi(t,u,n,l)}))})))}ji(t,n,r,i){return d_(n)||i.isEqual(Z.min())?A.resolve(null):this.Gi.getDocuments(t,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?A.resolve(null):(Bo()<=pe.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ys(n)),this.Xi(t,o,n,CD(i,-1)).next(a=>a))})}Yi(t,n){let r=new Nt(oT(t));return n.forEach((i,s)=>{tf(t,s)&&(r=r.add(s))}),r}Zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(t,n,r){return Bo()<=pe.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",ys(n)),this.Gi.getDocumentsMatchingQuery(t,n,ui.min(),r)}Xi(t,n,r,i){return this.Gi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(t,n,r,i){this.persistence=t,this.es=n,this.serializer=i,this.ts=new Xe(ve),this.ns=new Co(s=>_g(s),Eg),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Mk(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function Gk(e,t,n,r){return new Qk(e,t,n,r)}async function PT(e,t){const n=ee(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ce();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}function Yk(e,t){const n=ee(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,h=f.keys();let d=A.resolve();return h.forEach(y=>{d=d.next(()=>c.getEntry(l,y)).next(v=>{const w=u.docVersions.get(y);be(w!==null),v.version.compareTo(w)<0&&(f.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),c.addEntry(v)))})}),d.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ce();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function RT(e){const t=ee(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function Xk(e,t){const n=ee(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];t.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,f)));let d=h.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?d=d.withResumeToken(zt.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,r)),i=i.insert(f,d),function(v,w,m){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(h,d,c)&&a.push(n.qr.updateTargetData(s,d))});let l=Dr(),u=ce();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(Jk(s,o,t.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(Z.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(f=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return A.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ts=i,s))}function Jk(e,t,n){let r=ce(),i=ce();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Dr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Z.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}function Zk(e,t){const n=ee(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function eN(e,t){const n=ee(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,t).next(s=>s?(i=s,A.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new qr(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(t,r.targetId)),r})}async function cp(e,t,n){const r=ee(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!El(o))throw o;U("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function S_(e,t,n){const r=ee(e);let i=Z.min(),s=ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const f=ee(l),h=f.ns.get(c);return h!==void 0?A.resolve(f.ts.get(h)):f.qr.getTargetData(u,c)}(r,o,fr(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,t,n?i:Z.min(),n?s:ce())).next(a=>(tN(r,HD(t),a),{documents:a,ls:s})))}function tN(e,t,n){let r=e.rs.get(t)||Z.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.rs.set(t,r)}class C_{constructor(){this.activeTargetIds=JD()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class nN{constructor(){this.eo=new C_,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,r){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new C_,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eu=null;function Dh(){return eu===null?eu=function(){return 268435456+Math.round(2147483648*Math.random())}():eu++,"0x"+eu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="WebChannelConnection";class oN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=Dh(),l=this.So(n,r);U("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,l,u,i).then(c=>(U("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw to("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+So}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=iN[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,r,i){const s=Dh();return new Promise((o,a)=>{const l=new pD;l.setWithCredentials(!0),l.listenOnce(hD.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Rh.NO_ERROR:const c=l.getResponseJson();U(Lt,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case Rh.TIMEOUT:U(Lt,`RPC '${t}' ${s} timed out`),a(new $(x.DEADLINE_EXCEEDED,"Request time out"));break;case Rh.HTTP_ERROR:const f=l.getStatus();if(U(Lt,`RPC '${t}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const d=h==null?void 0:h.error;if(d&&d.status&&d.message){const y=function(w){const m=w.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(m)>=0?m:x.UNKNOWN}(d.status);a(new $(y,d.message))}else a(new $(x.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new $(x.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{U(Lt,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);U(Lt,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}vo(t,n,r){const i=Dh(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=cD(),a=fD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");U(Lt,`Creating RPC '${t}' stream ${i}: ${c}`,l);const f=o.createWebChannel(c,l);let h=!1,d=!1;const y=new sN({co:w=>{d?U(Lt,`Not sending because RPC '${t}' stream ${i} is closed:`,w):(h||(U(Lt,`Opening RPC '${t}' stream ${i} transport.`),f.open(),h=!0),U(Lt,`RPC '${t}' stream ${i} sending:`,w),f.send(w))},lo:()=>f.close()}),v=(w,m,p)=>{w.listen(m,E=>{try{p(E)}catch(I){setTimeout(()=>{throw I},0)}})};return v(f,Xl.EventType.OPEN,()=>{d||U(Lt,`RPC '${t}' stream ${i} transport opened.`)}),v(f,Xl.EventType.CLOSE,()=>{d||(d=!0,U(Lt,`RPC '${t}' stream ${i} transport closed`),y.Ro())}),v(f,Xl.EventType.ERROR,w=>{d||(d=!0,to(Lt,`RPC '${t}' stream ${i} transport errored:`,w),y.Ro(new $(x.UNAVAILABLE,"The operation could not be completed")))}),v(f,Xl.EventType.MESSAGE,w=>{var m;if(!d){const p=w.data[0];be(!!p);const E=p,I=E.error||((m=E[0])===null||m===void 0?void 0:m.error);if(I){U(Lt,`RPC '${t}' stream ${i} received error:`,I);const P=I.status;let C=function(H){const V=it[H];if(V!==void 0)return vT(V)}(P),D=I.message;C===void 0&&(C=x.INTERNAL,D="Unknown error status: "+P+" with message "+I.message),d=!0,y.Ro(new $(C,D)),f.close()}else U(Lt,`RPC '${t}' stream ${i} received:`,p),y.Vo(p)}}),v(a,dD.STAT_EVENT,w=>{w.stat===n_.PROXY?U(Lt,`RPC '${t}' stream ${i} detected buffering proxy`):w.stat===n_.NOPROXY&&U(Lt,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.Ao()},0),y}}function kh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(e){return new yk(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(t,n,r=1e3,i=1.5,s=6e4){this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(t,n,r,i,s,o,a,l){this.si=t,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new AT(t,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(t,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,t!==4?this.zo.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(Ar(n.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Io(n)}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{t(()=>{const i=new $(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(t,n){const r=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(t){return U("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aN extends DT{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();const n=Ek(this.serializer,t),r=function(s){if(!("targetChange"in s))return Z.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Z.min():o.readTime?hr(o.readTime):Z.min()}(t);return this.listener.a_(n,r)}u_(t){const n={};n.database=up(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=rp(l)?{documents:Ik(s,l)}:{query:Sk(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=wT(s,o.resumeToken);const u=op(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Z.min())>0){a.readTime=lc(s,o.snapshotVersion.toTimestamp());const u=op(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=xk(this.serializer,t);r&&(n.labels=r),this.e_(n)}c_(t){const n={};n.database=up(this.serializer),n.removeTarget=t,this.e_(n)}}class lN extends DT{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,n){return this.connection.vo("Write",t,n)}onMessage(t){if(be(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const n=Tk(t.writeResults,t.commitTime),r=hr(t.commitTime);return this.listener.I_(r,n)}return be(!t.writeResults||t.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=up(this.serializer),this.e_(t)}P_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>wk(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new $(x.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new $(x.UNKNOWN,i.toString())})}Co(t,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(x.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class cN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,t==="Online"&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Ar(n),this.f_=!1):U("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{as(this)&&(U("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ee(l);u.C_.add(4),await Sl(u),u.M_.set("Unknown"),u.C_.delete(4),await af(u)}(this))})}),this.M_=new cN(r,i)}}async function af(e){if(as(e))for(const t of e.v_)await t(!0)}async function Sl(e){for(const t of e.v_)await t(!1)}function kT(e,t){const n=ee(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),Dg(n)?Ag(n):xo(n).Ho()&&Rg(n,t))}function NT(e,t){const n=ee(e),r=xo(n);n.D_.delete(t),r.Ho()&&OT(n,t),n.D_.size===0&&(r.Ho()?r.Zo():as(n)&&n.M_.set("Unknown"))}function Rg(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Z.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}xo(e).u_(t)}function OT(e,t){e.x_.Oe(t),xo(e).c_(t)}function Ag(e){e.x_=new dk({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),xo(e).start(),e.M_.g_()}function Dg(e){return as(e)&&!xo(e).jo()&&e.D_.size>0}function as(e){return ee(e).C_.size===0}function VT(e){e.x_=void 0}async function hN(e){e.D_.forEach((t,n)=>{Rg(e,t)})}async function dN(e,t){VT(e),Dg(e)?(e.M_.w_(t),Ag(e)):e.M_.set("Unknown")}async function pN(e,t,n){if(e.M_.set("Online"),t instanceof ET&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(e,t)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await uc(e,r)}else if(t instanceof vu?e.x_.$e(t):t instanceof _T?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(Z.min()))try{const r=await RT(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.D_.get(u);c&&s.D_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.D_.get(l);if(!c)return;s.D_.set(l,c.withResumeToken(zt.EMPTY_BYTE_STRING,c.snapshotVersion)),OT(s,l);const f=new qr(c.target,l,u,c.sequenceNumber);Rg(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){U("RemoteStore","Failed to raise snapshot:",r),await uc(e,r)}}async function uc(e,t,n){if(!El(t))throw t;e.C_.add(1),await Sl(e),e.M_.set("Offline"),n||(n=()=>RT(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{U("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await af(e)})}function bT(e,t){return t().catch(n=>uc(e,n,t))}async function lf(e){const t=ee(e),n=fi(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;mN(t);)try{const i=await Zk(t.localStore,r);if(i===null){t.b_.length===0&&n.Zo();break}r=i.batchId,gN(t,i)}catch(i){await uc(t,i)}LT(t)&&MT(t)}function mN(e){return as(e)&&e.b_.length<10}function gN(e,t){e.b_.push(t);const n=fi(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function LT(e){return as(e)&&!fi(e).jo()&&e.b_.length>0}function MT(e){fi(e).start()}async function yN(e){fi(e).E_()}async function vN(e){const t=fi(e);for(const n of e.b_)t.P_(n.mutations)}async function _N(e,t,n){const r=e.b_.shift(),i=Tg.from(r,t,n);await bT(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await lf(e)}async function EN(e,t){t&&fi(e).h_&&await async function(r,i){if(function(o){return ck(o)&&o!==x.ABORTED}(i.code)){const s=r.b_.shift();fi(r).Yo(),await bT(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await lf(r)}}(e,t),LT(e)&&MT(e)}async function P_(e,t){const n=ee(e);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");const r=as(n);n.C_.add(3),await Sl(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await af(n)}async function wN(e,t){const n=ee(e);t?(n.C_.delete(2),await af(n)):t||(n.C_.add(2),await Sl(n),n.M_.set("Unknown"))}function xo(e){return e.O_||(e.O_=function(n,r,i){const s=ee(n);return s.A_(),new aN(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:hN.bind(null,e),Io:dN.bind(null,e),a_:pN.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),Dg(e)?Ag(e):e.M_.set("Unknown")):(await e.O_.stop(),VT(e))})),e.O_}function fi(e){return e.N_||(e.N_=function(n,r,i){const s=ee(n);return s.A_(),new lN(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:yN.bind(null,e),Io:EN.bind(null,e),T_:vN.bind(null,e),I_:_N.bind(null,e)}),e.v_.push(async t=>{t?(e.N_.Yo(),await lf(e)):(await e.N_.stop(),e.b_.length>0&&(U("RemoteStore",`Stopping write stream with ${e.b_.length} pending writes`),e.b_=[]))})),e.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new kg(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(x.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ng(e,t){if(Ar("AsyncQueue",`${t}: ${e}`),El(e))return new $(x.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t){this.comparator=t?(n,r)=>t(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=Go(),this.sortedSet=new Xe(this.comparator)}static emptySet(t){return new Hs(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Hs)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Hs;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(){this.B_=new Xe(K.comparator)}track(t){const n=t.doc.key,r=this.B_.get(n);r?t.type!==0&&r.type===3?this.B_=this.B_.insert(n,t):t.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.B_=this.B_.remove(n):t.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):Y():this.B_=this.B_.insert(n,t)}L_(){const t=[];return this.B_.inorderTraversal((n,r)=>{t.push(r)}),t}}class oo{constructor(t,n,r,i,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new oo(t,n,Hs.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ef(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.k_=void 0,this.listeners=[]}}class IN{constructor(){this.queries=new Co(t=>sT(t),ef),this.onlineState="Unknown",this.q_=new Set}}async function Og(e,t){const n=ee(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new TN),i)try{s.k_=await n.onListen(r)}catch(o){const a=Ng(o,`Initialization of query '${ys(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&bg(n)}async function Vg(e,t){const n=ee(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function SN(e,t){const n=ee(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&bg(n)}function CN(e,t,n){const r=ee(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function bg(e){e.q_.forEach(t=>{t.next()})}class Lg{constructor(t,n,r){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new oo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}z_(t){if(t.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(t){t=oo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(t){this.key=t}}class FT{constructor(t){this.key=t}}class xN{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ce(),this.mutatedKeys=ce(),this._a=oT(t),this.aa=new Hs(this._a)}get ua(){return this.ia}ca(t,n){const r=n?n.la:new R_,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const h=i.get(c),d=tf(this.query,f)?f:null,y=!!h&&this.mutatedKeys.has(h.key),v=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let w=!1;h&&d?h.data.isEqual(d.data)?y!==v&&(r.track({type:3,doc:d}),w=!0):this.ha(h,d)||(r.track({type:2,doc:d}),w=!0,(l&&this._a(d,l)>0||u&&this._a(d,u)<0)&&(a=!0)):!h&&d?(r.track({type:0,doc:d}),w=!0):h&&!d&&(r.track({type:1,doc:h}),w=!0,(l||u)&&(a=!0)),w&&(d?(o=o.add(d),s=v?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const o=t.la.L_();o.sort((c,f)=>function(d,y){const v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return v(d)-v(y)}(c.type,f.type)||this._a(c.doc,f.doc)),this.Pa(r),i=i!=null&&i;const a=n&&!i?this.Ia():[],l=this.oa.size===0&&this.current&&!i?1:0,u=l!==this.sa;return this.sa=l,o.length!==0||u?{snapshot:new oo(this.query,t.aa,s,o,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new R_,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=ce(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return t.forEach(r=>{this.oa.has(r)||n.push(new FT(r))}),this.oa.forEach(r=>{t.has(r)||n.push(new $T(r))}),n}da(t){this.ia=t.ls,this.oa=ce();const n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return oo.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class PN{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class RN{constructor(t){this.key=t,this.Ra=!1}}class AN{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Co(a=>sT(a),ef),this.fa=new Map,this.ga=new Set,this.pa=new Xe(K.comparator),this.ya=new Map,this.wa=new Cg,this.Sa={},this.ba=new Map,this.Da=so.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function DN(e,t){const n=jN(e);let r,i;const s=n.ma.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await eN(n.localStore,fr(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await kN(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&kT(n.remoteStore,o)}return i}async function kN(e,t,n,r,i){e.va=(f,h,d)=>async function(v,w,m,p){let E=w.view.ca(m);E.Zi&&(E=await S_(v.localStore,w.query,!1).then(({documents:D})=>w.view.ca(D,E)));const I=p&&p.targetChanges.get(w.targetId),P=p&&p.targetMismatches.get(w.targetId)!=null,C=w.view.applyChanges(E,v.isPrimaryClient,I,P);return D_(v,w.targetId,C.Ta),C.snapshot}(e,f,h,d);const s=await S_(e.localStore,t,!0),o=new xN(t,s.ls),a=o.ca(s.documents),l=Il.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(a,e.isPrimaryClient,l);D_(e,n,u.Ta);const c=new PN(t,n,o);return e.ma.set(t,c),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),u.snapshot}async function NN(e,t){const n=ee(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!ef(s,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await cp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),NT(n.remoteStore,r.targetId),fp(n,r.targetId)}).catch(_l)):(fp(n,r.targetId),await cp(n.localStore,r.targetId,!0))}async function ON(e,t,n){const r=UN(e);try{const i=await function(o,a){const l=ee(o),u=gt.now(),c=a.reduce((d,y)=>d.add(y.key),ce());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let y=Dr(),v=ce();return l.ss.getEntries(d,c).next(w=>{y=w,y.forEach((m,p)=>{p.isValidDocument()||(v=v.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,y)).next(w=>{f=w;const m=[];for(const p of a){const E=sk(p,f.get(p.key).overlayedDocument);E!=null&&m.push(new Ei(p.key,E,X1(E.value.mapValue),Yn.exists(!0)))}return l.mutationQueue.addMutationBatch(d,u,m,a)}).next(w=>{h=w;const m=w.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(d,w.batchId,m)})}).then(()=>({batchId:h.batchId,changes:lT(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Sa[o.currentUser.toKey()];u||(u=new Xe(ve)),u=u.insert(a,l),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,n),await Cl(r,i.changes),await lf(r.remoteStore)}catch(i){const s=Ng(i,"Failed to persist write");n.reject(s)}}async function jT(e,t){const n=ee(e);try{const r=await Xk(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?be(o.Ra):i.removedDocuments.size>0&&(be(o.Ra),o.Ra=!1))}),await Cl(n,r,t)}catch(r){await _l(r)}}function A_(e,t,n){const r=ee(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ee(o);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.listeners)h.Q_(a)&&(u=!0)}),u&&bg(l)}(r.eventManager,t),i.length&&r.Va.a_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function VN(e,t,n){const r=ee(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),s=i&&i.key;if(s){let o=new Xe(K.comparator);o=o.insert(s,Ft.newNoDocument(s,Z.min()));const a=ce().add(s),l=new sf(Z.min(),new Map,new Xe(ve),o,a);await jT(r,l),r.pa=r.pa.remove(s),r.ya.delete(t),Mg(r)}else await cp(r.localStore,t,!1).then(()=>fp(r,t,n)).catch(_l)}async function bN(e,t){const n=ee(e),r=t.batch.batchId;try{const i=await Yk(n.localStore,t);BT(n,r,null),UT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cl(n,i)}catch(i){await _l(i)}}async function LN(e,t,n){const r=ee(e);try{const i=await function(o,a){const l=ee(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(be(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);BT(r,t,n),UT(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Cl(r,i)}catch(i){await _l(i)}}function UT(e,t){(e.ba.get(t)||[]).forEach(n=>{n.resolve()}),e.ba.delete(t)}function BT(e,t,n){const r=ee(e);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function fp(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(r=>{e.wa.containsKey(r)||zT(e,r)})}function zT(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);n!==null&&(NT(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),Mg(e))}function D_(e,t,n){for(const r of n)r instanceof $T?(e.wa.addReference(r.key,t),MN(e,r)):r instanceof FT?(U("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||zT(e,r.key)):Y()}function MN(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(U("SyncEngine","New document in limbo: "+n),e.ga.add(r),Mg(e))}function Mg(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new K($e.fromString(t)),r=e.Da.next();e.ya.set(r,new RN(n)),e.pa=e.pa.insert(n,r),kT(e.remoteStore,new qr(fr(Zc(n.path)),r,"TargetPurposeLimboResolution",mg._e))}}async function Cl(e,t,n){const r=ee(e),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Pg.Qi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,u){const c=ee(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>A.forEach(u,h=>A.forEach(h.ki,d=>c.persistence.referenceDelegate.addReference(f,h.targetId,d)).next(()=>A.forEach(h.qi,d=>c.persistence.referenceDelegate.removeReference(f,h.targetId,d)))))}catch(f){if(!El(f))throw f;U("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const d=c.ts.get(h),y=d.snapshotVersion,v=d.withLastLimboFreeSnapshotVersion(y);c.ts=c.ts.insert(h,v)}}}(r.localStore,s))}async function $N(e,t){const n=ee(e);if(!n.currentUser.isEqual(t)){U("SyncEngine","User change. New user:",t.toKey());const r=await PT(n.localStore,t);n.currentUser=t,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new $(x.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Cl(n,r._s)}}function FN(e,t){const n=ee(e),r=n.ya.get(t);if(r&&r.Ra)return ce().add(r.key);{let i=ce();const s=n.fa.get(t);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function jN(e){const t=ee(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=jT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=FN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=VN.bind(null,t),t.Va.a_=SN.bind(null,t.eventManager),t.Va.Fa=CN.bind(null,t.eventManager),t}function UN(e){const t=ee(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=LN.bind(null,t),t}class k_{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=of(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return Gk(this.persistence,new qk,t.initialUser,this.serializer)}createPersistence(t){return new Wk(xg.jr,this.serializer)}createSharedClientState(t){return new nN}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class BN{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>A_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$N.bind(null,this.syncEngine),await wN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new IN}()}createDatastore(t){const n=of(t.databaseInfo.databaseId),r=function(s){return new oN(s)}(t.databaseInfo);return function(s,o,a,l){return new uN(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new fN(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>A_(this.syncEngine,n,0),function(){return x_.D()?new x_:new rN}())}createSyncEngine(t,n){return function(i,s,o,a,l,u,c){const f=new AN(i,s,o,a,l,u);return c&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ee(n);U("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Sl(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):Ar("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mt.UNAUTHENTICATED,this.clientId=Q1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{U("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(U("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Ng(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Nh(e,t){e.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await PT(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function N_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await KN(e);U("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>P_(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>P_(t.remoteStore,s)),e._onlineComponents=t}function WN(e){return e.name==="FirebaseError"?e.code===x.FAILED_PRECONDITION||e.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function KN(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{await Nh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!WN(n))throw n;to("Error using user provided cache. Falling back to memory cache: "+n),await Nh(e,new k_)}}else U("FirestoreClient","Using default OfflineComponentProvider"),await Nh(e,new k_);return e._offlineComponents}async function WT(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),await N_(e,e._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),await N_(e,new BN))),e._onlineComponents}function HN(e){return WT(e).then(t=>t.syncEngine)}async function cc(e){const t=await WT(e),n=t.eventManager;return n.onListen=DN.bind(null,t.syncEngine),n.onUnlisten=NN.bind(null,t.syncEngine),n}function qN(e,t,n={}){const r=new Ir;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new $g({next:h=>{o.enqueueAndForget(()=>Vg(s,f));const d=h.docs.has(a);!d&&h.fromCache?u.reject(new $(x.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&l&&l.source==="server"?u.reject(new $(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new Lg(Zc(a.path),c,{includeMetadataChanges:!0,J_:!0});return Og(s,f)}(await cc(e),e.asyncQueue,t,n,r)),r.promise}function QN(e,t,n={}){const r=new Ir;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new $g({next:h=>{o.enqueueAndForget(()=>Vg(s,f)),h.fromCache&&l.source==="server"?u.reject(new $(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new Lg(a,c,{includeMetadataChanges:!0,J_:!0});return Og(s,f)}(await cc(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(e,t,n){if(!n)throw new $(x.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function GN(e,t,n,r){if(t===!0&&r===!0)throw new $(x.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function V_(e){if(!K.isDocumentKey(e))throw new $(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function b_(e){if(K.isDocumentKey(e))throw new $(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function uf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Y()}function bn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new $(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uf(e);throw new $(x.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new $(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new $(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}GN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KT((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new $(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new $(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new $(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class cf{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new $(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L_(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new gD;switch(r.type){case"firstParty":return new ED(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=O_.get(n);r&&(U("ComponentProvider","Removing Datastore"),O_.delete(n),r.terminate())}(this),Promise.resolve()}}function YN(e,t,n,r={}){var i;const s=(e=bn(e,cf))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Mt.MOCK_USER;else{a=YP(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new $(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Mt(u)}e._authCredentials=new yD(new q1(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ls(this.firestore,t,this._query)}}class Zt{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new si(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Zt(this.firestore,t,this._key)}}class si extends ls{constructor(t,n,r){super(t,n,Zc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Zt(this.firestore,null,new K(t))}withConverter(t){return new si(this.firestore,t,this._path)}}function Ln(e,t,...n){if(e=dr(e),HT("collection","path",t),e instanceof cf){const r=$e.fromString(t,...n);return b_(r),new si(e,null,r)}{if(!(e instanceof Zt||e instanceof si))throw new $(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child($e.fromString(t,...n));return b_(r),new si(e.firestore,null,r)}}function ji(e,t,...n){if(e=dr(e),arguments.length===1&&(t=Q1.newId()),HT("doc","path",t),e instanceof cf){const r=$e.fromString(t,...n);return V_(r),new Zt(e,null,new K(r))}{if(!(e instanceof Zt||e instanceof si))throw new $(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child($e.fromString(t,...n));return V_(r),new Zt(e.firestore,e instanceof si?e.converter:null,new K(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new AT(this,"async_queue_retry"),this.iu=()=>{const n=kh();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=kh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=kh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new Ir;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!El(t))throw t;U("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ar("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(t,n,r){this.su(),this.ru.indexOf(t)>-1&&(n=0);const i=kg.createAndSchedule(this,t,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&Y()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}function M_(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(e,["next","error","complete"])}class hi extends cf{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new XN}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||qT(this),this._firestoreClient.terminate()}}function JN(e,t){const n=typeof e=="object"?e:eA(),r=typeof e=="string"?e:t||"(default)",i=YR(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=QP("firestore");s&&YN(i,...s)}return i}function ff(e){return e._firestoreClient||qT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function qT(e){var t,n,r;const i=e._freezeSettings(),s=function(a,l,u,c){return new ND(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,KT(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new zN(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ao(zt.fromBase64String(t))}catch(n){throw new $(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ao(zt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new $(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new $(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new $(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ve(this._lat,t._lat)||ve(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=/^__.*__$/;class eO{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ei(t,this.data,this.fieldMask,n,this.fieldTransforms):new Tl(t,this.data,n,this.fieldTransforms)}}class QT{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Ei(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function GT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}class Ug{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new Ug(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Au(t),i}Ru(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return fc(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(t.length===0)throw this.mu("Document fields must not be empty");if(GT(this.Iu)&&ZN.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class tO{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||of(t)}pu(t,n,r,i=!1){return new Ug({Iu:t,methodName:n,gu:r,path:At.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bg(e){const t=e._freezeSettings(),n=of(e._databaseId);return new tO(e._databaseId,!!t.ignoreUndefinedProperties,n)}function nO(e,t,n,r,i,s={}){const o=e.pu(s.merge||s.mergeFields?2:0,t,n,i);zg("Data must be an object, but it was:",o,r);const a=YT(r,o);let l,u;if(s.merge)l=new _n(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const h=hp(t,f,n);if(!o.contains(h))throw new $(x.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);JT(c,h)||c.push(h)}l=new _n(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new eO(new on(a),l,u)}class df extends Fg{_toFieldTransform(t){if(t.Iu!==2)throw t.Iu===1?t.mu(`${this._methodName}() can only appear at the top level of your update data`):t.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof df}}function rO(e,t,n,r){const i=e.pu(1,t,n);zg("Data must be an object, but it was:",i,r);const s=[],o=on.empty();os(r,(l,u)=>{const c=Wg(t,l,n);u=dr(u);const f=i.Ru(c);if(u instanceof df)s.push(c);else{const h=xl(u,f);h!=null&&(s.push(c),o.set(c,h))}});const a=new _n(s);return new QT(o,a,i.fieldTransforms)}function iO(e,t,n,r,i,s){const o=e.pu(1,t,n),a=[hp(t,r,n)],l=[i];if(s.length%2!=0)throw new $(x.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(hp(t,s[h])),l.push(s[h+1]);const u=[],c=on.empty();for(let h=a.length-1;h>=0;--h)if(!JT(u,a[h])){const d=a[h];let y=l[h];y=dr(y);const v=o.Ru(d);if(y instanceof df)u.push(d);else{const w=xl(y,v);w!=null&&(u.push(d),c.set(d,w))}}const f=new _n(u);return new QT(c,f,o.fieldTransforms)}function sO(e,t,n,r=!1){return xl(n,e.pu(r?4:3,t))}function xl(e,t){if(XT(e=dr(e)))return zg("Unsupported field value:",t,e),YT(e,t);if(e instanceof Fg)return function(r,i){if(!GT(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&t.Iu!==4)throw t.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=xl(a,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=dr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=gt.fromDate(r);return{timestampValue:lc(i.serializer,s)}}if(r instanceof gt){const s=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lc(i.serializer,s)}}if(r instanceof jg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ao)return{bytesValue:wT(i.serializer,r._byteString)};if(r instanceof Zt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Sg(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${uf(r)}`)}(e,t)}function YT(e,t){const n={};return G1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):os(e,(r,i)=>{const s=xl(i,t.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function XT(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof gt||e instanceof jg||e instanceof ao||e instanceof Zt||e instanceof Fg)}function zg(e,t,n){if(!XT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=uf(n);throw r==="an object"?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function hp(e,t,n){if((t=dr(t))instanceof hf)return t._internalPath;if(typeof t=="string")return Wg(e,t);throw fc("Field path arguments must be of type string or ",e,!1,void 0,n)}const oO=new RegExp("[~\\*/\\[\\]]");function Wg(e,t,n){if(t.search(oO)>=0)throw fc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new hf(...t.split("."))._internalPath}catch{throw fc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function fc(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new $(x.INVALID_ARGUMENT,a+e+l)}function JT(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new aO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Kg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aO extends ZT{data(){return super.data()}}function Kg(e,t){return typeof t=="string"?Wg(e,t):t instanceof hf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new $(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hg{}class lO extends Hg{}function Xn(e,t,...n){let r=[];t instanceof Hg&&r.push(t),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof qg).length,a=s.filter(l=>l instanceof pf).length;if(o>1||o>0&&a>0)throw new $(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class pf extends lO{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new pf(t,n,r)}_apply(t){const n=this._parse(t);return tI(t._query,n),new ls(t.firestore,t.converter,ip(t._query,n))}_parse(t){const n=Bg(t.firestore);return function(s,o,a,l,u,c,f){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new $(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){F_(f,c);const d=[];for(const y of f)d.push($_(l,s,y));h={arrayValue:{values:d}}}else h=$_(l,s,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||F_(f,c),h=sO(a,o,f,c==="in"||c==="not-in");return at.create(u,c,h)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function oi(e,t,n){const r=t,i=Kg("where",e);return pf._create(i,r,n)}class qg extends Hg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new qg(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:er.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)tI(o,l),o=ip(o,l)}(t._query,n),new ls(t.firestore,t.converter,ip(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function $_(e,t,n){if(typeof(n=dr(n))=="string"){if(n==="")throw new $(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iT(t)&&n.indexOf("/")!==-1)throw new $(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child($e.fromString(n));if(!K.isDocumentKey(r))throw new $(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return a_(e,new K(r))}if(n instanceof Zt)return a_(e,n._key);throw new $(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uf(n)}.`)}function F_(e,t){if(!Array.isArray(e)||e.length===0)throw new $(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function tI(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new $(x.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new $(x.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class uO{convertValue(t,n="none"){switch(Yi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return st(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Gi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Y()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return os(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new jg(st(t.latitude),st(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=yg(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ha(t));default:return null}}convertTimestamp(t){const n=ci(t);return new gt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=$e.fromString(t);be(xT(r));const i=new qa(r.get(1),r.get(3)),s=new K(r.popFirst(5));return i.isEqual(n)||Ar(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class nI extends ZT{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new _u(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Kg("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class _u extends nI{data(t={}){return super.data(t)}}class rI{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Xo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new _u(this._firestore,this._userDataWriter,r.key,r,new Xo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new _u(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Xo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new _u(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Xo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:fO(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function fO(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(e){e=bn(e,Zt);const t=bn(e.firestore,hi);return qN(ff(t),e._key).then(n=>iI(t,e,n))}class Qg extends uO{constructor(t){super(),this.firestore=t}convertBytes(t){return new ao(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Zt(this.firestore,null,n)}}function Ui(e){e=bn(e,ls);const t=bn(e.firestore,hi),n=ff(t),r=new Qg(t);return eI(e._query),QN(n,e._query).then(i=>new rI(t,r,e,i))}function Gg(e,t,n,...r){e=bn(e,Zt);const i=bn(e.firestore,hi),s=Bg(i);let o;return o=typeof(t=dr(t))=="string"||t instanceof hf?iO(s,"updateDoc",e._key,t,n,r):rO(s,"updateDoc",e._key,t),Yg(i,[o.toMutation(e._key,Yn.exists(!0))])}function hc(e){return Yg(bn(e.firestore,hi),[new wg(e._key,Yn.none())])}function dO(e,t){const n=bn(e.firestore,hi),r=ji(e),i=cO(e.converter,t);return Yg(n,[nO(Bg(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,Yn.exists(!1))]).then(()=>r)}function Eu(e,...t){var n,r,i;e=dr(e);let s={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||M_(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(M_(t[o])){const f=t[o];t[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),t[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),t[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,c;if(e instanceof Zt)u=bn(e.firestore,hi),c=Zc(e._key.path),l={next:f=>{t[o]&&t[o](iI(u,e,f))},error:t[o+1],complete:t[o+2]};else{const f=bn(e,ls);u=bn(f.firestore,hi),c=f._query;const h=new Qg(u);l={next:d=>{t[o]&&t[o](new rI(u,h,f,d))},error:t[o+1],complete:t[o+2]},eI(e._query)}return function(h,d,y,v){const w=new $g(v),m=new Lg(d,w,y);return h.asyncQueue.enqueueAndForget(async()=>Og(await cc(h),m)),()=>{w.Na(),h.asyncQueue.enqueueAndForget(async()=>Vg(await cc(h),m))}}(ff(u),c,a,l)}function Yg(e,t){return function(r,i){const s=new Ir;return r.asyncQueue.enqueueAndForget(async()=>ON(await HN(r),i,s)),s.promise}(ff(e),t)}function iI(e,t,n){const r=n.docs.get(t._key),i=new Qg(e);return new nI(e,i,t._key,r,new Xo(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){So=i})(ZR),Yu(new ba("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new hi(new vD(r.getProvider("auth-internal")),new TD(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new $(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qa(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),zs(r_,"4.4.0",t),zs(r_,"4.4.0","esm2017")})();var sI={exports:{}},oI={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lo=g;function pO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mO=typeof Object.is=="function"?Object.is:pO,gO=lo.useState,yO=lo.useEffect,vO=lo.useLayoutEffect,_O=lo.useDebugValue;function EO(e,t){var n=t(),r=gO({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return vO(function(){i.value=n,i.getSnapshot=t,Oh(i)&&s({inst:i})},[e,n,t]),yO(function(){return Oh(i)&&s({inst:i}),e(function(){Oh(i)&&s({inst:i})})},[e]),_O(n),n}function Oh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mO(e,n)}catch{return!0}}function wO(e,t){return t()}var TO=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?wO:EO;oI.useSyncExternalStore=lo.useSyncExternalStore!==void 0?lo.useSyncExternalStore:TO;sI.exports=oI;var IO=sI.exports,aI={exports:{}},lI={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mf=g,SO=IO;function CO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xO=typeof Object.is=="function"?Object.is:CO,PO=SO.useSyncExternalStore,RO=mf.useRef,AO=mf.useEffect,DO=mf.useMemo,kO=mf.useDebugValue;lI.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=RO(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=DO(function(){function l(d){if(!u){if(u=!0,c=d,d=r(d),i!==void 0&&o.hasValue){var y=o.value;if(i(y,d))return f=y}return f=d}if(y=f,xO(c,d))return y;var v=r(d);return i!==void 0&&i(y,v)?y:(c=d,f=v)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var a=PO(e,s[0],s[1]);return AO(function(){o.hasValue=!0,o.value=a},[a]),kO(a),a};aI.exports=lI;var NO=aI.exports;function OO(e){e()}let uI=OO;const VO=e=>uI=e,bO=()=>uI,j_=Symbol.for("react-redux-context"),U_=typeof globalThis<"u"?globalThis:{};function LO(){var e;if(!g.createContext)return{};const t=(e=U_[j_])!=null?e:U_[j_]=new Map;let n=t.get(g.createContext);return n||(n=g.createContext(null),t.set(g.createContext,n)),n}const di=LO();function Xg(e=di){return function(){return g.useContext(e)}}const cI=Xg(),MO=()=>{throw new Error("uSES not initialized!")};let fI=MO;const $O=e=>{fI=e},FO=(e,t)=>e===t;function jO(e=di){const t=e===di?cI:Xg(e);return function(r,i={}){const{equalityFn:s=FO,stabilityCheck:o=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:u,getServerState:c,stabilityCheck:f,noopCheck:h}=t();g.useRef(!0);const d=g.useCallback({[r.name](v){return r(v)}}[r.name],[r,f,o]),y=fI(u.addNestedSub,l.getState,c||l.getState,d,s);return g.useDebugValue(y),y}}const Xa=jO();function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dp.apply(this,arguments)}function hI(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var dI={exports:{}},xe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var St=typeof Symbol=="function"&&Symbol.for,Jg=St?Symbol.for("react.element"):60103,Zg=St?Symbol.for("react.portal"):60106,gf=St?Symbol.for("react.fragment"):60107,yf=St?Symbol.for("react.strict_mode"):60108,vf=St?Symbol.for("react.profiler"):60114,_f=St?Symbol.for("react.provider"):60109,Ef=St?Symbol.for("react.context"):60110,ey=St?Symbol.for("react.async_mode"):60111,wf=St?Symbol.for("react.concurrent_mode"):60111,Tf=St?Symbol.for("react.forward_ref"):60112,If=St?Symbol.for("react.suspense"):60113,UO=St?Symbol.for("react.suspense_list"):60120,Sf=St?Symbol.for("react.memo"):60115,Cf=St?Symbol.for("react.lazy"):60116,BO=St?Symbol.for("react.block"):60121,zO=St?Symbol.for("react.fundamental"):60117,WO=St?Symbol.for("react.responder"):60118,KO=St?Symbol.for("react.scope"):60119;function Pn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Jg:switch(e=e.type,e){case ey:case wf:case gf:case vf:case yf:case If:return e;default:switch(e=e&&e.$$typeof,e){case Ef:case Tf:case Cf:case Sf:case _f:return e;default:return t}}case Zg:return t}}}function pI(e){return Pn(e)===wf}xe.AsyncMode=ey;xe.ConcurrentMode=wf;xe.ContextConsumer=Ef;xe.ContextProvider=_f;xe.Element=Jg;xe.ForwardRef=Tf;xe.Fragment=gf;xe.Lazy=Cf;xe.Memo=Sf;xe.Portal=Zg;xe.Profiler=vf;xe.StrictMode=yf;xe.Suspense=If;xe.isAsyncMode=function(e){return pI(e)||Pn(e)===ey};xe.isConcurrentMode=pI;xe.isContextConsumer=function(e){return Pn(e)===Ef};xe.isContextProvider=function(e){return Pn(e)===_f};xe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jg};xe.isForwardRef=function(e){return Pn(e)===Tf};xe.isFragment=function(e){return Pn(e)===gf};xe.isLazy=function(e){return Pn(e)===Cf};xe.isMemo=function(e){return Pn(e)===Sf};xe.isPortal=function(e){return Pn(e)===Zg};xe.isProfiler=function(e){return Pn(e)===vf};xe.isStrictMode=function(e){return Pn(e)===yf};xe.isSuspense=function(e){return Pn(e)===If};xe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===gf||e===wf||e===vf||e===yf||e===If||e===UO||typeof e=="object"&&e!==null&&(e.$$typeof===Cf||e.$$typeof===Sf||e.$$typeof===_f||e.$$typeof===Ef||e.$$typeof===Tf||e.$$typeof===zO||e.$$typeof===WO||e.$$typeof===KO||e.$$typeof===BO)};xe.typeOf=Pn;dI.exports=xe;var HO=dI.exports,mI=HO,qO={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},QO={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},gI={};gI[mI.ForwardRef]=qO;gI[mI.Memo]=QO;var Ae={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty=Symbol.for("react.element"),ny=Symbol.for("react.portal"),xf=Symbol.for("react.fragment"),Pf=Symbol.for("react.strict_mode"),Rf=Symbol.for("react.profiler"),Af=Symbol.for("react.provider"),Df=Symbol.for("react.context"),GO=Symbol.for("react.server_context"),kf=Symbol.for("react.forward_ref"),Nf=Symbol.for("react.suspense"),Of=Symbol.for("react.suspense_list"),Vf=Symbol.for("react.memo"),bf=Symbol.for("react.lazy"),YO=Symbol.for("react.offscreen"),yI;yI=Symbol.for("react.module.reference");function Fn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ty:switch(e=e.type,e){case xf:case Rf:case Pf:case Nf:case Of:return e;default:switch(e=e&&e.$$typeof,e){case GO:case Df:case kf:case bf:case Vf:case Af:return e;default:return t}}case ny:return t}}}Ae.ContextConsumer=Df;Ae.ContextProvider=Af;Ae.Element=ty;Ae.ForwardRef=kf;Ae.Fragment=xf;Ae.Lazy=bf;Ae.Memo=Vf;Ae.Portal=ny;Ae.Profiler=Rf;Ae.StrictMode=Pf;Ae.Suspense=Nf;Ae.SuspenseList=Of;Ae.isAsyncMode=function(){return!1};Ae.isConcurrentMode=function(){return!1};Ae.isContextConsumer=function(e){return Fn(e)===Df};Ae.isContextProvider=function(e){return Fn(e)===Af};Ae.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ty};Ae.isForwardRef=function(e){return Fn(e)===kf};Ae.isFragment=function(e){return Fn(e)===xf};Ae.isLazy=function(e){return Fn(e)===bf};Ae.isMemo=function(e){return Fn(e)===Vf};Ae.isPortal=function(e){return Fn(e)===ny};Ae.isProfiler=function(e){return Fn(e)===Rf};Ae.isStrictMode=function(e){return Fn(e)===Pf};Ae.isSuspense=function(e){return Fn(e)===Nf};Ae.isSuspenseList=function(e){return Fn(e)===Of};Ae.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===xf||e===Rf||e===Pf||e===Nf||e===Of||e===YO||typeof e=="object"&&e!==null&&(e.$$typeof===bf||e.$$typeof===Vf||e.$$typeof===Af||e.$$typeof===Df||e.$$typeof===kf||e.$$typeof===yI||e.getModuleId!==void 0)};Ae.typeOf=Fn;function XO(){const e=bO();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!i||t===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}const B_={notify(){},get:()=>[]};function JO(e,t){let n,r=B_,i=0,s=!1;function o(v){c();const w=r.subscribe(v);let m=!1;return()=>{m||(m=!0,w(),f())}}function a(){r.notify()}function l(){y.onStateChange&&y.onStateChange()}function u(){return s}function c(){i++,n||(n=t?t.addNestedSub(l):e.subscribe(l),r=XO())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=B_)}function h(){s||(s=!0,c())}function d(){s&&(s=!1,f())}const y={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:d,getListeners:()=>r};return y}const ZO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",e2=ZO?g.useLayoutEffect:g.useEffect;function t2({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",noopCheck:s="once"}){const o=g.useMemo(()=>{const u=JO(e);return{store:e,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:s}},[e,r,i,s]),a=g.useMemo(()=>e.getState(),[e]);e2(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==e.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=t||di;return g.createElement(l.Provider,{value:o},n)}function vI(e=di){const t=e===di?cI:Xg(e);return function(){const{store:r}=t();return r}}const n2=vI();function r2(e=di){const t=e===di?n2:vI(e);return function(){return t().dispatch}}const _I=r2();$O(NO.useSyncExternalStoreWithSelector);VO(Oa.unstable_batchedUpdates);var i2="firebase",s2="10.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zs(i2,s2,"app");const o2={apiKey:"AIzaSyDYgbHcOme6RD1Vxbj9cHM-e1hKEhXdWyI",authDomain:"store-management-e8c6c.firebaseapp.com",projectId:"store-management-e8c6c",storageBucket:"store-management-e8c6c.appspot.com",messagingSenderId:"533231583994",appId:"1:533231583994:web:8fef0e8ab30d55c74f7f43",measurementId:"G-C5047V9P0V"},a2=Uw(o2),Et=JN(a2),l2=({customer:e})=>{const[t,n]=g.useState([]),[r,i]=g.useState(!0),s=Eo();g.useEffect(()=>{r?n([]):o()},[r]);const o=()=>{const a=Xn(Ln(Et,"purchases"),oi("customerID","==",e.id));Ui(a).then(l=>{let u=[];l.forEach(f=>{const h={...f.data()};u.push(h)});const c=Xn(Ln(Et,"products"),oi("id","in",u.map(f=>f.productID)));Ui(c).then(f=>{let h=[];f.forEach(y=>{h.push({id:y.id,...y.data()})});const d=u.map(y=>{const v=h.find(w=>w.id===y.productID);return v?{...y,name:v.name}:y});n(d)})})};return T.jsxs(T.Fragment,{children:[T.jsx("td",{children:`${e.firstName} ${e.lastName}`}),T.jsx("td",{children:e.city}),T.jsxs("td",{children:[t==null?void 0:t.map((a,l)=>T.jsxs("div",{className:"customer-bought-product-row",children:[T.jsx("div",{children:T.jsx(Tr,{to:`products/edit/${a.id}/${a.name}/${a.price}/${a.quantity}`,children:a.name})}),T.jsx("div",{children:a.date})]},l)),r?T.jsx("button",{onClick:()=>i(!r),children:"Show Products"}):T.jsx("button",{onClick:()=>i(!r),children:"Hide Products"})]}),T.jsx("td",{children:T.jsx("button",{onClick:()=>s(`add/${e.id}/${e.firstName+" "+e.lastName}`),style:{marginLeft:"auto"},children:"Add"})})]})},u2=()=>{const e=Xa(n=>n.customersReducer.customers),t=_o();return T.jsxs("div",{children:[T.jsxs("table",{style:{float:"left"},children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{id:"name",children:"Name"}),T.jsx("th",{id:"city",children:"City"}),T.jsx("th",{id:"productsList",children:"List of Bought Products"}),T.jsx("th",{id:"action",children:"Action"})]})}),T.jsx("tbody",{children:e==null?void 0:e.map(n=>T.jsx("tr",{children:T.jsx(l2,{customer:n})},n.id))})]}),T.jsx("div",{className:"customers-page-outlet-box",children:T.jsx(Nw,{},t.pathname)})]})},c2=()=>{const e=_I();g.useEffect(()=>{t(),r(),n()},[]);const t=()=>{const l=Xn(Ln(Et,"products"));Eu(l,u=>{i(u.docs.map(c=>({id:c.id,...c.data()})))})},n=()=>{const l=Xn(Ln(Et,"customers"));Eu(l,u=>{s(u.docs.map(c=>({id:c.id,...c.data()})))})},r=()=>{const l=Xn(Ln(Et,"purchases"));Eu(l,u=>{let c=0;o(u.docs.map(f=>(c+=+f.data().price,{id:f.id,...f.data()}))),a(c)})},i=l=>{e({type:"init-products",payload:{productsData:l}})},s=l=>{e({type:"init-customers",payload:{customersData:l}})},o=l=>{e({type:"set-purchased-products",payload:{purchasedProduct:l}})},a=l=>{e({type:"add-purchase",payload:{totalPurchases:l}})};return T.jsxs("div",{style:{display:"flex"},children:[T.jsxs("div",{style:{marginTop:"40px"},children:[T.jsx("div",{className:"menu-box",children:T.jsx(Tr,{to:"/products",children:"Products"})}),T.jsx("div",{className:"menu-box",children:T.jsx(Tr,{to:"/purchases",children:"Purchases"})}),T.jsx("div",{className:"menu-box",children:T.jsx(Tr,{to:"/customers",children:"Customers"})})]}),T.jsxs("div",{style:{border:"1px solid",borderRadius:"25px",padding:"15px",margin:"0 auto"},children:[T.jsx("h2",{children:"Welcome to the store management system!"}),T.jsxs("h3",{children:["Here you'll be able to perform various actions on certain products,"," ",T.jsx("br",{}),"customers and purchases that were made."]})]})]})},f2=(e,t)=>{const n=new Set;return e.filter(r=>{const i=r[t];return n.has(i)?!1:(n.add(i),!0)})},h2=({product:e})=>{const t=Eo(),n=_I(),[r,i]=g.useState([]),[s,o]=g.useState([]),[a,l]=g.useState(!1),[u,c]=g.useState(!1);g.useEffect(()=>{const h=f2(s,"customerID");f(h)},[s,u]),g.useEffect(()=>{o([]),r==null||r.map(h=>{const d=Xn(Ln(Et,"customers"),oi("id","==",h.customerID));Ui(d).then(y=>{o(v=>[...v,...y.docs.map(w=>({name:`${w.data().firstName} ${w.data().lastName}`,date:h.date,customerID:w.data().id,purchaseID:h.id,productDetails:h.productDetails}))])})})},[r]),g.useEffect(()=>{const h=Xn(Ln(Et,"purchases"),oi("productID","==",e.id));Eu(h,d=>{i(d.docs.map(y=>({id:y.id,...y.data(),productDetails:{...e}})))})},[]);const f=h=>{n({type:"set-purchasing-customers",payload:{buyingCustomers:h}})};return T.jsxs("div",{children:[T.jsxs("div",{children:["Name: ",T.jsx(Tr,{children:e.name})," ",T.jsx("br",{}),"Price: ",e.price," ",T.jsx("br",{}),"Quantity: ",e.quantity,T.jsx("br",{})]})," ",T.jsx("br",{}),T.jsxs("div",{children:[T.jsx("button",{onClick:()=>{c(!u),t(`edit/${e.id}/${e.name}/${e.price}/${e.quantity}`)},children:"Edit"})," ",T.jsx("button",{onClick:()=>l(!a),children:"Purchase History"}),T.jsx("br",{}),T.jsx("br",{}),T.jsx("div",{className:"products-history",children:a?s==null?void 0:s.map(h=>T.jsxs("div",{style:{display:"flex",borderBottom:"1px solid",padding:"15px"},children:[" ",T.jsxs("div",{style:{paddingRight:"50px"},children:["NAME:"," ",T.jsx(Tr,{to:`edit/${h.customerID}`,children:`${h.name}`})," ",T.jsx("br",{})," ",`DATE: ${h.date} `]})," ",T.jsx("button",{onClick:()=>t(`add/${h.customerID}/${h.name}`),style:{marginLeft:"auto"},children:"Add"})]},h.purchaseID)):null})]})]})},d2=()=>{const e=_o(),t=Xa(r=>r.purchasesReducer.totalPurchases),n=Xa(r=>r.productsReducer.products);return T.jsxs("div",{children:[T.jsx("div",{className:"products-box",children:n==null?void 0:n.map(r=>T.jsx("div",{className:"product",children:T.jsx(h2,{product:r})},r.id))}),T.jsx("div",{className:"products-page-outlet-box",children:T.jsx(Nw,{},e.pathname)}),T.jsx("div",{className:"total-box",children:T.jsxs(T.Fragment,{children:[T.jsx("h2",{children:"Total Purchases"}),T.jsxs("h3",{children:[t," NIS"]})]})})]})},p2=()=>T.jsx("div",{children:"Purchases"});var EI={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)t.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(EI);var m2=EI.exports;const ge=vc(m2);var wI={exports:{}},g2="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",y2=g2,v2=y2;function TI(){}function II(){}II.resetWarningCache=TI;var _2=function(){function e(r,i,s,o,a,l){if(l!==v2){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:II,resetWarningCache:TI};return n.PropTypes=n,n};wI.exports=_2();var ie=wI.exports;const _=vc(ie);function z_(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function E2(e){var t=w2(e,"string");return typeof t=="symbol"?t:String(t)}function w2(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wn(e,t,n){var r=g.useRef(e!==void 0),i=g.useState(t),s=i[0],o=i[1],a=e!==void 0,l=r.current;return r.current=a,!a&&l&&s!==t&&o(t),[a?e:s,g.useCallback(function(u){for(var c=arguments.length,f=new Array(c>1?c-1:0),h=1;h<c;h++)f[h-1]=arguments[h];n&&n.apply(void 0,[u].concat(f)),o(u)},[n])]}function SI(e,t){return Object.keys(t).reduce(function(n,r){var i,s=n,o=s[z_(r)],a=s[r],l=hI(s,[z_(r),r].map(E2)),u=t[r],c=wn(a,o,e[u]),f=c[0],h=c[1];return dp({},l,(i={},i[r]=f,i[u]=h,i))},e)}function pp(e,t){return pp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pp(e,t)}function T2(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,pp(e,t)}/*!
Font Awesome Free 5.2.0 by @fontawesome - https://fontawesome.com
License - https://fontawesome.com/license (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
*/const Lf=g.createElement("svg",{height:"1em",fill:"currentcolor",viewBox:"0 0 320 512","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"}));/*!
Font Awesome Free 5.2.0 by @fontawesome - https://fontawesome.com
License - https://fontawesome.com/license (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
*/const I2=g.createElement("svg",{height:"1em",fill:"currentcolor",viewBox:"0 0 320 512","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{d:"M285.48 272.97L91.13 467.31a24 24 0 0 1-33.94 0l-22.67-22.66a24 24 0 0 1-.04-33.9L188.5 256 34.48 101.25a24 24 0 0 1 .04-33.9L57.2 44.7a24 24 0 0 1 33.94 0l194.35 194.34a24 24 0 0 1 0 33.94z"})),S2=g.createElement("svg",{height:"1em",fill:"currentcolor",viewBox:"0 0 320 512","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{d:"M34.52 239.03L228.87 44.69a24 24 0 0 1 33.94 0l22.67 22.67a24 24 0 0 1 .04 33.9L131.49 256l154.02 154.75a24 24 0 0 1-.04 33.9l-22.67 22.67a24 24 0 0 1-33.94 0L34.52 272.97a24 24 0 0 1 0-33.94z"}));/*!
Font Awesome Free 5.2.0 by @fontawesome - https://fontawesome.com
License - https://fontawesome.com/license (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
*/const C2=g.createElement("svg",{"aria-hidden":!0,height:"1em",fill:"currentcolor",viewBox:"0 0 448 512",className:"rw-i-calendar",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{d:"M148 288h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"})),CI=g.createElement("svg",{height:".8em",fill:"currentcolor",viewBox:"0 0 352 512","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})),ry=g.createElement("svg",{height:"1.4em",viewBox:"0 0 50 50",xmlSpace:"preserve","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{fill:"currentcolor",d:"M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z"},g.createElement("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 25 25",to:"360 25 25",dur:"0.6s",repeatCount:"indefinite"}))),x2=["className","disabled","label","icon","busy","children","spinner"];function mp(){return mp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mp.apply(this,arguments)}function P2(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function iy(e){let{className:t,disabled:n,label:r,icon:i,busy:s,children:o,spinner:a=ry}=e,l=P2(e,x2);return g.createElement("button",mp({tabIndex:-1},l,{title:r,type:"button",disabled:n,"aria-label":r,"aria-disabled":n,className:ge(t,"rw-btn")}),s?a:i,o)}const R2=["className"];function gp(){return gp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gp.apply(this,arguments)}function A2(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function tu(e){let{className:t}=e,n=A2(e,R2);return g.createElement(iy,gp({},n,{tabIndex:void 0,className:ge(t,"rw-calendar-btn")}))}function D2({localizer:e,label:t,labelId:n,onMoveRight:r,onMoveToday:i,onMoveLeft:s,onViewChange:o,prevDisabled:a,todayDisabled:l,upDisabled:u,nextDisabled:c,navigatePrevIcon:f=S2,navigateNextIcon:h=I2}){return S.createElement("div",{className:"rw-calendar-header"},S.createElement(tu,{id:n,onClick:o,className:"rw-calendar-btn-view",disabled:u,"aria-live":"polite","aria-atomic":"true"},t," ",Lf),S.createElement(tu,{className:"rw-calendar-btn-left",onClick:s,disabled:a,label:e.messages.moveBack(),icon:f}),S.createElement(tu,{className:"rw-calendar-btn-today",disabled:l,onClick:i},e.messages.moveToday()),S.createElement(tu,{className:"rw-calendar-btn-right",onClick:r,disabled:c,label:e.messages.moveForward(),icon:h}))}var dc="milliseconds",Ja="seconds",Za="minutes",el="hours",Xi="day",uo="week",tl="month",Ji="year",Zi="decade",es="century",xI={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},k2={month:1,year:12,decade:10*12,century:100*12};function N2(e){return[31,O2(e),31,30,31,30,31,31,30,31,30,31]}function O2(e){return e%4===0&&e%100!==0||e%400===0?29:28}function ts(e,t,n){switch(e=new Date(e),n){case dc:case Ja:case Za:case el:case Xi:case uo:return V2(e,t*xI[n]);case tl:case Ji:case Zi:case es:return b2(e,t*k2[n])}throw new TypeError('Invalid units: "'+n+'"')}function V2(e,t){var n=new Date(+e+t);return L2(e,n)}function b2(e,t){var n=e.getFullYear(),r=e.getMonth(),i=e.getDate(),s=n*12+r+t,o=Math.trunc(s/12),a=s%12,l=Math.min(i,N2(o)[a]),u=new Date(e);return u.setFullYear(o),u.setDate(1),u.setMonth(a),u.setDate(l),u}function L2(e,t){var n=e.getTimezoneOffset(),r=t.getTimezoneOffset(),i=r-n;return new Date(+t+i*xI.minutes)}function nl(e,t,n){return ts(e,-t,n)}function co(e,t,n){switch(e=new Date(e),t){case es:case Zi:case Ji:e=pc(e,0);case tl:e=VI(e,1);case uo:case Xi:e=NI(e,0);case el:e=kI(e,0);case Za:e=DI(e,0);case Ja:e=AI(e,0)}return t===Zi&&(e=nl(e,ns(e)%10,"year")),t===es&&(e=nl(e,ns(e)%100,"year")),t===uo&&(e=bI(e,0,n)),e}function M2(e,t,n){switch(e=new Date(e),e=co(e,t,n),t){case es:case Zi:case Ji:case tl:case uo:e=ts(e,1,t),e=nl(e,1,Xi),e.setHours(23,59,59,999);break;case Xi:e.setHours(23,59,59,999);break;case el:case Za:case Ja:e=ts(e,1,t),e=nl(e,1,dc)}return e}var $2=Po(function(e,t){return e===t}),F2=Po(function(e,t){return e!==t}),j2=Po(function(e,t){return e>t}),PI=Po(function(e,t){return e>=t}),U2=Po(function(e,t){return e<t}),RI=Po(function(e,t){return e<=t});function B2(){return new Date(Math.min.apply(Math,arguments))}function z2(){return new Date(Math.max.apply(Math,arguments))}function W2(e,t,n,r){return r=r||"day",(!t||PI(e,t,r))&&(!n||RI(e,n,r))}var AI=wi("Milliseconds"),DI=wi("Seconds"),kI=wi("Minutes"),NI=wi("Hours"),OI=wi("Day"),VI=wi("Date"),pc=wi("Month"),ns=wi("FullYear");function K2(e,t){return t===void 0?ns(co(e,Zi)):ts(e,t+10,Ji)}function H2(e,t){return t===void 0?ns(co(e,es)):ts(e,t+100,Ji)}function bI(e,t,n){var r=(OI(e)+7-(n||0))%7;return t===void 0?r:ts(e,t-r,Xi)}function q2(e,t,n,r){var i,s,o;switch(n){case dc:case Ja:case Za:case el:case Xi:case uo:i=t.getTime()-e.getTime();break;case tl:case Ji:case Zi:case es:i=(ns(t)-ns(e))*12+pc(t)-pc(e);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case dc:s=1;break;case Ja:s=1e3;break;case Za:s=1e3*60;break;case el:s=1e3*60*60;break;case Xi:s=1e3*60*60*24;break;case uo:s=1e3*60*60*24*7;break;case tl:s=1;break;case Ji:s=12;break;case Zi:s=120;break;case es:s=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return o=i/s,r?o:Math.round(o)}function wi(e){var t=function(n){switch(n){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(n,r){if(r===void 0)return n["get"+e]();var i=new Date(n);return i["set"+e](r),t&&i["get"+e]()!=r&&(e==="Hours"||r>=t&&i.getHours()-n.getHours()<Math.floor(r/t))&&i["set"+e](r+t),i}}function Po(e){return function(t,n,r){return e(+co(t,r),+co(n,r))}}const Q2=Object.freeze(Object.defineProperty({__proto__:null,add:ts,century:H2,date:VI,day:OI,decade:K2,diff:q2,endOf:M2,eq:$2,gt:j2,gte:PI,hours:NI,inRange:W2,lt:U2,lte:RI,max:z2,milliseconds:AI,min:B2,minutes:kI,month:pc,neq:F2,seconds:DI,startOf:co,subtract:nl,weekday:bI,year:ns},Symbol.toStringTag,{value:"Module"}));let Jo=e=>e==null||isNaN(+e),z=Object.assign({},Q2,{merge(e,t,n){return Jo(t)&&Jo(e)==null?null:(Jo(t)&&(t=n||new Date),Jo(e)&&(e=n||new Date),e=z.startOf(e,"day"),e=z.hours(e,z.hours(t)),e=z.minutes(e,z.minutes(t)),e=z.seconds(e,z.seconds(t)),z.milliseconds(e,z.milliseconds(t)))}});function G2(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e},[e]),t}function yn(e){const t=G2(e);return g.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function Mf(){const e=g.useRef(!0),t=g.useRef(()=>e.current);return g.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function Y2(e){const t=Mf(),n=g.useRef(),r=g.useRef(),i=yn(e.willHandle),s=yn(e.didHandle),o=yn(e.onChange),a=yn(e.isDisabled),l=g.useCallback((c,f)=>{c!==n.current&&(s==null||s(c,f),(t()||!c)&&(n.current=c,o==null||o(c,f)))},[t,s,o,n]),u=g.useCallback((c,f)=>{a()||(f&&f.persist&&f.persist(),(i==null?void 0:i(c,f))!==!1&&(clearTimeout(r.current),c?l(c,f):r.current=window.setTimeout(()=>l(c,f))))},[i,l]);return g.useMemo(()=>({onBlur:c=>{u(!1,c)},onFocus:c=>{u(!0,c)}}),[u])}var Vh;function LI(e,t){if(!Vh){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;Vh=function(s,o){return r.call(s,o)}}return Vh(e,t)}const X2=e=>!!e&&LI(e,"fieldset[disabled] *");function Ti(e,t={},n={}){const r=Mf(),[i,s]=g.useState(!1),o=yn(()=>t.disabled===!0||X2(e.current));return[Y2(Object.assign({},n,{isDisabled:o,onChange:l=>{r()&&s(l)},didHandle(l,u){let c=t[l?"onFocus":"onBlur"];c&&c(u),n.didHandle&&!u.isWidgetDefaultPrevented&&n.didHandle(l,u)}})),i,s]}function rl(){return rl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rl.apply(this,arguments)}function J2(e,t,n){return z.max(z.min(e,n),t)}function lt({className:e,focusedItem:t,onKeyDown:n,children:r,"aria-labelledby":i}){const s=g.useRef(null),[o,a]=Ti(s);return g.useEffect(()=>{var l;const u=s.current;!u||!a||(l=u.querySelector(".rw-cell[tabindex]"))==null||l.focus()},[t,a,s]),S.createElement("div",rl({role:"grid",ref:s,tabIndex:-1},o,{onKeyDown:n,"aria-labelledby":i,className:ge(e,"rw-nav-view","rw-calendar-grid")}),r)}function Z2({onChange:e,min:t,max:n,date:r,unit:i,disabled:s,selected:o,focusedItem:a,viewUnit:l,children:u,label:c}){const f=p=>z.eq(r,p,i),h=!z.inRange(r,t,n,i),d=s||h,y=!s&&!h&&f(a),v=o&&f(o),w=r&&a&&l&&z[l](r)!==z[l](a),m=()=>{e(J2(r,t,n))};return S.createElement("div",{role:"gridcell",title:c,"aria-label":c,"aria-readonly":s,"aria-selected":!!v,tabIndex:y?0:void 0,onClick:d?void 0:m,className:ge("rw-cell",d&&"rw-state-disabled",h&&"rw-cell-not-allowed",w&&"rw-cell-off-range",v&&"rw-state-selected")},S.createElement("span",{"aria-hidden":!0},u))}lt.Body=e=>S.createElement("div",rl({role:"rowgroup",className:"rw-calendar-body"},e));lt.Row=e=>S.createElement("div",rl({role:"row",className:"rw-calendar-row"},e));lt.Cell=Z2;function eV(e){return Array.isArray(e)?e:[]}const MI=(e,t=!0)=>{const n=[];return t&&e==null?n:n.concat(e)},tV=(e,t)=>e?Object.prototype.hasOwnProperty.call(e,t):!1;function $f(e,t){let n=0,r=e?e.length:0,i=[];for(t=Math.max(+t||1,1);n<r;)i.push(e.slice(n,n+=t));return i}function nV(e,t,n=[]){const r=typeof e=="function"?e:s=>s[e];typeof e!="string"||!t.length||tV(t[0],e);const i=new Map;return t.forEach(s=>{let o=r(s);i.has(o)?i.get(o).push(s):i.set(o,[s])}),Array.from(i)}const rV=["focusedItem","disabled","onChange","value","localizer","min","max"];function yp(){return yp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yp.apply(this,arguments)}function iV(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function sV(e){let{focusedItem:t,disabled:n,onChange:r,value:i,localizer:s,min:o,max:a}=e,l=iV(e,rV);const u=g.useMemo(()=>$f(oV(t),4),[t]);return S.createElement(lt,yp({},l,{focusedItem:t}),S.createElement(lt.Body,null,u.map((c,f)=>S.createElement(lt.Row,{key:f},c.map((h,d)=>{let y=s.formatDate(z.startOf(h,"decade"),"decade");return S.createElement(lt.Cell,{key:d,unit:"decade",viewUnit:"century",label:y,date:h,min:o,max:a,onChange:r,focusedItem:t,selected:i,disabled:n},y)})))))}function oV(e){let t=[1,2,3,4,5,6,7,8,9,10,11,12],n=z.add(z.startOf(e,"century"),-20,"year");return t.map(()=>n=z.add(n,10,"year"))}const aV=["focusedItem","disabled","onChange","value","localizer","min","max"];function vp(){return vp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vp.apply(this,arguments)}function lV(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function uV(e){let{focusedItem:t,disabled:n,onChange:r,value:i,localizer:s,min:o,max:a}=e,l=lV(e,aV);const u=g.useMemo(()=>$f(cV(t),4),[t]);return S.createElement(lt,vp({},l,{focusedItem:t}),S.createElement(lt.Body,null,u.map((c,f)=>S.createElement(lt.Row,{key:f},c.map((h,d)=>{let y=s.formatDate(h,"year");return S.createElement(lt.Cell,{key:d,unit:"year",viewUnit:"decade",label:y,date:h,min:o,max:a,onChange:r,focusedItem:t,selected:i,disabled:n},y)})))))}function cV(e){let t=[1,2,3,4,5,6,7,8,9,10,11,12],n=z.add(z.startOf(e,"decade"),-2,"year");return t.map(()=>n=z.add(n,1,"year"))}const W_={day:"numeric",month:"numeric",year:"numeric"},K_={hour:"numeric",minute:"numeric"},Mr=(e,t)=>Intl.DateTimeFormat(e,t).format;class fV{constructor({culture:t=void 0,firstOfWeek:n=0}={}){this.culture=t,this.firstOfWeek=()=>n;function r(s,o){return typeof o=="function"?o(s,t):s.toLocaleString(t,o)}const i={date:Mr(t,W_),time:Mr(t,K_),datetime:Mr(t,Object.assign({},W_,K_)),header:Mr(t,{month:"short",year:"numeric"}),weekday:Mr(t,{weekday:"narrow"}),dayOfMonth:Mr(t,{day:"2-digit"}),month:Mr(t,{month:"short"}),year:Mr(t,{year:"numeric"}),decade:s=>`${this.year(s)} - ${this.year(z.endOf(s,"decade"))}`,century:s=>`${this.year(s)} - ${this.year(z.endOf(s,"century"))}`};Object.keys(i).forEach(s=>{this[s]=(o,a)=>a?r(o,a):i[s](o)})}toFormattedParts(t,n={dateStyle:"short",timeStyle:"short"}){return Intl.DateTimeFormat(this.culture,n).formatToParts(t).filter(r=>r.type!=="timeZoneName")}parse(t){const n=new Date(t);return isNaN(+n)?null:n}}class hV{constructor({culture:t=void 0}={}){var n;this.culture=t;const r="formatToParts"in Intl.NumberFormat(t)?Intl.NumberFormat(t).formatToParts(1.1)[1].value:((n=1.1.toLocaleString(t).match(/[^\d]/))==null?void 0:n[0])||".",i=Intl.NumberFormat(t).format;this.decimalCharacter=()=>r,this.format=(s,o)=>o?typeof o=="function"?o(s,t):s.toLocaleString(t,o):i(s)}parse(t){return parseFloat(t.replace(this.decimalCharacter(),"."))}}const H_={moveToday:"Today",moveBack:"Navigate back",moveForward:"Navigate forward",dateButton:"Select date",openCombobox:"open combobox",emptyList:"There are no items in this list",emptyFilter:"The filter returned no results",createOption:(e,t)=>[" Create option",t&&" ",t&&g.createElement("strong",{key:"_"},`"${t}"`)],tagsLabel:"Selected items",removeLabel:"Remove selected item",noneSelected:"no selected items",selectedItems:e=>`Selected items: ${e.join(", ")}`,increment:"Increment value",decrement:"Decrement value"},dV={};function sy(e=dV){let t={};return Object.keys(H_).forEach(n=>{let r=e[n];r==null&&(r=H_[n]),t[n]=typeof r=="function"?r:()=>r}),t}const oy=e=>g.useMemo(()=>sy(e),[e]);function pV(e,t,n,r={}){if(!e&&!t)throw new Error("This component requires a Localizer but none was provided");return{formatOverrides:r,messages:sy(n),formatDate(i,s,o){return e[s](i,o??this.formatOverrides[s])},formatNumber(i,s){return t.format(i,s??this.formatOverrides.number)},parseDate:e.parse.bind(e),parseNumber:t.parse.bind(t),decimalCharacter:t.decimalCharacter.bind(t),firstOfWeek:e.firstOfWeek.bind(e)}}const mV=S.createContext(pV(new fV,new hV)),ay=(e,t)=>{const n=g.useContext(mV);return g.useMemo(()=>!e&&!t?n:Object.assign({},n,{messages:sy(Object.assign({},n.messages,e)),formatOverrides:Object.assign({},n.formatOverrides,t)}),[e,t,n])},gV=["className","focusedItem","disabled","onChange","value","min","max","localizer","renderDay"];function _p(){return _p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_p.apply(this,arguments)}function yV(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function vV(e,t){let n=z.startOf(z.startOf(e,"month"),"week",t),r=z.endOf(z.endOf(e,"month"),"week",t),i=[];for(;z.lte(n,r,"day");)i.push(n),n=z.add(n,1,"day");return i}function _V(e){let{className:t,focusedItem:n,disabled:r,onChange:i,value:s,min:o,max:a,localizer:l,renderDay:u}=e,c=yV(e,gV),f=vV(n,l.firstOfWeek()),h=$f(f,7);return S.createElement(lt,_p({},c,{focusedItem:n,className:ge(t,"rw-calendar-month")}),S.createElement("div",{role:"rowgroup",className:"rw-calendar-head"},S.createElement(lt.Row,{className:"rw-calendar-row"},h[0].map((d,y)=>S.createElement("div",{role:"columnheader",className:"rw-head-cell",key:y},l.formatDate(d,"weekday"))))),S.createElement(lt.Body,null,h.map((d,y)=>S.createElement(lt.Row,{key:y},d.map((v,w)=>{let m=l.formatDate(v,"dayOfMonth"),p=l.formatDate(v,"date");return S.createElement(lt.Cell,{key:w,label:p,date:v,min:o,max:a,unit:"day",viewUnit:"month",onChange:i,focusedItem:n,selected:s,disabled:r},u?u({date:v,label:m}):m)})))))}function ly(e){return e&&e.ownerDocument||document}function EV(e){var t=ly(e);return t&&t.defaultView||window}function wV(e,t){return EV(e).getComputedStyle(e,t)}var TV=/([A-Z])/g;function IV(e){return e.replace(TV,"-$1").toLowerCase()}var SV=/^ms-/;function nu(e){return IV(e).replace(SV,"-ms-")}var CV=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function xV(e){return!!(e&&CV.test(e))}function Ep(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(nu(t))||wV(e).getPropertyValue(nu(t));Object.keys(t).forEach(function(i){var s=t[i];!s&&s!==0?e.style.removeProperty(nu(i)):xV(i)?r+=i+"("+s+") ":n+=nu(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}const wp=!!(typeof window<"u"&&window.document&&window.document.createElement);var Tp=!1,Ip=!1;try{var bh={get passive(){return Tp=!0},get once(){return Ip=Tp=!0}};wp&&(window.addEventListener("test",bh,bh),window.removeEventListener("test",bh,!0))}catch{}function PV(e,t,n,r){if(r&&typeof r!="boolean"&&!Ip){var i=r.once,s=r.capture,o=n;!Ip&&i&&(o=n.__once||function a(l){this.removeEventListener(t,a,s),n.call(this,l)},n.__once=o),e.addEventListener(t,o,Tp?r:s)}e.addEventListener(t,n,r)}function RV(e,t,n,r){var i=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)}function $I(e,t,n,r){return PV(e,t,n,r),function(){RV(e,t,n,r)}}function AV(e,t,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}function DV(e){var t=Ep(e,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function kV(e,t,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||AV(e,"transitionend",!0)},t+n),s=$I(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function FI(e,t,n,r){n==null&&(n=DV(e)||0);var i=kV(e,n,r),s=$I(e,"transitionend",t);return function(){i(),s()}}const NV=["direction","children","onTransitionEnd"];function Sp(){return Sp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sp.apply(this,arguments)}function OV(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const VV=_.oneOf(["left","right","top","bottom"]),bV="rw-calendar-transition",LV="rw-calendar-transition-active",q_="rw-calendar-transition-next",MV="rw-calendar-transition-prev",Q_=(e,t)=>e&&S.cloneElement(e,{className:ge(e.props.className,bV,t)});class uy extends S.Component{constructor(t){super(t),this.handleTransitionEnd=n=>{this.isTransitioning=!1;let r=this.container.current.lastChild;this.props.onTransitionEnd&&this.props.onTransitionEnd(r,n)},this.current=this.props.children,this.container=S.createRef(),this.state={prevClasses:"",currentClasses:""}}componentDidUpdate(){if(!this.flush||this.isTransitioning)return;this.flush=!1,this.isTransitioning=!0;let t=this.container.current.firstChild;const n=document.activeElement&&t.contains(document.activeElement);this.setState({prevClasses:"",currentClasses:q_},()=>{let r=this.container.current.lastChild;r.clientHeight,this.setState({prevClasses:MV,currentClasses:ge(q_,LV)},()=>{FI(r,()=>{this.prev=null,this.current.key!==this.props.children.key&&(this.current=this.props.children),this.setState({prevClasses:"",currentClasses:""},()=>this.handleTransitionEnd(n))})})})}render(){let t=this.props,{direction:n,children:r}=t,i=OV(t,NV);this.isTransitioning||(this.current.key!==r.key&&(this.prev=this.current,this.flush=!0),this.current=r);let{prevClasses:s,currentClasses:o}=this.state;return S.createElement("div",Sp({},i,{ref:this.container,className:ge("rw-calendar-transition-group",n==="top"&&"rw-calendar-transition-top",n==="right"&&"rw-calendar-transition-right",n==="bottom"&&"rw-calendar-transition-bottom",n==="left"&&"rw-calendar-transition-left")}),Q_(this.prev,s),Q_(this.current,o))}}uy.defaultProps={direction:"left"};uy.propTypes={direction:VV,onTransitionEnd:_.func};function jI(e,t,n,r=!1){const i=yn(n);g.useEffect(()=>{const s=typeof e=="function"?e():e;return s.addEventListener(t,i,r),()=>s.removeEventListener(t,i,r)},[e])}function G_(e,t,n=!1){const r=g.useCallback(()=>document,[]);return jI(r,e,t,n)}const $V=["className","tabIndex","focused","open","dropUp","disabled","readOnly","autofilling"];function Cp(){return Cp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cp.apply(this,arguments)}function FV(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function jV(){const[e,t]=g.useState(!1);return G_("keydown",({key:n})=>{(n==" "||n==="Tab"||n=="Enter"||n&&n.indexOf("Arrow")!==-1)&&t(!0)}),G_("mousedown",()=>{t(!1)}),e}function UI(e){const t=e.tabIndex!=null?e.tabIndex:-1,n=jV();return{tabIndex:t,"data-intent":n?"keyboard":"mouse",className:ge(e.className,"rw-widget",e.disabled&&"rw-state-disabled",e.readOnly&&"rw-state-readonly",e.focused&&"rw-state-focus",e.autofilling&&"rw-webkit-autofill",e.open&&`rw-open${e.dropUp?"-up":""}`)}}const us=S.forwardRef((e,t)=>{let{className:n,tabIndex:r,focused:i,open:s,dropUp:o,disabled:a,readOnly:l,autofilling:u}=e,c=FV(e,$V);const f=UI({className:n,tabIndex:r,focused:i,open:s,dropUp:o,disabled:a,readOnly:l,autofilling:u});return S.createElement("div",Cp({ref:t},c,f))});us.displayName="Widget";const UV=["focusedItem","disabled","onChange","value","min","localizer","max"];function xp(){return xp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xp.apply(this,arguments)}function BV(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const zV=[0,1,2,3,4,5,6,7,8,9,10,11];function WV(e){let t=new Date(e,0,1);return zV.map(n=>z.month(t,n))}function KV(e){let{focusedItem:t,disabled:n,onChange:r,value:i,min:s,localizer:o,max:a}=e,l=BV(e,UV),u=WV(z.year(t));return S.createElement(lt,xp({},l,{focusedItem:t}),S.createElement(lt.Body,null,$f(u,4).map((c,f)=>S.createElement(lt.Row,{key:f},c.map((h,d)=>{let y=o.formatDate(h,"header");return S.createElement(lt.Cell,{key:d,label:y,date:h,min:s,max:a,unit:"month",viewUnit:"year",onChange:r,focusedItem:t,selected:i,disabled:n},o.formatDate(h,"month"))})))))}function BI(e,t){g.useEffect(()=>{e&&t.current&&t.current.focus()},[])}let HV=0;function qV(e){return""+((e??"")+ ++HV)}function Ke(e,t){e&&e.apply(null,t)}const Rt=(e,t="")=>{const n=g.useRef();return n.current||(n.current=qV("rw_")),(e||n.current)+t};function Ff(e,t){const n=g.useRef(!1);return n.current||(e||!!t)&&(n.current=!0)}const QV=["id","autoFocus","bordered","views","tabIndex","disabled","readOnly","className","value","defaultValue","onChange","currentDate","defaultCurrentDate","onCurrentDateChange","min","max","view","defaultView","onViewChange","onKeyDown","onNavigate","renderDay","messages","formats"];function Pp(){return Pp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pp.apply(this,arguments)}function GV(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}let YV=e=>e[e.length-1];const XV="rw-cell",JV=`.${XV}[tabindex]`,ZV=new Date(1900,0,1),eb=new Date(2099,11,31),Rp=["month","year","decade","century"],pa={month:"day",year:"month",decade:"year",century:"decade"},tb={month:_V,year:KV,decade:uV,century:sV},nb={ArrowDown:"DOWN",ArrowUp:"UP",ArrowRight:"RIGHT",ArrowLeft:"LEFT"},Y_={LEFT:"RIGHT",RIGHT:"LEFT"},rb={year:1,decade:10,century:100};function X_(e,t,n){let r=Ap(e);return r===null?r:z.max(z.min(r,n),t)}const ib={disabled:_.bool,readOnly:_.bool,onChange:_.func,value:_.instanceOf(Date),min:_.instanceOf(Date),max:_.instanceOf(Date),currentDate:_.instanceOf(Date),onCurrentDateChange:_.func,navigatePrevIcon:_.node,navigateNextIcon:_.node,view(e,...t){return _.oneOf(e.views||Rp)(e,...t)},views:_.arrayOf(_.oneOf(Rp)),onViewChange:_.func,onNavigate:_.func,culture:_.string,autoFocus:_.bool,footer:_.bool,renderDay:_.func,formats:_.shape({header:_.any,footer:_.any,day:_.any,date:_.any,month:_.any,year:_.any,decade:_.any,century:_.any}),messages:_.shape({moveBack:_.string,moveForward:_.string}),onKeyDown:_.func,tabIndex:_.any},sb=(e,t=e[0],n)=>{const r=g.useRef(t),i=g.useRef(n);let s;return t!==r.current?s=e.indexOf(r.current)>e.indexOf(t)?"top":"bottom":i.current!==n&&(s=z.gt(n,i.current)?"left":"right"),g.useEffect(()=>{i.current=n,r.current=t}),s};function pi(e){let{id:t,autoFocus:n,bordered:r=!0,views:i=Rp,tabIndex:s=0,disabled:o,readOnly:a,className:l,value:u,defaultValue:c,onChange:f,currentDate:h,defaultCurrentDate:d,onCurrentDateChange:y,min:v=ZV,max:w=eb,view:m,defaultView:p=i[0],onViewChange:E,onKeyDown:I,onNavigate:P,renderDay:C,messages:D,formats:N}=e,H=GV(e,QV);const[V,_e]=wn(u,c,f),[ne,ke]=wn(h,d||V||new Date,y),[q,re]=wn(m,p,E),ae=ay(D,N),Pe=g.useRef(null),R=Rt(t,"_calendar"),L=Rt(t,"_calendar_label");BI(!!n,Pe);const B=sb(i,q,ne),[,se]=Ti(Pe,{disabled:o},{willHandle(){if(s==-1)return!1}}),he=g.useRef(V);g.useEffect(()=>{const M=X_(V,v,w),ye=he.current;he.current=V,z.eq(M,Ap(ye),pa[q])||Te(M)});const rt=o||a,ct=()=>{J("UP")},Wt=()=>{J("LEFT")},je=()=>{J("RIGHT")},Ue=M=>{if(i[0]===q){Te(M),Ke(_e,[M]),te();return}J("DOWN",M)},hn=()=>{let M=new Date,ye=i[0];Ke(f,[M]),z.inRange(M,v,w,ye)&&(te(),Te(M),Ke(re,[ye]))},F=M=>{let ye=M.ctrlKey||M.metaKey,oe=M.key,Re=nb[oe],ft=pa[q];if(oe==="Enter")return M.preventDefault(),Ue(ne);if(Re)if(ye)M.preventDefault(),J(Re);else{getComputedStyle(M.currentTarget).getPropertyValue("direction")==="rtl"&&Re in Y_&&(Re=Y_[Re]);let tt=pi.move(ne,v,w,q,Re);z.eq(ne,tt,ft)||(M.preventDefault(),z.gt(tt,ne,q)?J("RIGHT",tt):z.lt(tt,ne,q)?J("LEFT",tt):Te(tt))}Ke(I,[M])};function J(M,ye){let oe=q,Re=M==="LEFT"||M==="UP"?"right":"left";M==="UP"&&(oe=i[i.indexOf(q)+1]||oe),M==="DOWN"&&(oe=i[i.indexOf(q)-1]||oe),ye||(ye=["LEFT","RIGHT"].indexOf(M)!==-1?Ie(M):ne),z.inRange(ye,v,w,oe)&&(Ke(P,[ye,Re,oe]),Te(ye),Ke(re,[oe]))}const te=()=>{var M;const ye=(M=Pe.current)==null?void 0:M.querySelector(JV);ye==null||ye.focus()},le=(M,ye)=>{let oe=document.activeElement;ye&&(!oe||!M.contains(oe))&&M.focus()};function Te(M){let ye=X_(M?new Date(M):ne,v,w);M===ne||z.eq(ye,Ap(ne),pa[q])||Ke(ke,[ye])}function Ie(M){let ye=M==="LEFT"?"subtract":"add",oe=q==="month"?q:"year",Re=rb[q]||1;return z[ye](ne,1*Re,oe)}function qe(){switch(q){case"month":return ae.formatDate(ne,"header");case"year":return ae.formatDate(ne,"year");case"decade":return ae.formatDate(z.startOf(ne,"decade"),"decade");case"century":return ae.formatDate(z.startOf(ne,"century"),"century")}}let De=tb[q],Je=!z.inRange(new Date,v,w,q),Kt=q+"_"+z[q](ne);const Q=rt||!z.inRange(Ie("LEFT"),v,w,q),tr=rt||!z.inRange(Ie("RIGHT"),v,w,q);return S.createElement(us,Pp({},H,{role:"group",ref:Pe,focused:se,disabled:o,readOnly:a,tabIndex:s,className:ge(l,"rw-calendar",r&&"rw-calendar-contained")}),S.createElement(D2,{label:qe(),labelId:L,localizer:ae,upDisabled:rt||q===YV(i),prevDisabled:Q,todayDisabled:rt||Je,nextDisabled:tr,onViewChange:ct,onMoveLeft:Wt,onMoveRight:je,onMoveToday:hn}),S.createElement(pi.Transition,{direction:B,onTransitionEnd:le},S.createElement(De,{key:Kt,min:v,max:w,id:R,value:V,localizer:ae,disabled:rt,focusedItem:ne,onChange:Ue,onKeyDown:F,"aria-labelledby":L,renderDay:C})))}function Ap(e){return e&&!isNaN(e.getTime())?e:null}pi.displayName="Calendar";pi.propTypes=ib;pi.Transition=uy;pi.move=(e,t,n,r,i)=>{let s=r==="month",o=i==="UP"||i==="DOWN",a=r&&pa[r],l=s&&o?"week":pa[r],u=s||!o?1:4,c;return(i==="UP"||i==="LEFT")&&(u*=-1),c=z.add(e,u,l),z.inRange(c,t,n,a)?c:e};const ob=["className","disabled","readOnly","value","tabIndex","type","component"];function Dp(){return Dp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dp.apply(this,arguments)}function ab(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const Pl=S.forwardRef((e,t)=>{let{className:n,disabled:r,readOnly:i,value:s,tabIndex:o,type:a="text",component:l="input"}=e,u=ab(e,ob);return S.createElement(l,Dp({},u,{ref:t,type:a,tabIndex:o||0,autoComplete:"off",disabled:r,readOnly:i,"aria-disabled":r,"aria-readonly":i,value:s??"",className:ge(n,"rw-input")}))});Pl.displayName="Input";Pl.propTypes={disabled:_.bool,readOnly:_.bool,value:_.string,type:_.string,tabIndex:_.number,component:_.any};var lb=Function.prototype.bind.call(Function.prototype.call,[].slice);function zI(e,t){return lb(e.querySelectorAll(t))}const fo=S.createContext(null),J_={behavior:"stop"};function WI(e){const t=g.useContext(fo),n=g.useRef(null),r=g.useRef(null);g.useLayoutEffect(()=>()=>{t==null||t.map.delete(r.current)},[]),g.useLayoutEffect(()=>{n.current!==r.current&&(t==null||t.map.delete(n.current)),n.current=r.current,r.current&&(t==null?void 0:t.map.get(r.current))!==e&&(t==null||t.map.set(r.current,e))});const i=e===(t==null?void 0:t.focusedItem);return[r,i,i?t==null?void 0:t.activeId:void 0]}const il=({scope:e,anchorItem:t,focusFirstItem:n=!1,scopeSelector:r="",activeId:i})=>{const s=g.useMemo(()=>new WeakMap,[]),[o,a]=g.useState(),l=`${r} [data-rw-focusable]`.trim(),u=()=>{const h=zI(e.current,l);return[h,h.find(d=>d.dataset.rwFocused==="")]},c=g.useMemo(()=>({size(){const[h]=u();return h.length},get:u,toDataItem:h=>s.get(h),first(){const[[h]]=u();return h},focus(h){(!h||s.has(h))&&a(h?s.get(h):void 0)},last(){const[h]=u();return h[h.length-1]},next({behavior:h}=J_){const[d,y]=u();let v=d.indexOf(y)+1;return v>=d.length?h==="loop"?d[0]:h==="clear"?void 0:y:d[v]},prev({behavior:h}=J_){const[d,y]=u();let v=Math.max(0,d.indexOf(y))-1;return v<0?h==="loop"?d[d.length-1]:h==="clear"?void 0:y:d[v]}}),[]);g.useLayoutEffect(()=>{if(!t){c.focus(null);return}const h=u()[0].find(d=>c.toDataItem(d)===t);c.focus(h)},[t]),g.useLayoutEffect(()=>{if(!e.current)return;const[,h]=u(),d=h!=null;(!d&&n||d&&!e.current.contains(h))&&(n?c.focus(c.first()):c.focus(null))});const f=g.useMemo(()=>({map:s,focusedItem:o,activeId:i}),[o,i]);return c.context=f,c.getFocused=g.useCallback(()=>o,[o]),c.hasFocused=()=>o!==void 0,c},ub=["className","children","dataItem","selected","disabled","onSelect","searchTerm"];function kp(){return kp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kp.apply(this,arguments)}function cb(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const fb={activeId:_.string,dataItem:_.any,selected:_.bool.isRequired,onSelect:_.func.isRequired,component:_.any};function cy(e){let{className:t,children:n,dataItem:r,selected:i,disabled:s,onSelect:o}=e,a=cb(e,ub);const[l,u,c]=WI(r),f=d=>{o&&!s&&o(r,d)};let h={"rw-state-focus":u,"rw-state-selected":i,"rw-state-disabled":s};return S.createElement("div",kp({id:c,ref:l,role:"option","data-rw-option":"","data-rw-focused":u?"":void 0,"data-rw-focusable":s?void 0:"",tabIndex:-1,"aria-selected":!!i,className:ge("rw-list-option",t,h),onClick:f},a),n)}cy.propTypes=fb;const hb={className:_.string,component:_.string};function KI({children:e,className:t,component:n="div"}){let r=n;return S.createElement(r,{tabIndex:"-1",role:"separator",className:ge(t,"rw-list-optgroup")},e)}KI.propTypes=hb;const Lh=ie.elementType;let fn=Object.assign((...e)=>ie.bool(...e),{acceptsArray:ie.oneOfType([ie.bool,ie.array])});const Tn=ie.oneOfType([ie.string,ie.func]),rn=ie.oneOfType([ie.node,ie.string,ie.func]);function db(e,t,n){const r=Mf(),{isEqual:i,effectHook:s=g.useEffect}=typeof n=="function"?{isEqual:n}:n,o=g.useRef();o.current=t;const a=g.useRef(null);s(()=>{if(a.current===null){const l=e();a.current=()=>{r()&&i(o.current,t)||(a.current=null,l&&l())}}return a.current}),g.useDebugValue(e)}var Z_=Object.prototype.hasOwnProperty;function e0(e,t,n){for(n of e.keys())if(ma(n,t))return n}function ma(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&ma(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=e0(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=e0(t,i),!i)||!ma(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(Z_.call(e,n)&&++r&&!Z_.call(t,n)||!(n in t)||!ma(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function pb(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function mb(e,t){let n=!0;const r=g.useRef();r.current?n=!!(t&&r.current.deps&&pb(t,r.current.deps)):r.current={deps:t,result:e()};const i=n?r.current:{deps:t,result:e()};return r.current=i,i.result}function gb(e){const t=g.useRef(e);return t.current=e,t}function HI(e){const t=gb(e);g.useEffect(()=>()=>t.current(),[])}function yb(e,t){const n=g.useRef(!0),r=g.useRef();HI(()=>{r.current&&r.current()}),mb(()=>{if(n.current){n.current=!1;return}r.current&&r.current(),r.current=e()},t)}function vb([e,t],[n,r]){return e===n&&ma(t,r)}function _b(e,t,n){const[r,i]=g.useState(null),s=yn(n||i);return db(()=>{if(!e)return;const o=new MutationObserver(s);return o.observe(e,t),()=>{o.disconnect()}},[e,t],{isEqual:vb,effectHook:yb}),n?void 0:r||[]}function Eb(){return g.useState(null)}const t0=e=>!e||typeof e=="function"?e:t=>{e.current=t};function wb(e,t){const n=t0(e),r=t0(t);return i=>{n&&n(i),r&&r(i)}}function Tb(e,t){return g.useMemo(()=>wb(e,t),[e,t])}const Ib=["multiple","data","value","onChange","accessors","className","messages","disabled","renderItem","renderGroup","searchTerm","groupBy","elementRef","optionComponent","renderList"];function Sb(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const Cb=["style","className","role","id","autocomplete","size","tabIndex","maxLength","name"],xb=[/^aria-/,/^data-/,/^on[A-Z]\w+/];function Pb(e){const t={};return Object.keys(e).forEach(n=>{(Cb.indexOf(n)!==-1||xb.some(r=>!!n.match(r)))&&(t[n]=e[n])}),t}const Rb={data:_.array,dataKey:Tn,textField:Tn,onSelect:_.func,onMove:_.func,onHoverOption:_.func,optionComponent:_.elementType,renderItem:_.func,renderGroup:_.func,focusedItem:_.any,selectedItem:_.any,searchTerm:_.string,disabled:fn.acceptsArray,messages:_.shape({emptyList:_.func.isRequired})},Ab=(e,t=!1)=>{const n=g.useCallback(()=>{if(!e)return;let r=e.querySelector("[data-rw-focused]");r&&r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"})},[e]);return _b(t?e:null,{subtree:!0,attributes:!0,attributeFilter:["data-rw-focused"]},n),n};function qI(e,t,n){return(r,i)=>{if(e===!1){n(r,{dataItem:r,lastValue:t[0],originalEvent:i});return}const s=t.includes(r);n(s?t.filter(o=>o!==r):[...t,r],{dataItem:r,lastValue:t,action:s?"remove":"insert",originalEvent:i})}}const Ro=S.forwardRef(function(t,n){var r;let{multiple:i=!1,data:s=[],value:o,onChange:a,accessors:l,className:u,messages:c,disabled:f,renderItem:h,renderGroup:d,searchTerm:y,groupBy:v,elementRef:w,optionComponent:m=cy,renderList:p}=t,E=Sb(t,Ib);const I=Rt(),P=MI(o,i),C=g.useMemo(()=>v?nV(v,s):void 0,[s,v]),[D,N]=Eb(),H=eV(f),{emptyList:V}=oy(c),_e=Tb(N,w),ne=qI(i,P,a),ke=Ab(D,!0);let q=Pb(E);g.useImperativeHandle(n,()=>({scrollIntoView:ke}),[ke]);function re(R,L){const B=l.text(R),se=H.includes(R),he=P.includes(R);return S.createElement(m,{dataItem:R,key:`item_${L}`,searchTerm:y,onSelect:ne,disabled:se,selected:he},h?h({item:R,searchTerm:y,index:L,text:B,value:l.value(R),disabled:se}):B)}const ae=C?C.map(([R,L],B)=>S.createElement("div",{role:"group",key:`group_${B}`},S.createElement(KI,null,d?d({group:R}):R),L.map(re))):s.map(re),Pe=Object.assign({id:I,tabIndex:0,ref:_e},q,{"aria-multiselectable":!!i,className:ge(u,"rw-list"),role:(r=q.role)!=null?r:"listbox",children:S.Children.count(ae)?ae:S.createElement("div",{className:"rw-list-empty"},V())});return p?p(Pe):S.createElement("div",Pe)});Ro.displayName="List";Ro.propTypes=Rb;function Db(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function QI(e){return"window"in e&&e.window===e?e:Db(e)&&e.defaultView||!1}function kb(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function GI(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function n(r,i){var s=QI(r);if(i===void 0)return s?s[e]:r[t];s?s.scrollTo(s[e],i):r[t]=i}return n}const Nb=GI("pageXOffset"),Ob=GI("pageYOffset");function Vb(e){var t=ly(e),n={top:0,left:0,height:0,width:0},r=t&&t.documentElement;return!r||!kb(r,e)||(e.getBoundingClientRect!==void 0&&(n=e.getBoundingClientRect()),n={top:n.top+Ob(r)-(r.clientTop||0),left:n.left+Nb(r)-(r.clientLeft||0),width:n.width,height:n.height}),n}function bb(e,t){var n=QI(e);return n?n.innerHeight:t?e.clientHeight:Vb(e).height}const n0={disabled:!1},YI=S.createContext(null);var Lb=function(t){return t.scrollTop},Zo="unmounted",jr="exited",Ur="entering",Es="entered",mc="exiting",Or=function(e){T2(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=jr,s.appearStatus=Ur):l=Es:r.unmountOnExit||r.mountOnEnter?l=Zo:l=jr,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Zo?{status:jr}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Ur&&o!==Es&&(s=Ur):(o===Ur||o===Es)&&(s=mc)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Ur){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Hl.findDOMNode(this);o&&Lb(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===jr&&this.setState({status:Zo})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Hl.findDOMNode(this),a],u=l[0],c=l[1],f=this.getTimeouts(),h=a?f.appear:f.enter;if(!i&&!o||n0.disabled){this.safeSetState({status:Es},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Ur},function(){s.props.onEntering(u,c),s.onTransitionEnd(h,function(){s.safeSetState({status:Es},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Hl.findDOMNode(this);if(!s||n0.disabled){this.safeSetState({status:jr},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:mc},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:jr},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Hl.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Zo)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=hI(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return S.createElement(YI.Provider,{value:null},typeof o=="function"?o(i,a):S.cloneElement(S.Children.only(o),a))},t}(S.Component);Or.contextType=YI;Or.propTypes={};function gs(){}Or.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:gs,onEntering:gs,onEntered:gs,onExit:gs,onExiting:gs,onExited:gs};Or.UNMOUNTED=Zo;Or.EXITED=jr;Or.ENTERING=Ur;Or.ENTERED=Es;Or.EXITING=mc;const Mb=Or,$b=["children","className","dropUp"];function gc(){return gc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gc.apply(this,arguments)}function Fb(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const jb={[Ur]:"rw-slide-transition-entering",[mc]:"rw-slide-transition-exiting",[jr]:"rw-slide-transition-exited"};class XI extends S.Component{constructor(...t){super(...t),this.setContainerHeight=n=>{n.style.height=this.getHeight(n)+"px"},this.clearContainerHeight=n=>{n.style.height=""},this.handleEntered=n=>{this.clearContainerHeight(n),this.props.onEntered&&this.props.onEntered()},this.handleEntering=()=>{this.props.onEntering&&this.props.onEntering()},this.handleExit=n=>{this.setContainerHeight(n),this.props.onExit&&this.props.onExit()},this.handleExited=n=>{this.clearContainerHeight(n),this.props.onExited&&this.props.onExited()},this.handleTransitionEnd=(n,r)=>{FI(n.firstChild,r)}}getHeight(t){let n=t.firstChild,r=parseInt(Ep(n,"margin-top"),10)+parseInt(Ep(n,"margin-bottom"),10),i=t.style.display,s;return t.style.display="block",s=(bb(n)||0)+(isNaN(r)?0:r),t.style.display=i,s}render(){const t=this.props,{children:n,className:r,dropUp:i}=t,s=Fb(t,$b);return S.createElement(Mb,gc({},s,{appear:!0,in:this.props.in,onEnter:this.setContainerHeight,onEntering:this.handleEntering,onEntered:this.handleEntered,onExit:this.handleExit,onExited:this.handleExited,addEndListener:this.handleTransitionEnd,timeout:void 0}),(o,a)=>S.createElement("div",gc({},a,{className:ge(r,i&&"rw-dropup",jb[o])}),S.cloneElement(n,{className:ge("rw-slide-transition",n.props.className)})))}}XI.propTypes={in:_.bool.isRequired,innerClassName:_.string,dropUp:_.bool,onExit:_.func,onExited:_.func,onEntering:_.func,onEntered:_.func};const Ub=["id","role","dropUp","className","children","open","transition"];function Np(){return Np=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Np.apply(this,arguments)}function Bb(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const zb=S.memo(({children:e})=>e,(e,{shouldUpdate:t})=>!t),Rl=S.forwardRef((e,t)=>{let{id:n,role:r,dropUp:i,className:s,children:o,open:a=!1,transition:l=XI}=e,u=Bb(e,Ub);const c=l;return S.createElement(c,Np({},u,{in:a,dropUp:i,timeout:void 0,className:ge("rw-popup-container",s)}),S.createElement("div",{id:n,className:"rw-popup",ref:t,role:r},S.createElement(zb,{shouldUpdate:a},o)))});Rl.displayName="Popup";const Wb=["className"];function Op(){return Op=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Op.apply(this,arguments)}function Kb(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function JI(e){let{className:t}=e,n=Kb(e,Wb);return S.createElement(iy,Op({},n,{className:ge(t,"rw-input-addon rw-picker-btn")}))}const Hb=["className"];function Vp(){return Vp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vp.apply(this,arguments)}function qb(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function jf(e){let{className:t}=e,n=qb(e,Hb);return S.createElement("div",Vp({},n,{className:ge(t,"rw-widget-picker","rw-widget-container")}))}const bp=(e,t)=>{e&&(e.removeAttribute("aria-activedescendant"),t&&e.setAttribute("aria-activedescendant",t))},ZI=(e,t,n,r)=>{g.useEffect(()=>{bp(e.current,n?t:"")},[e,t,n,...r])},ho=(e,t)=>typeof t=="function"?t(e):e==null?e:typeof t=="string"&&typeof e=="object"&&t in e?e[t]:e,eS=(e,t)=>{const n=ho(e,t);return n==null?"":String(n)};function Qb(e,t,n){return ho(e,n)===ho(t,n)}function Lp(e,t,n){const r=ho(t,n);let i=-1;for(;++i<e.length;){const s=e[i];if(s===t||ho(s,n)===r)return i}return-1}function Gb(e,t,n){const r=Lp(e,t,n);return r!==-1?e[r]:t}const Uf=(e,t)=>g.useMemo(()=>({text:n=>eS(n,e),value:n=>ho(n,t),indexOf:(n,r)=>Lp(n,r,t),matches:(n,r)=>Qb(n,r,t),findOrSelf:(n,r)=>Gb(n,r,t),includes:(n,r)=>Lp(n,r,t)!==-1}),[e,t]),tS={eq:(e,t)=>e===t,contains:(e,t)=>e.indexOf(t)!==-1,startsWith:(e,t)=>e.lastIndexOf(t,0)===0};function Yb(e,t){if(e===!1)return null;if(typeof e=="function")return e;const n=tS[e===!0?"startsWith":e||"eq"];return(r,i)=>{let s=eS(r,t);return n(s.toLowerCase(),i.toLowerCase())}}function fy(e,t,n="",r){return g.useMemo(()=>{const i=Yb(t,r);return!i||!n.trim()?e:e.filter((s,o)=>i(s,n,o))},[e,t,n,r])}function Bf(e,t){function n(){e||Ke(t,[!0])}function r(){e&&Ke(t,[!1])}function i(){e?r():n()}return i.open=n,i.close=r,i}const Xb=["id","className","containerClassName","placeholder","autoFocus","textField","dataKey","autoSelectMatches","focusFirstItem","value","defaultValue","onChange","open","defaultOpen","onToggle","filter","busy","disabled","readOnly","selectIcon","hideCaret","hideEmptyPopup","busySpinner","dropUp","tabIndex","popupTransition","name","onSelect","onKeyDown","onBlur","onFocus","inputProps","listProps","popupProps","groupBy","renderListItem","renderListGroup","optionComponent","listComponent","popupComponent","data","messages"];function Vs(){return Vs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vs.apply(this,arguments)}function Jb(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Zb(e,t,n){if(!t.trim())return-1;for(let r=0;r<e.length;r++)if(n(e[r]).toLowerCase()===t)return r;return-1}let e4={value:ie.any,onChange:ie.func,open:ie.bool,onToggle:ie.func,renderListItem:ie.func,listComponent:ie.elementType,renderListGroup:ie.func,groupBy:Tn,data:ie.array,dataKey:Tn,textField:Tn,name:ie.string,hideEmptyPopup:ie.bool,hideCaret:ie.bool,onSelect:ie.func,autoFocus:ie.bool,disabled:fn.acceptsArray,readOnly:fn,busy:ie.bool,selectIcon:ie.node,busySpinner:ie.node,dropUp:ie.bool,popupTransition:ie.elementType,placeholder:ie.string,containerClassName:ie.string,inputProps:ie.object,listProps:ie.object,messages:ie.shape({openCombobox:rn,emptyList:rn,emptyFilter:rn})};const hy=g.forwardRef(function(t,n){let{id:r,className:i,containerClassName:s,placeholder:o,autoFocus:a,textField:l,dataKey:u,autoSelectMatches:c,focusFirstItem:f=!1,value:h,defaultValue:d="",onChange:y,open:v,defaultOpen:w=!1,onToggle:m,filter:p=!0,busy:E,disabled:I,readOnly:P,selectIcon:C=Lf,hideCaret:D,hideEmptyPopup:N,busySpinner:H,dropUp:V,tabIndex:_e,popupTransition:ne,name:ke,onSelect:q,onKeyDown:re,onBlur:ae,onFocus:Pe,inputProps:R,listProps:L,popupProps:B,groupBy:se,renderListItem:he,renderListGroup:rt,optionComponent:ct,listComponent:Wt=Ro,popupComponent:je=Rl,data:Ue=[],messages:hn}=t,F=Jb(t,Xb),[J,te]=wn(h,d,y);const[le,Te]=wn(v,w,m),Ie=g.useRef(null),qe=g.useRef(null),De=g.useRef(null),[Je,Kt]=g.useState(null),Q=g.useRef(!1),tr=Rt(r,"_input"),M=Rt(r,"_listbox"),ye=Rt(r,"_listbox_active_option"),oe=Uf(l,u),Re=oy(hn),ft=Bf(le,Te),dn=I===!0,tt=!!P,Ht=fy(Ue,p,Q.current?oe.text(J):void 0,oe.text),ht=g.useMemo(()=>Ht[oe.indexOf(Ht,J)],[Ht,J,oe]),j=il({activeId:ye,scope:Ie,focusFirstItem:f,anchorItem:le?ht:void 0}),[Ne,Oe]=Ti(Ie,{disabled:dn,onBlur:ae,onFocus:Pe},{didHandle(ue){ue?Be({preventScroll:!0}):(Q.current=!1,ft.close(),Kt(null),j.focus(void 0))}});ZI(Ie,ye,le,[j.getFocused()]);const qt=ue=>{P||dn||(ue.preventDefault(),Be(),ft())},pn=(ue,We)=>{ft.close(),Q.current=!1,Kt(null),Ke(q,[ue,{originalEvent:We}]),nn(ue,We,!0),Be({preventScroll:!0})},jn=({key:ue})=>{(ue==="Backspace"||ue==="Delete")&&j.focus(null)},Rn=ue=>{let We=c?Zb(Ue,ue.target.value.toLowerCase(),oe.text):-1;Q.current=!0,Kt(null);const nr=We===-1?ue.target.value:Ue[We];nn(nr,ue),nr?ft.open():ft.close()},cs=ue=>{if(P)return;let{key:We,altKey:nr,shiftKey:hs}=ue;if(Ke(re,[ue]),ue.defaultPrevented)return;const Ci=mn=>mn!=null&&pn(mn,ue),Qt=mn=>{mn&&(Kt(j.toDataItem(mn)),j.focus(mn))};if(We==="End"&&le&&!hs)ue.preventDefault(),Qt(j.last());else if(We==="Home"&&le&&!hs)ue.preventDefault(),Qt(j.first());else if(We==="Escape"&&le)ue.preventDefault(),Kt(null),ft.close();else if(We==="Enter"&&le)ue.preventDefault(),Ci(j.getFocused());else if(We==="ArrowDown")if(ue.preventDefault(),le)Qt(j.next());else return ft.open();else if(We==="ArrowUp"){if(ue.preventDefault(),nr)return ft.close();le&&Qt(j.prev())}};function Be(ue){qe.current&&qe.current.focus(ue)}function nn(ue,We,nr=!1){te(ue,{lastValue:J,originalEvent:We,source:nr?"listbox":"input"})}g.useImperativeHandle(n,()=>({focus:Be}));let fs=Ff(Oe,le),Ii=oe.findOrSelf(Ht,J),yt=oe.text(Je||Ii),ze=p?"list":"none",Un=le&&(!N||!!Ht.length),Si=(R==null?void 0:R.readOnly)!=null?R==null?void 0:R.readOnly:P,Vr=!1;return D?E&&(Vr=g.createElement("span",{"aria-hidden":"true",className:"rw-btn rw-picker-caret"},H||ry)):Vr=g.createElement(JI,{busy:E,icon:C,spinner:H,onClick:qt,disabled:!!dn||tt,label:Re.openCombobox()}),g.createElement(us,Vs({},F,{ref:Ie,open:le,dropUp:V,focused:Oe,disabled:dn,readOnly:tt},Ne,{onKeyDown:cs,className:ge(i,"rw-combobox")}),g.createElement(jf,{className:ge(s,D&&"rw-widget-input",D&&!E&&"rw-hide-caret")},g.createElement(Pl,Vs({},R,{role:"combobox",name:ke,id:tr,className:ge(R&&R.className,"rw-combobox-input",!D&&"rw-widget-input"),autoFocus:a,tabIndex:_e,disabled:dn,readOnly:Si,"aria-busy":!!E,"aria-owns":M,"aria-autocomplete":ze,"aria-expanded":le,"aria-haspopup":!0,placeholder:o,value:yt,onChange:Rn,onKeyDown:jn,ref:qe})),Vr),g.createElement(fo.Provider,{value:j.context},fs&&g.createElement(je,Vs({},B,{dropUp:V,open:Un,transition:ne,onEntering:()=>De.current.scrollIntoView()}),g.createElement(Wt,Vs({},L,{id:M,tabIndex:-1,data:Ht,groupBy:se,disabled:I,accessors:oe,renderItem:he,renderGroup:rt,optionComponent:ct,value:ht,searchTerm:Ii&&oe.text(Ii)||"","aria-hidden":!Un,"aria-labelledby":tr,"aria-live":Un?"polite":void 0,onChange:(ue,We)=>pn(ue,We.originalEvent),ref:De,messages:{emptyList:Ue.length?Re.emptyFilter:Re.emptyList}})))))});hy.displayName="Combobox";hy.propTypes=e4;const t4=["value","formatter","editing","editFormat","displayFormat","localizer","parse","onChange","onBlur","disabled","readOnly"];function Mp(){return Mp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mp.apply(this,arguments)}function n4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const nS=S.forwardRef((e,t)=>{let{value:n,formatter:r,editing:i,editFormat:s,displayFormat:o,localizer:a,parse:l,onChange:u,onBlur:c,disabled:f,readOnly:h}=e,d=n4(e,t4);const y=g.useRef(!1),v=g.useMemo(()=>n instanceof Date&&r4(n)?a.formatDate(n,r,i?s:o):"",[n,r,a,o,i,s]),[w,m]=g.useState(v),[p,E]=g.useState(v);w!==v&&(m(v),E(v));const I=C=>{if(c&&c(C),y.current){let D=l(C.target.value);C.target.value!=""&&Jo(D)&&E(""),y.current=!1,m(null),u(D,C.target.value)}},P=({target:C})=>{y.current=!0,E(C.value)};return S.createElement(Pl,Mp({},d,{type:"text",ref:t,className:"rw-widget-input",value:p,disabled:f,readOnly:h,onChange:P,onBlur:I}))});nS.displayName="DatePickerInput";function r4(e){return!isNaN(e.getTime())}const i4=["value","valueText","pad","placeholder","min","max","emptyChar"];function $p(){return $p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$p.apply(this,arguments)}function s4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const o4=(e,t,n)=>{let r=String(e??"");for(;r.length<t;)r=n+r;return r},ru=S.forwardRef((e,t)=>{let{value:n,valueText:r=String(n??""),pad:i,placeholder:s,min:o,max:a,emptyChar:l}=e,u=s4(e,i4);return S.createElement("input",$p({},u,{ref:t,"data-focusable":!0,autoComplete:"off",role:"spinbutton","aria-valuenow":n??void 0,"aria-valuemin":o,"aria-valuemax":a,"aria-valuetext":r,"aria-disabled":u.disabled||u.readOnly,"arai-placeholder":s,placeholder:s,className:"rw-time-part-input",value:s&&!n?"":o4(n,i||0,n==null?l:"0")}))}),a4=["value","use12HourClock","padValues","emptyCharacter","precision","noClearButton","hoursAddon","minutesAddon","secondsAddon","millisecondsAddon","className","disabled","readOnly","datePart","onChange","onBlur","onFocus"];function Fp(){return Fp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fp.apply(this,arguments)}function l4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const u4=e=>{if(e instanceof HTMLInputElement)return e.select();const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n&&(n.removeAllRanges(),n.addRange(t))},r0=(e,t)=>e.hours==null&&e.minutes==null&&(t!="seconds"&&t!=="milliseconds"||e.seconds==null)&&(t!=="milliseconds"||e.milliseconds==null),c4=(e,t)=>e.hours==null||e.minutes==null||(t==="seconds"||t==="milliseconds")&&e.seconds==null||t==="milliseconds"&&e.milliseconds==null,jp=(e,t)=>{let n,r,i,s,o="AM";return e&&(n=e.getHours(),t&&(o=n<12?"AM":"PM",n=n%12||12),r=e.getMinutes(),i=e.getSeconds(),s=e.getMilliseconds()),{hours:n,minutes:r,seconds:i,milliseconds:s,meridiem:o}},f4={hours:/^([1]?[0-9]|2[0-3])$/,hours12:/^(1[0-2]|0?[1-9])$/,minutes:/^([0-5]?\d)$/,seconds:/^([0-5]?\d)$/,milliseconds:/^(\d{1,3})$/},h4={hours:/^([3-9]|\d{2})$/,hours12:/^(\d{2}|[2-9])$/,minutes:/^(d{2}|[6-9])$/,seconds:/^(d{2}|[6-9])$/,milliseconds:/^(\d{3})$/};function rS(e,t,n,r){return r[t==="hours"&&n?"hours12":t].test(e)}const Mh=(e,t,n)=>rS(e,t,n,f4),d4=(e,t,n)=>rS(e,t,n,h4),p4={value:_.instanceOf(Date),onChange:_.func,datePart:_.instanceOf(Date),use12HourClock:_.bool,padValues:_.bool,emptyCharacter:_.string,noClearButton:_.bool,disabled:_.bool,readOnly:_.bool,precision:_.oneOf(["minutes","seconds","milliseconds"]).isRequired,hoursAddon:_.node,minutesAddon:_.node,secondsAddon:_.node,millisecondsAddon:_.node},m4={hoursAddon:":",padValues:!0,precision:"minutes",emptyCharacter:"-"};function g4(e,t){const[n,r]=g.useState(()=>({value:e,use12HourClock:t,timeParts:jp(e,t)})),i=g.useCallback(s=>r(o=>Object.assign({},o,{timeParts:s})),[r]);return(n.value!==e||n.use12HourClock!==t)&&r({value:e,use12HourClock:t,timeParts:jp(e,t)}),[n.timeParts,i]}function dy(e){const t=SI(e,{value:"onChange"}),{value:n,use12HourClock:r,padValues:i,emptyCharacter:s,precision:o,noClearButton:a,hoursAddon:l,minutesAddon:u,secondsAddon:c,millisecondsAddon:f,className:h,disabled:d,readOnly:y,datePart:v,onChange:w,onBlur:m,onFocus:p}=t,E=l4(t,a4);let I=u!==void 0?u:o==="seconds"||o==="milliseconds"?":":"",P=c!==void 0?c:o==="milliseconds"?":":"";const C=g.useRef(null),D=g.useRef(null),[N,H]=Ti(C,{disabled:d,onBlur:m,onFocus:p},{didHandle:(F,J)=>{var te;F&&(J.target.dataset.focusable?re(J.target):(te=D.current)==null||te.focus())}}),[V,_e]=g4(n??null,r??!1);function ne(){return z.startOf(v||new Date,"day")}const ke=F=>F==="hours"?1:0,q=F=>F==="hours"?r?12:23:F==="milliseconds"?999:59;function re(F=document.activeElement){window.Promise.resolve().then(()=>{H&&u4(F)})}const ae=()=>{var F;(F=D.current)==null||F.focus(),n?w(null):_e(jp(null))},Pe=(F,J)=>{const te=V[F],{target:le}=J,Te=le.value;let Ie=`${te||""}${Te}`,qe=+Ie;if(isNaN(qe)||Ie&&!Mh(Ie,F,r??!1))if(Mh(Te,F,r??!1)&&!isNaN(+Te))Ie=Te,qe=+Te;else return J.preventDefault();const De=le.value?qe:null;se({[F]:De}),De!=null&&d4(Ie,F,r??!1)?he(J.currentTarget,1):re(le)},R=({target:F})=>{re(F)},L=(F,J)=>{const{key:te}=J,le=J.currentTarget,{selectionStart:Te,selectionEnd:Ie}=le,qe=getComputedStyle(le).getPropertyValue("direction")==="rtl",De=F==="meridiem",Je=te===(qe?"ArrowLeft":"ArrowRight"),Kt=te===(qe?"ArrowRight":"ArrowLeft");te==="ArrowUp"&&(J.preventDefault(),B(F,1)),te==="ArrowDown"&&(J.preventDefault(),B(F,-1)),Kt&&(De||Te-1<0)&&(J.preventDefault(),he(le,-1)),Je&&(De||le.value.length<=Ie+1)&&(J.preventDefault(),he(le,1)),y&&te!=="Tab"&&J.preventDefault(),De&&((te==="a"||te==="A")&&se({meridiem:"AM"}),(te==="p"||te==="P")&&se({meridiem:"PM"}))},B=(F,J)=>{let te=V[F];if(F==="meridiem")te=te==="AM"?"PM":"AM";else if(te=(te||0)+J,!Mh(String(te),F,r??!1))return;se({[F]:te}),re()};function se(F){const J=Object.assign({},V,F);if(n&&r0(J,o))return w(null);if(c4(J,o))return _e(J);let{hours:te,minutes:le,seconds:Te,milliseconds:Ie,meridiem:qe}=J,De=new Date(n||ne());r&&(te===12&&(te=0),te+=qe==="PM"?12:0),De.setHours(te),De.setMinutes(le),Te!=null&&De.setSeconds(Te),Ie!=null&&De.setMilliseconds(Ie),w(De,{lastValue:n,timeParts:V})}function he(F,J){let te=zI(C.current,"* [data-focusable]"),le=te[te.indexOf(F)+J];le==null||le.focus(),re(le)}const{hours:rt,minutes:ct,seconds:Wt,milliseconds:je,meridiem:Ue}=V,hn=!r0(V,o);return S.createElement(us,Fp({},E,{role:"group",ref:C},N,{focused:H,disabled:d,readOnly:y,className:ge(h,"rw-time-input rw-widget-input")}),S.createElement(ru,{size:2,pad:i?2:void 0,value:rt,disabled:d,readOnly:y,"aria-label":"hours",min:ke("hours"),max:q("hours"),ref:D,emptyChar:s,onSelect:R,onChange:F=>Pe("hours",F),onKeyDown:F=>L("hours",F)}),l&&S.createElement("span",null,l),S.createElement(ru,{size:2,pad:i?2:void 0,value:ct,disabled:d,readOnly:y,"aria-label":"minutes",min:ke("minutes"),max:q("minutes"),emptyChar:s,onSelect:R,onChange:F=>Pe("minutes",F),onKeyDown:F=>L("minutes",F)}),I&&S.createElement("span",null,I),(o==="seconds"||o==="milliseconds")&&S.createElement(S.Fragment,null,S.createElement(ru,{size:2,pad:i?2:void 0,value:Wt,disabled:d,readOnly:y,"aria-label":"seconds",min:ke("seconds"),max:q("seconds"),emptyChar:s,onSelect:R,onChange:F=>Pe("seconds",F),onKeyDown:F=>L("seconds",F)}),P&&S.createElement("span",null,P)),o==="milliseconds"&&S.createElement(S.Fragment,null,S.createElement(ru,{size:3,pad:i?3:void 0,value:je,disabled:d,readOnly:y,"aria-label":"milliseconds",min:ke("milliseconds"),max:q("milliseconds"),emptyChar:s,onSelect:R,onChange:F=>Pe("milliseconds",F),onKeyDown:F=>L("milliseconds",F)}),f&&S.createElement("span",null,f)),r&&S.createElement("div",{role:"listbox","aria-label":"AM/PM","aria-disabled":d,"aria-readonly":y,className:"rw-time-part-meridiem"},S.createElement("div",{"data-focusable":!0,role:"option","aria-atomic":!0,"aria-selected":!0,"aria-setsize":2,"aria-live":"assertive","aria-disabled":d,"aria-readonly":y,"aria-posinset":Ue==="AM"?1:2,tabIndex:d?void 0:0,onFocus:R,onSelect:R,onKeyDown:F=>L("meridiem",F)},S.createElement("abbr",null,Ue))),!a&&S.createElement(iy,{label:"clear input",onClick:ae,disabled:d||y,className:ge("rw-time-input-clear",hn&&"rw-show")},CI))}dy.propTypes=p4;dy.defaultProps=m4;const y4=["input","textarea","select",'button:not([tabindex="-1"])','[tabindex="0"]'].join(","),v4=()=>document;function _4(e,t=y4){const n=g.useRef(!1);return jI(v4,"keydown",r=>{if(!n.current||!e.current||r.key!=="Tab")return;const i=e.current.querySelectorAll(t);r.shiftKey&&r.target===i[0]?(i[i.length-1].focus(),r.preventDefault()):(!r.shiftKey&&r.target===i[i.length-1]||!e.current.contains(r.target))&&(i[0].focus(),r.preventDefault())}),g.useMemo(()=>({focus(){const i=e.current.querySelectorAll(t)[0];i&&i.focus()},start(){n.current=!0},stop(){n.current=!1}}),[e,t])}const E4=["id","value","onChange","onSelect","onToggle","onKeyDown","onKeyPress","onCurrentDateChange","inputProps","calendarProps","timeInputProps","popupProps","autoFocus","tabIndex","disabled","readOnly","className","valueFormat","valueDisplayFormat","valueEditFormat","containerClassName","name","selectIcon","placeholder","includeTime","min","max","open","dropUp","parse","messages","formats","currentDate","popupTransition","popupComponent","timePrecision","aria-labelledby","aria-describedby"];function Di(){return Di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Di.apply(this,arguments)}function w4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}let T4={value:_.instanceOf(Date),onChange:_.func,open:_.bool,onToggle:_.func,currentDate:_.instanceOf(Date),onCurrentDateChange:_.func,onSelect:_.func,min:_.instanceOf(Date),max:_.instanceOf(Date),valueFormat:_.any,valueDisplayFormat:_.any,valueEditFormat:_.any,includeTime:_.bool,timePrecision:_.oneOf(["minutes","seconds","milliseconds"]),timeInputProps:_.object,selectIcon:_.node,dropUp:_.bool,popupTransition:_.elementType,placeholder:_.string,name:_.string,autoFocus:_.bool,disabled:_.bool,readOnly:_.bool,parse:_.oneOfType([_.any,_.func]),tabIndex:_.any,"aria-labelledby":_.string,"aria-describedby":_.string,localizer:_.any,onKeyDown:_.func,onKeyPress:_.func,onBlur:_.func,onFocus:_.func,containerClassName:_.string,calendarProps:_.object,inputProps:_.object,messages:_.shape({dateButton:_.string})};const I4=Object.assign({},pi.defaultProps,{min:new Date(1900,0,1),max:new Date(2099,11,31),selectIcon:C2,formats:{}}),py=S.forwardRef((e,t)=>{const n=SI(e,{open:"onToggle",value:"onChange",currentDate:"onCurrentDateChange"}),{id:r,value:i,onChange:s,onSelect:o,onToggle:a,onKeyDown:l,onKeyPress:u,onCurrentDateChange:c,inputProps:f,calendarProps:h,timeInputProps:d,popupProps:y,autoFocus:v,tabIndex:w,disabled:m,readOnly:p,className:E,valueFormat:I,valueDisplayFormat:P=I,valueEditFormat:C=I,containerClassName:D,name:N,selectIcon:H,placeholder:V,includeTime:_e=!1,min:ne,max:ke,open:q,dropUp:re,parse:ae,messages:Pe,formats:R,currentDate:L,popupTransition:B,popupComponent:se=Rl,timePrecision:he,"aria-labelledby":rt,"aria-describedby":ct}=n,Wt=w4(n,E4),je=ay(Pe,R),Ue=g.useRef(null),hn=g.useRef(null),F=_4(hn),J=Rt(r,"_input"),te=Rt(r,"_date"),le=_e?"datetime":"date",Te=Bf(q,a),[Ie,qe]=Ti(Ue,e,{didHandle(j){j?q&&F.focus():(Te.close(),F.stop())}}),De=g.useCallback(j=>{var Ne,Oe;if(typeof ae=="function"){var qt;return(qt=ae(j,je))!=null?qt:null}return(Ne=je.parseDate(j,(Oe=ae??C)!=null?Oe:P))!=null?Ne:null},[je,ae,P,C]),Je=yn((j,Ne,Oe)=>{p||m||(Oe&&(j=dn(j)),s&&(j==null||i==null?j!=i&&s(j,Ne):z.eq(j,i)||s(j,Ne)))}),Kt=yn(j=>{p||(Ke(l,[j]),!j.defaultPrevented&&(j.key==="Escape"&&q?Te.close():j.altKey&&(j.key==="ArrowDown"?(j.preventDefault(),Te.open()):j.key==="ArrowUp"&&(j.preventDefault(),Te.close()))))}),Q=yn(j=>{Ke(u,[j]),j.defaultPrevented}),tr=yn(j=>{var Ne;let Oe=z.merge(j,i,L),qt=tt(j);_e||Te.close(),Ke(o,[Oe,qt]),Je(Oe,qt,!0),(Ne=Ue.current)==null||Ne.focus()}),M=yn(j=>{Je(j,tt(j),!0)}),ye=yn(j=>{p||m||(j.preventDefault(),Te())}),oe=()=>{F.start(),requestAnimationFrame(()=>{F.focus()})},Re=()=>{F.stop(),qe&&ft()};function ft(){var j,Ne;q?(j=hn.current)==null||j.focus():(Ne=Ue.current)==null||Ne.focus()}function dn(j){return j==null?j:z.max(z.min(j,ke),ne)}function tt(j){return j instanceof Date&&!isNaN(j.getTime())?je.formatDate(j,le):""}g.useImperativeHandle(t,()=>({focus:ft}));let Ht=Ff(qe,q);const ht=(f==null?void 0:f.readOnly)!=null?f==null?void 0:f.readOnly:p;return S.createElement(us,Di({},Wt,{defaultValue:void 0,open:!!q,dropUp:re,focused:qe,disabled:m,readOnly:p,onKeyDown:Kt,onKeyPress:Q},Ie,{className:ge(E,"rw-date-picker")}),S.createElement(jf,{className:D},S.createElement(nS,Di({},f,{id:J,ref:Ue,role:"combobox",name:N,value:i,tabIndex:w,autoFocus:v,placeholder:V,disabled:m,readOnly:ht,formatter:le,displayFormat:P,editFormat:C,editing:qe,localizer:je,parse:De,onChange:Je,"aria-haspopup":!0,"aria-labelledby":rt,"aria-describedby":ct,"aria-expanded":!!q,"aria-owns":te})),S.createElement(JI,{icon:H,label:je.messages.dateButton(),disabled:m||p,onClick:ye})),!!Ht&&S.createElement(se,Di({},y,{dropUp:re,open:q,role:"dialog",ref:hn,id:te,className:"rw-calendar-popup",transition:B,onEntering:oe,onExited:Re}),S.createElement(pi,Di({min:ne,max:ke,bordered:!1},h,{messages:Object.assign({},Pe,h==null?void 0:h.messages),tabIndex:-1,value:i,autoFocus:!1,onChange:tr,currentDate:L,onCurrentDateChange:c,"aria-hidden":!q,"aria-live":"polite","aria-labelledby":J})),_e&&S.createElement(dy,Di({},d,{value:i,precision:he,onChange:M,datePart:L}))))});py.displayName="DatePicker";py.propTypes=T4;py.defaultProps=I4;const Up=2**31-1;function iS(e,t,n){const r=n-Date.now();e.current=r<=Up?setTimeout(t,r):setTimeout(()=>iS(e,t,n),Up)}function S4(){const e=Mf(),t=g.useRef();return HI(()=>clearTimeout(t.current)),g.useMemo(()=>{const n=()=>clearTimeout(t.current);function r(i,s=0){e()&&(n(),s<=Up?t.current=setTimeout(i,s):iS(t,i,Date.now()+s))}return{set:r,clear:n,handleRef:t}},[])}const C4=["children"];function Bp(){return Bp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bp.apply(this,arguments)}function x4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const my={},P4={searchTerm:ie.string,focused:ie.bool,onSelect:ie.func.isRequired,activeId:ie.string};function gy(e){let{children:t}=e,n=x4(e,C4);return S.createElement(cy,Bp({},n,{dataItem:my,className:"rw-list-option-create",selected:!1}),t)}gy.propTypes=P4;const sS=S.forwardRef(function({name:e,autoComplete:t,value:n,allowSearch:r,placeholder:i,textAccessor:s,dataKeyAccessor:o,searchTerm:a,onSearch:l,onAutofill:u,onAutofillChange:c,renderValue:f,disabled:h,readOnly:d},y){const[v,w]=g.useState(!1),m=g.useRef(null),p=({animationName:H})=>{let V;if(H==="react-widgets-autofill-start")V=!0;else if(H==="react-widgets-autofill-cancel")V=!1;else return;w(V),u(V)},E=H=>{w(!1),c(H)};let I=o(n),P=n==null?"":s(n),C=String(I??"");C===String({})&&(C="");const D=!n&&i?S.createElement("span",{className:"rw-placeholder"},i):f?f({item:n,dataKey:I,text:P}):P;g.useImperativeHandle(y,()=>({focus(){m.current&&m.current.focus()}}));const N=v?{display:"none"}:void 0;return S.createElement("div",{className:"rw-dropdown-list-input"},t!=="off"&&S.createElement("input",{name:e,tabIndex:-1,disabled:h,readOnly:d,value:C??"",autoComplete:t,onChange:E,onAnimationStart:p,"aria-hidden":!v,className:ge("rw-detect-autofill",!v&&"rw-sr")}),S.createElement(S.Fragment,null,r&&S.createElement("input",{ref:m,disabled:h,readOnly:d,style:N,className:"rw-dropdownlist-search",autoComplete:"off",value:a||"",size:(a||"").length+2,onChange:l}),!a&&S.createElement("span",{className:"rw-dropdown-list-value",style:N},D)))});sS.displayName="DropdownListInput";function oS(e,{searchTerm:t="",data:n,dataItems:r,accessors:i}){const s=a=>i.text(a).toLowerCase()===t.toLowerCase();return!!((e===!0||e==="onFilter"&&t)&&!(r&&r.some(s)||n.some(s)))}const R4=["className","busy","visible","icon","spinner"];function zp(){return zp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zp.apply(this,arguments)}function A4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const aS=e=>{let{className:t,busy:n,visible:r,icon:i=Lf,spinner:s=ry}=e,o=A4(e,R4);return g.createElement("span",zp({},o,{"aria-hidden":"true",className:ge(t,"rw-btn rw-picker-caret")}),n?s:r?i:null)},D4=["id","autoFocus","textField","dataKey","value","defaultValue","onChange","open","defaultOpen","onToggle","searchTerm","defaultSearchTerm","onSearch","filter","allowCreate","delay","focusFirstItem","className","containerClassName","placeholder","busy","disabled","readOnly","selectIcon","busySpinner","dropUp","tabIndex","popupTransition","name","autoComplete","onSelect","onCreate","onKeyPress","onKeyDown","onClick","inputProps","listProps","popupProps","renderListItem","renderListGroup","optionComponent","renderValue","groupBy","onBlur","onFocus","listComponent","popupComponent","data","messages"];function bs(){return bs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bs.apply(this,arguments)}function k4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const N4={value:_.any,onChange:_.func,open:_.bool,onToggle:_.func,data:_.array,dataKey:Tn,textField:Tn,allowCreate:_.oneOf([!0,!1,"onFilter"]),renderValue:_.func,renderListItem:_.func,listComponent:Lh,optionComponent:Lh,renderPopup:_.func,renderListGroup:_.func,groupBy:Tn,onSelect:_.func,onCreate:_.func,onSearch:_.func,searchTerm:_.string,busy:_.bool,selectIcon:_.node,busySpinner:_.node,placeholder:_.string,dropUp:_.bool,popupTransition:Lh,disabled:fn.acceptsArray,readOnly:fn,containerClassName:_.string,inputProps:_.object,listProps:_.object,messages:_.shape({open:_.string,emptyList:rn,emptyFilter:rn,createOption:rn})};function O4(e){const t=S4(),n=g.useRef("");function r(i,s){let o=(n.current+i).toLowerCase();i&&(n.current=o,t.set(()=>{n.current="",s(o)},e))}return r}const lS=S.forwardRef(function(t,n){let{id:r,autoFocus:i,textField:s,dataKey:o,value:a,defaultValue:l,onChange:u,open:c,defaultOpen:f=!1,onToggle:h,searchTerm:d,defaultSearchTerm:y="",onSearch:v,filter:w=!0,allowCreate:m=!1,delay:p=500,focusFirstItem:E,className:I,containerClassName:P,placeholder:C,busy:D,disabled:N,readOnly:H,selectIcon:V=Lf,busySpinner:_e,dropUp:ne,tabIndex:ke,popupTransition:q,name:re,autoComplete:ae,onSelect:Pe,onCreate:R,onKeyPress:L,onKeyDown:B,onClick:se,inputProps:he,listProps:rt,popupProps:ct,renderListItem:Wt,renderListGroup:je,optionComponent:Ue,renderValue:hn,groupBy:F,onBlur:J,onFocus:te,listComponent:le=Ro,popupComponent:Te=Rl,data:Ie=[],messages:qe}=t,De=k4(t,D4);const[Je,Kt]=wn(a,l,u),[Q,tr]=wn(c,f,h),[M,ye]=wn(d,y,v),oe=g.useRef(null),Re=g.useRef(null),ft=g.useRef(null),dn=Rt(r,"_input"),tt=Rt(r,"_listbox"),Ht=Rt(r,"_listbox_active_option"),ht=Uf(s,o),j=ay(qe);BI(!!i,oe);const Ne=Bf(Q,tr),Oe=N===!0,qt=!!H,[pn,jn]=Ti(oe,{disabled:Oe,onBlur:J,onFocus:te},{didHandle(G){if(G){w&&Qt();return}Ne.close(),mn()}}),Rn=fy(Ie,Q?w:!1,M,ht.text),cs=g.useMemo(()=>Rn[ht.indexOf(Rn,Je)],[Rn,Je,ht]),Be=il({activeId:Ht,scope:oe,focusFirstItem:E,anchorItem:Q?cs:void 0}),[nn,fs]=g.useState(!1),Ii=O4(p),yt=Be.getFocused();ZI(oe,Ht,yt&&Q,[yt]);const ze=oS(m,{searchTerm:M,data:Rn,accessors:ht}),Un=G=>{Ke(R,[M]),mn(G),Ne.close(),Qt()},Si=(G,Ee)=>{if(!(H||Oe)&&G!==void 0){if(Ee==null||Ee.preventDefault(),G===my){Un(Ee);return}Ke(Pe,[G,{originalEvent:Ee}]),Ci(G,Ee,!0),Ne.close(),Qt()}},Vr=G=>{H||Oe||(G.preventDefault(),Qt(),Ne(),Ke(se,[G]))},ue=G=>{if(H||Oe)return;let{key:Ee,altKey:dt,ctrlKey:br,shiftKey:ds}=G;Ke(B,[G]);let mr=()=>{mn(),Ne.close(),Q&&setTimeout(Qt)};if(!G.defaultPrevented){if(Ee==="End"&&Q&&!ds)G.preventDefault(),Be.focus(Be.last());else if(Ee==="Home"&&Q&&!ds)G.preventDefault(),Be.focus(Be.first());else if(Ee==="Escape"&&(Q||M))G.preventDefault(),mr();else if(Ee==="Enter"&&Q&&br&&ze)G.preventDefault(),Un(G);else if((Ee==="Enter"||Ee===" "&&!w)&&Q)G.preventDefault(),Be.hasFocused()&&Si(Be.getFocused(),G);else if(Ee==="ArrowDown"){if(G.preventDefault(),!Q){Ne.open();return}Be.focus(Be.next())}else if(Ee==="ArrowUp"){if(G.preventDefault(),dt)return mr();Be.focus(Be.prev())}}},We=G=>{H||Oe||(Ke(L,[G]),!(G.defaultPrevented||w)&&Ii(String.fromCharCode(G.which),Ee=>{if(!Q)return;let dt=xi=>tS.startsWith(ht.text(xi).toLowerCase(),Ee.toLowerCase());const[br,ds]=Be.get(),mr=br.length,W=br.indexOf(ds)+1,we=W>=mr?0:W;let Bn=0,An=we;for(;Bn<mr;){An=(Bn+we)%mr;let xi=br[An];if(dt(Be.toDataItem(xi)))break;Bn++}Bn!==mr&&Be.focus(br[An])}))},nr=G=>{!Q&&!G.target.value.trim()?G.preventDefault():Ao(G.target.value,G,"input"),Ne.open()},hs=G=>{let Ee=G.target.value.toLowerCase();if(Ee==="")return void Ci(null);for(const dt of Ie)if(String(ht.value(dt)).toLowerCase()===Ee||ht.text(dt).toLowerCase()===Ee){Ci(dt,G);break}};function Ci(G,Ee,dt=!1){ht.matches(G,Je)||(Ke(Kt,[G,{originalEvent:Ee,source:dt?"listbox":"input",lastValue:Je,searchTerm:M}]),mn(Ee),Ne.close())}function Qt(){w?Re.current.focus():oe.current.focus()}function mn(G){Ao("",G,"clear")}function Ao(G,Ee,dt="input"){M!==G&&ye(G,{action:dt,originalEvent:Ee,lastSearchTerm:M})}g.useImperativeHandle(n,()=>({focus:Qt}));let Do=ht.findOrSelf(Rn,Je),zf=Ff(jn,Q);const ko=Object.assign({},De,{role:"combobox",id:dn,tabIndex:w?-1:ke||0,"aria-owns":De["aria-owns"]?`${tt} ${De["aria-owns"]}`:tt,"aria-controls":De["aria-controls"]?`${tt} ${De["aria-controls"]}`:tt,"aria-expanded":!!Q,"aria-haspopup":"listbox","aria-busy":!!D,"aria-live":Q?"polite":void 0,"aria-autocomplete":"list","aria-disabled":Oe,"aria-readonly":qt});return S.createElement(fo.Provider,{value:Be.context},S.createElement(us,bs({},ko,{open:!!Q,dropUp:!!ne,focused:!!jn,disabled:Oe,readOnly:qt,autofilling:nn},pn,{onKeyDown:ue,onKeyPress:We,className:ge(I,"rw-dropdown-list"),ref:oe}),S.createElement(jf,{onClick:Vr,tabIndex:w?-1:0,className:ge(P,"rw-widget-input")},S.createElement(sS,bs({},he,{value:Do,dataKeyAccessor:ht.value,textAccessor:ht.text,name:re,readOnly:H,disabled:Oe,allowSearch:!!w,searchTerm:M,ref:Re,autoComplete:ae,onSearch:nr,onAutofill:fs,onAutofillChange:hs,placeholder:C,renderValue:hn})),S.createElement(aS,{visible:!0,busy:D,icon:V,spinner:_e})),zf&&S.createElement(Te,bs({},ct,{dropUp:ne,open:Q,transition:q,onEntered:Qt,onEntering:()=>ft.current.scrollIntoView()}),S.createElement(le,bs({},rt,{id:tt,data:Rn,tabIndex:-1,disabled:N,groupBy:F,searchTerm:M,accessors:ht,renderItem:Wt,renderGroup:je,optionComponent:Ue,value:cs,onChange:(G,Ee)=>Si(G,Ee.originalEvent),"aria-live":Q?"polite":void 0,"aria-labelledby":dn,"aria-hidden":!Q,ref:ft,messages:{emptyList:Ie.length?j.messages.emptyFilter:j.messages.emptyList}})),ze&&S.createElement(gy,{onSelect:Un},j.messages.createOption(Je,M||"")))))});lS.displayName="DropdownList";lS.propTypes=N4;const V4=["defaultValue","value","onChange","textField","dataKey","data","onKeyDown","disabled","readOnly","onBlur","onFocus","multiple"];function Wp(){return Wp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wp.apply(this,arguments)}function b4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const L4={data:_.array,dataKey:Tn,textField:Tn,onSelect:_.func,onMove:_.func,onHoverOption:_.func,optionComponent:_.elementType,renderItem:_.func,renderGroup:_.func,focusedItem:_.any,selectedItem:_.any,searchTerm:_.string,disabled:fn.acceptsArray,messages:_.shape({emptyList:_.func.isRequired})},uS=S.forwardRef(function(t,n){let{defaultValue:r,value:i,onChange:s,textField:o,dataKey:a,data:l,onKeyDown:u,disabled:c,readOnly:f,onBlur:h,onFocus:d,multiple:y}=t,v=b4(t,V4);const[w,m]=wn(i,r,s),p=Uf(o,a),E=g.useMemo(()=>MI(w,y).map(re=>p.findOrSelf(l,re)),[w,y,p,l]),I=g.useRef(null),P=g.useRef(E[E.length-1]),C=il({scope:I,anchorItem:P.current}),D=c===!0,N=(re,ae)=>{D||f||(P.current=ae.dataItem,m(re,ae))},H=qI(!!y,E,N),[V,_e]=Ti(I,{disabled:D,onBlur:h,onFocus:d},{didHandle(re){re?ne({preventScroll:!0}):C.focus(void 0)}});function ne(re){I.current&&I.current.focus(re)}const ke=re=>{if(D||f)return;let{key:ae,shiftKey:Pe}=re;Ke(u,[re]),!re.defaultPrevented&&(ae==="End"&&!Pe?(re.preventDefault(),C.focus(C.last())):ae==="Home"&&!Pe?(re.preventDefault(),C.focus(C.first())):ae==="Enter"||ae===" "?(re.preventDefault(),C.getFocused()&&H(C.getFocused(),re)):ae==="ArrowDown"?(re.preventDefault(),C.focus(C.next())):ae==="ArrowUp"&&(re.preventDefault(),C.focus(C.prev())))},q=UI({focused:_e,readOnly:f,disabled:D,className:ge(v.className,"rw-listbox rw-widget-input rw-widget")});return S.createElement(fo.Provider,{value:C.context},S.createElement(Ro,Wp({},v,q,{disabled:c,tabIndex:D?-1:0,data:l,elementRef:I,value:E,multiple:y,accessors:p},V,{onChange:N,onKeyDown:ke})))});uS.displayName="Listbox";uS.propTypes=L4;function M4(e,t,n){e.closest&&!n&&e.closest(t);var r=e;do{if(LI(r,t))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}const $4=["disabled","readOnly"];function Kp(){return Kp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kp.apply(this,arguments)}function F4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const j4={value:_.string,placeholder:_.string,maxLength:_.number,onChange:_.func.isRequired,disabled:fn,readOnly:fn},yy=S.forwardRef((e,t)=>{let{disabled:n,readOnly:r}=e,i=F4(e,$4),s=Math.max(String(i.value||i.placeholder||"").length,1)+1;return S.createElement("input",Kp({spellCheck:"false",autoCapitalize:"off"},i,{size:s,ref:t,autoComplete:"off",className:"rw-multiselect-input","aria-disabled":n,"aria-readonly":r,disabled:n,readOnly:r}))});yy.displayName="MultiselectInput";yy.propTypes=j4;function U4({className:e,children:t,style:n,label:r,disabled:i,readOnly:s,onRemove:o,clearTagIcon:a,dataItem:l}){const[u,c,f]=WI(l),h=d=>{i||o(l,d)};return S.createElement("div",{ref:u,role:"option",id:f,"data-rw-option":"","data-rw-focusable":i?void 0:"","data-rw-focused":c?"":void 0,className:ge(e,"rw-multiselect-tag",i&&"rw-state-disabled",c&&!i&&"rw-state-focus"),style:n},S.createElement("span",{className:"rw-multiselect-tag-label"},t),S.createElement("button",{type:"button",tabIndex:-1,onClick:h,onTouchEnd:h,disabled:i||s,className:"rw-multiselect-tag-btn","aria-label":r||"Remove item"},a))}function B4({id:e,value:t,textAccessor:n,label:r,disabled:i,readOnly:s,onDelete:o,children:a,clearTagIcon:l,renderTagValue:u,tagOptionComponent:c=U4}){return S.createElement("div",{id:e,role:"listbox","aria-label":r,"aria-multiselectable":"true","aria-orientation":"horizontal",className:"rw-multiselect-taglist"},t.map((f,h)=>{const d=Array.isArray(i)?i.includes(f):!!i;return S.createElement(c,{key:h,dataItem:f,onRemove:o,clearTagIcon:l,disabled:d,readOnly:s},u?u({item:f}):n(f))}),a)}const z4=["dataKey","textField","autoFocus","id","value","defaultValue","onChange","open","defaultOpen","onToggle","focusFirstItem","searchTerm","defaultSearchTerm","onSearch","filter","allowCreate","className","containerClassName","placeholder","busy","disabled","readOnly","selectIcon","clearTagIcon","busySpinner","dropUp","tabIndex","popupTransition","showPlaceholderWithValues","showSelectedItemsInList","onSelect","onCreate","onKeyDown","onBlur","onFocus","inputProps","listProps","popupProps","renderListItem","renderListGroup","renderTagValue","optionComponent","tagOptionComponent","groupBy","listComponent","popupComponent","tagListComponent","data","messages"];function Ls(){return Ls=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ls.apply(this,arguments)}function W4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const K4=13,i0="insert",$h="remove";let H4={data:_.array,value:_.array,onChange:_.func,searchTerm:_.string,onSearch:_.func,open:_.bool,handleOpen:_.func,dataKey:Tn,textField:Tn,renderTagValue:_.func,renderListItem:_.func,renderListGroup:_.func,groupBy:Tn,allowCreate:_.oneOf([!0,!1,"onFilter"]),onSelect:_.func,onCreate:_.func,busy:_.bool,selectIcon:_.node,clearTagIcon:_.node,busySpinner:_.node,dropUp:_.bool,popupTransition:_.elementType,containerClassName:_.string,inputProps:_.object,listProps:_.object,autoFocus:_.bool,placeholder:_.string,showPlaceholderWithValues:_.bool,showSelectedItemsInList:_.bool,disabled:fn.acceptsArray,readOnly:fn,messages:_.shape({open:rn,emptyList:rn,emptyFilter:rn,createOption:rn,tagsLabel:rn,selectedItems:rn,noneSelected:rn,removeLabel:rn})};const q4=[];function Q4(e=q4,t,n,r,i,s){return t=g.useMemo(()=>s?t:t.filter(o=>!e.some(a=>n.matches(o,a))),[t,s,e,n]),[fy(t,r||!1,i,n.text),t.length]}const cS=S.forwardRef(function(t,n){let{dataKey:r,textField:i,autoFocus:s,id:o,value:a,defaultValue:l=[],onChange:u,open:c,defaultOpen:f=!1,onToggle:h,focusFirstItem:d=!1,searchTerm:y,defaultSearchTerm:v="",onSearch:w,filter:m="startsWith",allowCreate:p=!1,className:E,containerClassName:I,placeholder:P,busy:C,disabled:D,readOnly:N,selectIcon:H,clearTagIcon:V=CI,busySpinner:_e,dropUp:ne,tabIndex:ke,popupTransition:q,showPlaceholderWithValues:re=!1,showSelectedItemsInList:ae=!1,onSelect:Pe,onCreate:R,onKeyDown:L,onBlur:B,onFocus:se,inputProps:he,listProps:rt,popupProps:ct,renderListItem:Wt,renderListGroup:je,renderTagValue:Ue,optionComponent:hn,tagOptionComponent:F,groupBy:J,listComponent:te=Ro,popupComponent:le=Rl,tagListComponent:Te=B4,data:Ie=[],messages:qe}=t,De=W4(t,z4),[Je,Kt]=wn(a,l,u);const[Q,tr]=wn(c,f,h),[M,ye]=wn(y,v,w),oe=g.useRef(null),Re=g.useRef(null),ft=g.useRef(null),dn=Rt(o,"_input"),tt=Rt(o,"_taglist"),Ht=Rt(o,"_listbox"),ht=Rt(o,"_createlist_option"),j=Rt(o,"_taglist_active_tag"),Ne=Rt(o,"_listbox_active_option"),Oe=Uf(i,r),qt=oy(qe),pn=Bf(Q,tr),jn=D===!0,Rn=!!N,[cs,Be]=Ti(oe,{disabled:jn,onBlur:B,onFocus:se},{didHandle(W,we){if(W)return dt();pn.close(),G(we),ze.focus(null)}}),nn=g.useMemo(()=>Je.map(W=>Oe.findOrSelf(Ie,W)),[Ie,Je,Oe]),[fs,Ii]=Q4(nn,Ie,Oe,Q?m:!1,M,ae),yt=il({scope:oe,scopeSelector:".rw-popup",focusFirstItem:d,activeId:Ne,anchorItem:Q?nn[nn.length-1]:void 0}),ze=il({scope:oe,scopeSelector:".rw-multiselect-taglist",activeId:j}),Un=oS(p,{searchTerm:M,data:fs,dataItems:nn,accessors:Oe}),Si=ze.getFocused();g.useEffect(()=>{Q||bp(Re.current,Si?j:"")},[j,Q,Si]);const Vr=yt.getFocused();g.useEffect(()=>{Q&&bp(Re.current,Vr?Ne:"")},[Ne,Q,Vr]);const ue=(W,we)=>{jn||N||ze.size()===0||(dt(),ko(W,we,$h))},We=g.useRef(!1),nr=W=>{W.key==="Backspace"&&W.currentTarget.value&&!We.current&&(We.current=!0)},hs=W=>{W.key==="Backspace"&&We.current&&(We.current=!1)},Ci=W=>{Ee(W.target.value,W,"input"),pn.open()},Qt=W=>{jn||N||(W.preventDefault(),dt(),M4(W.target,".rw-select")&&Q?pn.close():pn.open())},mn=()=>{jn||!Re.current||(dt(),Re.current&&Re.current.select())},Ao=(W,we)=>{if(W!==void 0){if(we.preventDefault(),W===my){Do(we);return}Ke(Pe,[W,{originalEvent:we}]),!ae||!nn.includes(W)?ko(W,we,i0):ko(W,we,$h),dt()}},Do=W=>{Ke(R,[M]),G(W),dt()},zf=W=>{if(N){W.preventDefault();return}let{key:we,keyCode:Bn,altKey:An,ctrlKey:xi}=W;if(Ke(L,[W]),!W.defaultPrevented)if(we==="ArrowDown"){if(W.preventDefault(),!Q){pn.open();return}yt.focus(yt.next()),ze.focus(null)}else if(we==="ArrowUp"&&(Q||An)){if(W.preventDefault(),An){pn.close();return}yt.focus(yt.prev()),ze.focus(null)}else if(we==="End")W.preventDefault(),Q?(yt.focus(yt.last()),ze.focus(null)):(ze.focus(ze.last()),yt.focus(null));else if(we==="Home")W.preventDefault(),Q?yt.focus(yt.first()):yt.focus(ze.first());else if(Q&&Bn===K4){if(W.preventDefault(),xi&&Un)return Do(W);Ao(yt.getFocused(),W)}else we==="Escape"?Q?pn.close():ze.focus(null):!M&&!We.current&&(we==="ArrowLeft"?ze.focus(ze.prev({behavior:"loop"})):we==="ArrowRight"?ze.focus(ze.next({behavior:"loop"})):we==="Delete"&&ze.getFocused()?ue(ze.getFocused(),W):we==="Backspace"?ue(ze.toDataItem(ze.last()),W):we===" "&&!Q&&(W.preventDefault(),pn.open()))};function ko(W,we,Bn){let An=nn;switch(Bn){case i0:An=An.concat(W);break;case $h:An=An.filter(xi=>xi!==W);break}Kt(An,{action:Bn,dataItem:W,originalEvent:we,searchTerm:M,lastValue:Je}),G(we)}function G(W){Ee("",W,"clear")}function Ee(W,we,Bn="input"){W!==M&&ye(W,{action:Bn,originalEvent:we,lastSearchTerm:M})}function dt(){Re.current&&Re.current.focus()}g.useImperativeHandle(n,()=>({focus:dt}));let br=Ff(Be,Q),ds=!!nn.length,mr=`${Ht} `+(ds?tt:"")+(Un?ht:"");return S.createElement(us,Ls({},De,{ref:oe,open:Q,dropUp:ne,focused:Be,disabled:jn,readOnly:Rn,onKeyDown:zf},cs,{className:ge(E,"rw-multiselect")}),S.createElement(jf,{onClick:Qt,onTouchEnd:Qt,onDoubleClick:mn,className:ge(I,"rw-widget-input")},S.createElement(fo.Provider,{value:ze.context},S.createElement(Te,{id:tt,textAccessor:Oe.text,clearTagIcon:V,label:qt.tagsLabel(),value:nn,readOnly:Rn,disabled:D,onDelete:ue,tagOptionComponent:F,renderTagValue:Ue},S.createElement(yy,Ls({},he,{role:"combobox",autoFocus:s,tabIndex:ke||0,"aria-expanded":!!Q,"aria-busy":!!C,"aria-owns":mr,"aria-controls":Ht,"aria-haspopup":"listbox","aria-autocomplete":"list",value:M,disabled:jn,readOnly:Rn,placeholder:(Je.length&&!re?"":P)||"",onKeyDown:nr,onKeyUp:hs,onChange:Ci,ref:Re})))),S.createElement(aS,{busy:C,spinner:_e,icon:H,visible:Be})),S.createElement(fo.Provider,{value:yt.context},br&&S.createElement(le,Ls({},ct,{dropUp:ne,open:Q,transition:q,onEntering:()=>ft.current.scrollIntoView()}),S.createElement(te,Ls({},rt,{id:Ht,data:fs,tabIndex:-1,disabled:D,searchTerm:M,accessors:Oe,renderItem:Wt,renderGroup:je,value:nn,groupBy:J,optionComponent:hn,onChange:(W,we)=>Ao(W,we.originalEvent),"aria-live":"polite","aria-labelledby":dn,"aria-hidden":!Q,ref:ft,messages:{emptyList:Ii?qt.emptyFilter:qt.emptyList}})),Un&&S.createElement(gy,{onSelect:Do},qt.createOption(Je,M)))))});cS.displayName="Multiselect";cS.propTypes=H4;function G4(e){e===void 0&&(e=ly());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}const Y4=["disabled","readOnly","placeholder","innerRef","min","max","localizer","editing"];function Hp(){return Hp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hp.apply(this,arguments)}function X4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}let J4=e=>(e||"").trim()==="-";function Z4(e,t){let n=t.decimalCharacter(),[r,i]=e.split(n);return!!(i&&i.match(/0+$/))}function eL(e,t){let n=t.decimalCharacter(),r=e.length-1;if(e.length<1)return!1;let i=e[r];return i===n&&e.indexOf(i)===r}class fS extends S.Component{constructor(...t){super(...t),this.state={},this.handleBlur=n=>{let r=this.state.stringValue,i=this.parseNumber(r);this.isIntermediateValue(i,r)&&(isNaN(i)&&(i=null),this.props.onChange(i,n))},this.handleChange=n=>{let{value:r,onChange:i}=this.props,s=n.target.value,o=this.parseNumber(s),a=this.isIntermediateValue(o,s);if(s==null||s.trim()===""){this.setStringValue(""),i(null,n);return}a?this.setStringValue(s):o!==r?i(o,n):s!=this.state.stringValue&&this.setStringValue(s)}}getSnapshotBeforeUpdate({editing:t}){return{reselectText:!t&&this.props.editing&&this.isSelectingAllText()}}static getDerivedStateFromProps(t,n){let{value:r,editing:i,localizer:s}=t,o=s.decimalCharacter();const a=r==null||isNaN(r)?"":i?(""+r).replace(".",o):s.formatNumber(r);return n.lastValueFromProps!==a?{stringValue:a,lastValueFromProps:a}:null}componentDidUpdate(t,n,{reselectText:r}){r&&Oa.findDOMNode(this).select()}setStringValue(t){this.setState({stringValue:t})}isIntermediateValue(t,n){let{localizer:r,min:i}=this.props;return!!(t<i||J4(n)||eL(n,r)||Z4(n,r))}isSelectingAllText(){const t=wp&&Oa.findDOMNode(this);return wp&&G4()===t&&t.selectionStart===0&&t.selectionEnd===t.value.length}parseNumber(t){let{localizer:n,parse:r}=this.props;return r?r(t,n):n.parseNumber(t)}render(){let t=this.props,{disabled:n,readOnly:r,placeholder:i,innerRef:s,min:o,max:a}=t,l=X4(t,Y4),u=this.state.stringValue;return S.createElement(Pl,Hp({},l,{ref:s,inputMode:"numeric",className:"rw-widget-input",onChange:this.handleChange,onBlur:this.handleBlur,"aria-valuenow":u,"aria-valuemin":isFinite(o)?o:void 0,"aria-valuemax":isFinite(a)?a:void 0,disabled:n,readOnly:r,placeholder:i,value:u}))}}fS.defaultProps={value:null,editing:!1};fS.propTypes={value:_.number,editing:_.bool,placeholder:_.string,localizer:_.object.isRequired,parse:_.func,min:_.number,max:_.number,disabled:fn,readOnly:fn,onChange:_.func.isRequired};_.number,_.func,_.number,_.number,_.number,_.oneOfType([_.number,_.oneOf(["auto"])]),_.any,_.func,_.node,_.node,_.any,_.string,_.string,_.func,_.func,_.func,_.bool,_.string,_.object,_.shape({increment:_.string,decrement:_.string}),_.object;const s0=()=>{const e=Xa(h=>h.productsReducer.products),t=Eo(),{customerID:n,customerName:r}=Wm(),[i,s]=g.useState(""),[o,a]=g.useState(!1),[l,u]=g.useState("");g.useEffect(()=>{o&&t("..")},[o]);const c=async()=>{if(+i.quantity<=0){u("Not enough quantity! can't add the product.");return}const h=new Date,d=h.getFullYear(),y=h.getMonth()+1,v=h.getDate(),w={customerID:n,productID:i.id,date:`${v}/${y}/${d}`,price:i.price};await dO(Ln(Et,"purchases"),w).then(()=>{u("New product added to customer!"),f()})},f=async()=>{const h=ji(Et,"products",i.id);await Gg(h,{...i,quantity:+i.quantity-1}).then(console.log("Product and references updated successfully"))};return T.jsxs("div",{style:{border:"1px solid"},children:[T.jsx("div",{style:{float:"right"},children:T.jsx("button",{onClick:()=>a(!0),children:"X"})}),T.jsx("h2",{children:"Add new product"}),"Name:",` ${r}`,T.jsx("br",{}),"ID:",` ${n}`,T.jsx("br",{}),T.jsx("div",{style:{width:"50%",margin:"20px auto"},children:T.jsx(hy,{data:e,defaultValue:"",dataKey:"id",textField:"name",onChange:h=>s(h)})}),T.jsx("button",{onClick:()=>{c()},children:"Save"}),T.jsx("br",{}),T.jsx("br",{}),T.jsx("p",{children:l})]})},o0=()=>{const e=Xa(w=>w.purchasesReducer.buyingCustomers),{productID:t,productName:n,productPrice:r,productQuantity:i}=Wm(),s=Eo(),[o,a]=g.useState(!1),[l,u]=g.useState(n),[c,f]=g.useState(r),[h,d]=g.useState(i);g.useEffect(()=>{o&&s("..")},[o]);const y=async()=>{const w=ji(Et,"products",t);await Gg(w,{name:l,price:c,quantity:h}).then(console.log("Product and references updated successfully"))},v=async()=>{const w=ji(Et,"products",t),m=Ln(Et,"purchases");await hc(w).then(async()=>{(await Ui(Xn(m,oi("productID","==",t)))).forEach(async E=>{await hc(E.ref)}),console.log("Product and references deleted successfully"),a(!0)})};return T.jsxs("div",{style:{border:"1px solid"},children:[T.jsx("div",{style:{float:"right"},children:T.jsx("button",{onClick:()=>a(!0),children:"X"})}),T.jsx("h2",{children:"Edit product details"}),T.jsx("b",{children:"ID:"})," ",t," ",T.jsx("br",{}),T.jsx("br",{}),T.jsx("b",{children:"Name:"})," ",T.jsx("input",{type:"text",defaultValue:l,onChange:w=>u(w.target.value)})," ",T.jsx("br",{}),T.jsx("br",{}),T.jsx("b",{children:"Price:"})," ",T.jsx("input",{type:"number",defaultValue:+c,onChange:w=>f(+w.target.value)})," ",T.jsx("br",{}),T.jsx("br",{}),T.jsx("b",{children:"Quantity:"})," ",T.jsx("input",{type:"number",defaultValue:+h,onChange:w=>d(+w.target.value)})," ",T.jsx("br",{}),T.jsx("br",{}),T.jsx("button",{onClick:y,children:"Save"}),T.jsx("button",{onClick:v,children:"Delete"}),T.jsx("br",{}),T.jsx("br",{}),T.jsx("h3",{children:"List of Buying Customers"}),e.map(w=>T.jsx("div",{children:T.jsx(Tr,{to:`/products/edit/${w.customerID}`,children:`${w.name}`})},w.customerID))]})},a0=()=>{const{customerID:e}=Wm(),t=Eo(),[n,r]=g.useState(!1),[i,s]=g.useState({id:"",firstName:"",lastName:"",city:""}),[o,a]=g.useState([]);g.useEffect(()=>{n&&t("..")},[n]),g.useEffect(()=>{(async()=>{const h=ji(Et,"customers",e);try{const d=await hO(h);d.exists()?s({...d.data()}):console.log("Document does not exist")}catch(d){console.error("Error getting document:",d)}})(),l()},[]);const l=()=>{const f=Xn(Ln(Et,"purchases"),oi("customerID","==",e));Ui(f).then(h=>{let d=[];h.forEach(v=>{d.push(v.data().productID)}),d=Array.from(new Set(d));const y=Xn(Ln(Et,"products"),oi("id","in",d));Ui(y).then(v=>{let w=[];v.forEach(m=>{w.push({id:m.id,...m.data()})}),a(w)})})},u=async()=>{const f=ji(Et,"customers",i.id);await Gg(f,{firstName:i.firstName,lastName:i.lastName,city:i.city}).then(console.log("Customer and references updated successfully"))},c=async()=>{const f=ji(Et,"customers",i.id),h=Ln(Et,"purchases");await hc(f).then(async()=>{(await Ui(Xn(h,oi("customerID","==",i.id)))).forEach(async y=>{await hc(y.ref)}),console.log("Product and references deleted successfully"),r(!0)})};return T.jsxs("div",{style:{border:"1px solid"},children:[T.jsx("div",{style:{float:"right"},children:T.jsx("button",{onClick:()=>r(!0),children:"X"})}),T.jsx("h2",{children:"Edit customer"}),T.jsx("b",{children:"ID:"})," ",i==null?void 0:i.id," ",T.jsx("br",{}),T.jsx("br",{}),T.jsx("b",{children:"First Name:"})," ",T.jsx("input",{type:"text",onChange:f=>{s(h=>({...h,firstName:f.target.value}))},defaultValue:`${i.firstName}`})," ",T.jsx("br",{}),T.jsx("br",{}),T.jsx("b",{children:"Last Name:"})," ",T.jsx("input",{type:"text",onChange:f=>{s(h=>({...h,lastName:f.target.value}))},defaultValue:`${i.lastName}`})," ",T.jsx("br",{}),T.jsx("br",{}),T.jsx("b",{children:"City:"})," ",T.jsx("input",{type:"text",onChange:f=>{s(h=>({...h,city:f.target.value}))},defaultValue:`${i.city}`})," ",T.jsx("br",{}),T.jsx("br",{}),T.jsx("button",{onClick:u,children:"Save"}),T.jsx("button",{onClick:c,children:"Delete"}),T.jsx("br",{}),T.jsx("br",{}),T.jsx("h2",{children:"List of bought products"}),o==null?void 0:o.map(f=>T.jsx("div",{children:T.jsx(Tr,{to:`/products/edit/${f.id}/${f.name}/${f.price}/${f.quantity}`,children:f.name})},f.id)),T.jsx("br",{})]})};function tL(){return T.jsxs(T.Fragment,{children:[T.jsx("h1",{style:{borderBottom:"1px solid"},children:"Store Management"}),T.jsx("div",{children:T.jsx("div",{style:{fontSize:"30px",marginBottom:"15px",textAlign:"left"},children:T.jsx(Tr,{to:"/store-management",children:"Main Menu"})})}),T.jsxs(AP,{children:[T.jsx(Wn,{path:"/store-management",element:T.jsx(c2,{})}),T.jsxs(Wn,{path:"/products",element:T.jsx(d2,{}),children:[T.jsx(Wn,{path:"add/:customerID/:customerName",element:T.jsx(s0,{})}),T.jsx(Wn,{path:"edit/:productID/:productName/:productPrice/:productQuantity",element:T.jsx(o0,{})}),T.jsx(Wn,{path:"edit/:customerID",element:T.jsx(a0,{})})]}),T.jsxs(Wn,{path:"/customers",element:T.jsx(u2,{}),children:[T.jsx(Wn,{path:"edit/:customerID",element:T.jsx(a0,{})}),T.jsx(Wn,{path:"products/edit/:productID/:productName/:productPrice/:productQuantity",element:T.jsx(o0,{})}),T.jsx(Wn,{path:"add/:customerID/:customerName",element:T.jsx(s0,{})})]}),T.jsx(Wn,{path:"/purchases",element:T.jsx(p2,{})})]})]})}function Gt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var l0=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Fh=function(){return Math.random().toString(36).substring(7).split("").join(".")},yc={INIT:"@@redux/INIT"+Fh(),REPLACE:"@@redux/REPLACE"+Fh(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Fh()}};function nL(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function hS(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Gt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Gt(1));return n(hS)(e,t)}if(typeof e!="function")throw new Error(Gt(2));var i=e,s=t,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(Gt(3));return s}function f(v){if(typeof v!="function")throw new Error(Gt(4));if(l)throw new Error(Gt(5));var w=!0;return u(),a.push(v),function(){if(w){if(l)throw new Error(Gt(6));w=!1,u();var p=a.indexOf(v);a.splice(p,1),o=null}}}function h(v){if(!nL(v))throw new Error(Gt(7));if(typeof v.type>"u")throw new Error(Gt(8));if(l)throw new Error(Gt(9));try{l=!0,s=i(s,v)}finally{l=!1}for(var w=o=a,m=0;m<w.length;m++){var p=w[m];p()}return v}function d(v){if(typeof v!="function")throw new Error(Gt(10));i=v,h({type:yc.REPLACE})}function y(){var v,w=f;return v={subscribe:function(p){if(typeof p!="object"||p===null)throw new Error(Gt(11));function E(){p.next&&p.next(c())}E();var I=w(E);return{unsubscribe:I}}},v[l0]=function(){return this},v}return h({type:yc.INIT}),r={dispatch:h,subscribe:f,getState:c,replaceReducer:d},r[l0]=y,r}var rL=hS;function iL(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:yc.INIT});if(typeof r>"u")throw new Error(Gt(12));if(typeof n(void 0,{type:yc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Gt(13))})}function sL(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var s=Object.keys(n),o;try{iL(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,f={},h=0;h<s.length;h++){var d=s[h],y=n[d],v=l[d],w=y(v,u);if(typeof w>"u")throw u&&u.type,new Error(Gt(14));f[d]=w,c=c||w!==v}return c=c||s.length!==Object.keys(l).length,c?f:l}}const oL={products:[]},aL=(e=oL,t)=>{switch(t.type){case"init-products":return{...e,products:t.payload.productsData};case"reduce-product-quantity":return{...e,products:[e.products.map(n=>n.id===t.payload.productID?{...n,quantity:n.quantity-1}:n)]};default:return e}},lL={totalPurchases:0,purchasedProducts:[],buyingCustomers:[]},uL=(e=lL,t)=>{switch(t.type){case"add-purchase":return{...e,totalPurchases:t.payload.totalPurchases};case"set-purchased-products":return{...e,purchasedProducts:t.payload.purchasedProduct};case"set-purchasing-customers":return{...e,buyingCustomers:t.payload.buyingCustomers};default:return e}},cL={customers:[]},fL=(e=cL,t)=>{switch(t.type){case"init-customers":return{...e,customers:t.payload.customersData};case"add-customer":return{...e,customers:[...e.customers,t.payload.newCustomer]};default:return e}},hL=sL({productsReducer:aL,purchasesReducer:uL,customersReducer:fL}),dL=rL(hL,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());jh.createRoot(document.getElementById("root")).render(T.jsx(t2,{store:dL,children:T.jsx(bP,{children:T.jsx(tL,{})})}));
